"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/graphql-http@1.22.3_graphql@16.10.0";
exports.ids = ["vendor-chunks/graphql-http@1.22.3_graphql@16.10.0"];
exports.modules = {

/***/ "(rsc)/../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/handler.mjs":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/handler.mjs ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHandler: () => (/* binding */ createHandler),\n/* harmony export */   parseRequestParams: () => (/* binding */ parseRequestParams)\n/* harmony export */ });\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql */ \"graphql\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.mjs */ \"(rsc)/../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/utils.mjs\");\n/**\n *\n * handler\n *\n */\n\n\n/** Checks whether the passed value is the `graphql-http` server agnostic response. */\nfunction isResponse(val) {\n    // Make sure the contents of body match string | null\n    if (!Array.isArray(val))\n        return false;\n    if (typeof val[0] !== 'string' && val[0] !== null)\n        return false;\n    if (!(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isObject)(val[1]))\n        return false;\n    // Make sure the contents of init match ResponseInit\n    const init = val[1];\n    if (init.status && typeof init.status !== 'number')\n        return false;\n    if (init.statusText && typeof init.statusText !== 'string')\n        return false;\n    if (init.headers && !(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isObject)(init.headers))\n        return false;\n    return true;\n}\n/**\n * The GraphQL over HTTP spec compliant request parser for an incoming GraphQL request.\n * It parses and validates the request itself, including the request method and the\n * content-type of the body.\n *\n * If the HTTP request itself is invalid or malformed, the function will return an\n * appropriate {@link Response}.\n *\n * If the HTTP request is valid, but is not a well-formatted GraphQL request, the\n * function will throw an error and it is up to the user to handle and respond as\n * they see fit.\n *\n * @category Server\n */\nasync function parseRequestParams(req) {\n    var _a, _b;\n    const method = req.method;\n    if (method !== 'GET' && method !== 'POST') {\n        return [\n            null,\n            {\n                status: 405,\n                statusText: 'Method Not Allowed',\n                headers: {\n                    allow: 'GET, POST',\n                },\n            },\n        ];\n    }\n    const [mediaType, charset = 'charset=utf-8', // utf-8 is assumed when not specified. this parameter is either \"charset\" or \"boundary\" (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length)\n    ] = (getHeader(req, 'content-type') || '')\n        .replace(/\\s/g, '')\n        .toLowerCase()\n        .split(';');\n    const partParams = {};\n    switch (true) {\n        case method === 'GET': {\n            // TODO: what if content-type is specified and is not application/x-www-form-urlencoded?\n            try {\n                const [, search] = req.url.split('?');\n                const searchParams = new URLSearchParams(search);\n                partParams.operationName =\n                    (_a = searchParams.get('operationName')) !== null && _a !== void 0 ? _a : undefined;\n                partParams.query = (_b = searchParams.get('query')) !== null && _b !== void 0 ? _b : undefined;\n                const variables = searchParams.get('variables');\n                if (variables)\n                    partParams.variables = JSON.parse(variables);\n                const extensions = searchParams.get('extensions');\n                if (extensions)\n                    partParams.extensions = JSON.parse(extensions);\n            }\n            catch (_c) {\n                throw new Error('Unparsable URL');\n            }\n            break;\n        }\n        case method === 'POST' &&\n            mediaType === 'application/json' &&\n            charset === 'charset=utf-8':\n            {\n                if (!req.body) {\n                    throw new Error('Missing body');\n                }\n                let data;\n                try {\n                    const body = typeof req.body === 'function' ? await req.body() : req.body;\n                    data = typeof body === 'string' ? JSON.parse(body) : body;\n                }\n                catch (err) {\n                    throw new Error('Unparsable JSON body');\n                }\n                if (!(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isObject)(data)) {\n                    throw new Error('JSON body must be an object');\n                }\n                partParams.operationName = data.operationName;\n                partParams.query = data.query;\n                partParams.variables = data.variables;\n                partParams.extensions = data.extensions;\n                break;\n            }\n        default: // graphql-http doesnt support any other content type\n            return [\n                null,\n                {\n                    status: 415,\n                    statusText: 'Unsupported Media Type',\n                },\n            ];\n    }\n    if (partParams.query == null)\n        throw new Error('Missing query');\n    if (typeof partParams.query !== 'string')\n        throw new Error('Invalid query');\n    if (partParams.variables != null &&\n        (typeof partParams.variables !== 'object' ||\n            Array.isArray(partParams.variables))) {\n        throw new Error('Invalid variables');\n    }\n    if (partParams.operationName != null &&\n        typeof partParams.operationName !== 'string') {\n        throw new Error('Invalid operationName');\n    }\n    if (partParams.extensions != null &&\n        (typeof partParams.extensions !== 'object' ||\n            Array.isArray(partParams.extensions))) {\n        throw new Error('Invalid extensions');\n    }\n    // request parameters are checked and now complete\n    return partParams;\n}\n/**\n * Makes a GraphQL over HTTP spec compliant server handler. The handler can\n * be used with your favorite server library.\n *\n * Beware that the handler resolves only after the whole operation completes.\n *\n * Errors thrown from **any** of the provided options or callbacks (or even due to\n * library misuse or potential bugs) will reject the handler's promise. They are\n * considered internal errors and you should take care of them accordingly.\n *\n * For production environments, its recommended not to transmit the exact internal\n * error details to the client, but instead report to an error logging tool or simply\n * the console.\n *\n * Simple example usage with Node:\n *\n * ```js\n * import http from 'http';\n * import { createHandler } from 'graphql-http';\n * import { schema } from './my-graphql-schema/index.mjs';\n *\n * // Create the GraphQL over HTTP handler\n * const handler = createHandler({ schema });\n *\n * // Create a HTTP server using the handler on `/graphql`\n * const server = http.createServer(async (req, res) => {\n *   if (!req.url.startsWith('/graphql')) {\n *     return res.writeHead(404).end();\n *   }\n *\n *   try {\n *     const [body, init] = await handler({\n *       url: req.url,\n *       method: req.method,\n *       headers: req.headers,\n *       body: () => new Promise((resolve) => {\n *         let body = '';\n *         req.on('data', (chunk) => (body += chunk));\n *         req.on('end', () => resolve(body));\n *       }),\n *       raw: req,\n *     });\n *     res.writeHead(init.status, init.statusText, init.headers).end(body);\n *   } catch (err) {\n *     // BEWARE not to transmit the exact internal error message in production environments\n *     res.writeHead(500).end(err.message);\n *   }\n * });\n *\n * server.listen(4000);\n * console.log('Listening to port 4000');\n * ```\n *\n * @category Server\n */\nfunction createHandler(options) {\n    const { schema, context, validate = graphql__WEBPACK_IMPORTED_MODULE_0__.validate, validationRules = [], execute = graphql__WEBPACK_IMPORTED_MODULE_0__.execute, parse = graphql__WEBPACK_IMPORTED_MODULE_0__.parse, getOperationAST = graphql__WEBPACK_IMPORTED_MODULE_0__.getOperationAST, rootValue, onSubscribe, onOperation, formatError = (err) => err, parseRequestParams: optionsParseRequestParams = parseRequestParams, } = options;\n    return async function handler(req) {\n        let acceptedMediaType = null;\n        const accepts = (getHeader(req, 'accept') || '*/*')\n            .replace(/\\s/g, '')\n            .toLowerCase()\n            .split(',');\n        for (const accept of accepts) {\n            // accept-charset became obsolete, shouldnt be used (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Charset)\n            // TODO: handle the weight parameter \"q\"\n            const [mediaType, ...params] = accept.split(';');\n            const charset = (params === null || params === void 0 ? void 0 : params.find((param) => param.includes('charset='))) || 'charset=utf-8'; // utf-8 is assumed when not specified;\n            if (mediaType === 'application/graphql-response+json' &&\n                charset === 'charset=utf-8') {\n                acceptedMediaType = 'application/graphql-response+json';\n                break;\n            }\n            // application/json should be the default until watershed\n            if ((mediaType === 'application/json' ||\n                mediaType === 'application/*' ||\n                mediaType === '*/*') &&\n                (charset === 'charset=utf-8' || charset === 'charset=utf8')) {\n                acceptedMediaType = 'application/json';\n                break;\n            }\n        }\n        if (!acceptedMediaType) {\n            return [\n                null,\n                {\n                    status: 406,\n                    statusText: 'Not Acceptable',\n                    headers: {\n                        accept: 'application/graphql-response+json; charset=utf-8, application/json; charset=utf-8',\n                    },\n                },\n            ];\n        }\n        let params;\n        try {\n            let paramsOrRes = await optionsParseRequestParams(req);\n            if (!paramsOrRes)\n                paramsOrRes = await parseRequestParams(req);\n            if (isResponse(paramsOrRes))\n                return paramsOrRes;\n            params = paramsOrRes;\n        }\n        catch (err) {\n            return makeResponse(err, acceptedMediaType, formatError);\n        }\n        let args;\n        const maybeResErrsOrArgs = await (onSubscribe === null || onSubscribe === void 0 ? void 0 : onSubscribe(req, params));\n        if (isResponse(maybeResErrsOrArgs))\n            return maybeResErrsOrArgs;\n        else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isExecutionResult)(maybeResErrsOrArgs) ||\n            areGraphQLErrors(maybeResErrsOrArgs))\n            return makeResponse(maybeResErrsOrArgs, acceptedMediaType, formatError);\n        else if (maybeResErrsOrArgs)\n            args = maybeResErrsOrArgs;\n        else {\n            if (!schema)\n                throw new Error('The GraphQL schema is not provided');\n            const { operationName, query, variables } = params;\n            let document;\n            try {\n                document = parse(query);\n            }\n            catch (err) {\n                return makeResponse(err, acceptedMediaType, formatError);\n            }\n            const resOrContext = typeof context === 'function' ? await context(req, params) : context;\n            if (isResponse(resOrContext))\n                return resOrContext;\n            const argsWithoutSchema = {\n                operationName,\n                document,\n                variableValues: variables,\n                contextValue: resOrContext,\n            };\n            if (typeof schema === 'function') {\n                const resOrSchema = await schema(req, argsWithoutSchema);\n                if (isResponse(resOrSchema))\n                    return resOrSchema;\n                args = Object.assign(Object.assign({}, argsWithoutSchema), { schema: resOrSchema });\n            }\n            else {\n                args = Object.assign(Object.assign({}, argsWithoutSchema), { schema });\n            }\n            let rules = graphql__WEBPACK_IMPORTED_MODULE_0__.specifiedRules;\n            if (typeof validationRules === 'function') {\n                rules = await validationRules(req, args, graphql__WEBPACK_IMPORTED_MODULE_0__.specifiedRules);\n            }\n            else {\n                rules = [...rules, ...validationRules];\n            }\n            const validationErrs = validate(args.schema, args.document, rules);\n            if (validationErrs.length) {\n                return makeResponse(validationErrs, acceptedMediaType, formatError);\n            }\n        }\n        let operation;\n        try {\n            const ast = getOperationAST(args.document, args.operationName);\n            if (!ast)\n                throw null;\n            operation = ast.operation;\n        }\n        catch (_a) {\n            return makeResponse(new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Unable to detect operation AST'), acceptedMediaType, formatError);\n        }\n        if (operation === 'subscription') {\n            return makeResponse(new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Subscriptions are not supported'), acceptedMediaType, formatError);\n        }\n        // mutations cannot happen over GETs\n        // https://graphql.github.io/graphql-over-http/draft/#sel-CALFJRPAAELBAAxwP\n        if (operation === 'mutation' && req.method === 'GET') {\n            return [\n                JSON.stringify({\n                    errors: [new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Cannot perform mutations over GET')],\n                }),\n                {\n                    status: 405,\n                    statusText: 'Method Not Allowed',\n                    headers: {\n                        allow: 'POST',\n                    },\n                },\n            ];\n        }\n        if (!('rootValue' in args)) {\n            args.rootValue = rootValue;\n        }\n        if (!('contextValue' in args)) {\n            const resOrContext = typeof context === 'function' ? await context(req, params) : context;\n            if (isResponse(resOrContext))\n                return resOrContext;\n            args.contextValue = resOrContext;\n        }\n        let result = await execute(args);\n        const maybeResponseOrResult = await (onOperation === null || onOperation === void 0 ? void 0 : onOperation(req, args, result));\n        if (isResponse(maybeResponseOrResult))\n            return maybeResponseOrResult;\n        else if (maybeResponseOrResult)\n            result = maybeResponseOrResult;\n        if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAsyncIterable)(result)) {\n            return makeResponse(new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Subscriptions are not supported'), acceptedMediaType, formatError);\n        }\n        return makeResponse(result, acceptedMediaType, formatError);\n    };\n}\n/**\n * Creates an appropriate GraphQL over HTTP response following the provided arguments.\n *\n * If the first argument is an `ExecutionResult`, the operation will be treated as \"successful\".\n *\n * If the first argument is (an array of) `GraphQLError`, or an `ExecutionResult` without the `data` field, it will be treated\n * the response will be constructed with the help of `acceptedMediaType` complying with the GraphQL over HTTP spec.\n *\n * If the first argument is an `Error`, the operation will be treated as a bad request responding with `400: Bad Request` and the\n * error will be present in the `ExecutionResult` style.\n */\nfunction makeResponse(resultOrErrors, acceptedMediaType, formatError) {\n    if (resultOrErrors instanceof Error &&\n        // because GraphQLError extends the Error class\n        !isGraphQLError(resultOrErrors)) {\n        return [\n            JSON.stringify({ errors: [formatError(resultOrErrors)] }, jsonErrorReplacer),\n            {\n                status: 400,\n                statusText: 'Bad Request',\n                headers: {\n                    'content-type': 'application/json; charset=utf-8',\n                },\n            },\n        ];\n    }\n    const errors = isGraphQLError(resultOrErrors)\n        ? [resultOrErrors]\n        : areGraphQLErrors(resultOrErrors)\n            ? resultOrErrors\n            : null;\n    if (errors) {\n        return [\n            JSON.stringify({ errors: errors.map(formatError) }, jsonErrorReplacer),\n            Object.assign(Object.assign({}, (acceptedMediaType === 'application/json'\n                ? {\n                    status: 200,\n                    statusText: 'OK',\n                }\n                : {\n                    status: 400,\n                    statusText: 'Bad Request',\n                })), { headers: {\n                    'content-type': acceptedMediaType === 'application/json'\n                        ? 'application/json; charset=utf-8'\n                        : 'application/graphql-response+json; charset=utf-8',\n                } }),\n        ];\n    }\n    return [\n        JSON.stringify('errors' in resultOrErrors && resultOrErrors.errors\n            ? Object.assign(Object.assign({}, resultOrErrors), { errors: resultOrErrors.errors.map(formatError) }) : resultOrErrors, jsonErrorReplacer),\n        {\n            status: 200,\n            statusText: 'OK',\n            headers: {\n                'content-type': acceptedMediaType === 'application/json'\n                    ? 'application/json; charset=utf-8'\n                    : 'application/graphql-response+json; charset=utf-8',\n            },\n        },\n    ];\n}\nfunction getHeader(req, key) {\n    if (typeof req.headers.get === 'function') {\n        return req.headers.get(key);\n    }\n    return Object(req.headers)[key];\n}\nfunction areGraphQLErrors(obj) {\n    return (Array.isArray(obj) &&\n        obj.length > 0 &&\n        // if one item in the array is a GraphQLError, we're good\n        obj.some(isGraphQLError));\n}\nfunction isGraphQLError(obj) {\n    return obj instanceof graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError;\n}\nfunction jsonErrorReplacer(_key, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nval) {\n    if (val instanceof Error &&\n        // GraphQL errors implement their own stringer\n        !isGraphQLError(val)) {\n        const error = val;\n        return {\n            // name: error.name, name is included in message\n            message: error.message,\n            // stack: error.stack, can leak sensitive details\n        };\n    }\n    return val;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dyYXBocWwtaHR0cEAxLjIyLjNfZ3JhcGhxbEAxNi4xMC4wL25vZGVfbW9kdWxlcy9ncmFwaHFsLWh0dHAvbGliL2hhbmRsZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2tMO0FBQ3ZHO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvREFBUTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixvREFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvREFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QixZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSw0QkFBNEIsNkNBQWUsa0NBQWtDLDRDQUFjLFVBQVUsMENBQVksb0JBQW9CLG9EQUFzQix5SUFBeUk7QUFDaFQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFELHFKQUFxSjtBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsaUNBQWlDO0FBQ3JHLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZEQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQ0FBa0M7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx3QkFBd0IscUJBQXFCO0FBQ2xHO0FBQ0E7QUFDQSxxREFBcUQsd0JBQXdCLFFBQVE7QUFDckY7QUFDQSx3QkFBd0IsbURBQWM7QUFDdEM7QUFDQSx5REFBeUQsbURBQWM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpREFBWTtBQUNoRDtBQUNBO0FBQ0Esb0NBQW9DLGlEQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxpREFBWTtBQUM3QyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkRBQWU7QUFDM0Isb0NBQW9DLGlEQUFZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUNBQXVDO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlDQUFpQztBQUM5RCwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2QjtBQUNBLDZDQUE2QztBQUM3Qyw4REFBOEQ7QUFDOUQsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHFCQUFxQixnREFBZ0Q7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QywwREFBMEQ7QUFDMUQsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaURBQVk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9ncmFwaHFsLWh0dHBAMS4yMi4zX2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvZ3JhcGhxbC1odHRwL2xpYi9oYW5kbGVyLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiBoYW5kbGVyXG4gKlxuICovXG5pbXBvcnQgeyB2YWxpZGF0ZSBhcyBncmFwaHFsVmFsaWRhdGUsIHNwZWNpZmllZFJ1bGVzLCBleGVjdXRlIGFzIGdyYXBocWxFeGVjdXRlLCBwYXJzZSBhcyBncmFwaHFsUGFyc2UsIGdldE9wZXJhdGlvbkFTVCBhcyBncmFwaHFsR2V0T3BlcmF0aW9uQVNULCBHcmFwaFFMRXJyb3IsIH0gZnJvbSAnZ3JhcGhxbCc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUsIGlzRXhlY3V0aW9uUmVzdWx0LCBpc09iamVjdCB9IGZyb20gJy4vdXRpbHMubWpzJztcbi8qKiBDaGVja3Mgd2hldGhlciB0aGUgcGFzc2VkIHZhbHVlIGlzIHRoZSBgZ3JhcGhxbC1odHRwYCBzZXJ2ZXIgYWdub3N0aWMgcmVzcG9uc2UuICovXG5mdW5jdGlvbiBpc1Jlc3BvbnNlKHZhbCkge1xuICAgIC8vIE1ha2Ugc3VyZSB0aGUgY29udGVudHMgb2YgYm9keSBtYXRjaCBzdHJpbmcgfCBudWxsXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIHZhbFswXSAhPT0gJ3N0cmluZycgJiYgdmFsWzBdICE9PSBudWxsKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFpc09iamVjdCh2YWxbMV0pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gTWFrZSBzdXJlIHRoZSBjb250ZW50cyBvZiBpbml0IG1hdGNoIFJlc3BvbnNlSW5pdFxuICAgIGNvbnN0IGluaXQgPSB2YWxbMV07XG4gICAgaWYgKGluaXQuc3RhdHVzICYmIHR5cGVvZiBpbml0LnN0YXR1cyAhPT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoaW5pdC5zdGF0dXNUZXh0ICYmIHR5cGVvZiBpbml0LnN0YXR1c1RleHQgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGluaXQuaGVhZGVycyAmJiAhaXNPYmplY3QoaW5pdC5oZWFkZXJzKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBUaGUgR3JhcGhRTCBvdmVyIEhUVFAgc3BlYyBjb21wbGlhbnQgcmVxdWVzdCBwYXJzZXIgZm9yIGFuIGluY29taW5nIEdyYXBoUUwgcmVxdWVzdC5cbiAqIEl0IHBhcnNlcyBhbmQgdmFsaWRhdGVzIHRoZSByZXF1ZXN0IGl0c2VsZiwgaW5jbHVkaW5nIHRoZSByZXF1ZXN0IG1ldGhvZCBhbmQgdGhlXG4gKiBjb250ZW50LXR5cGUgb2YgdGhlIGJvZHkuXG4gKlxuICogSWYgdGhlIEhUVFAgcmVxdWVzdCBpdHNlbGYgaXMgaW52YWxpZCBvciBtYWxmb3JtZWQsIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiBhblxuICogYXBwcm9wcmlhdGUge0BsaW5rIFJlc3BvbnNlfS5cbiAqXG4gKiBJZiB0aGUgSFRUUCByZXF1ZXN0IGlzIHZhbGlkLCBidXQgaXMgbm90IGEgd2VsbC1mb3JtYXR0ZWQgR3JhcGhRTCByZXF1ZXN0LCB0aGVcbiAqIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYW4gZXJyb3IgYW5kIGl0IGlzIHVwIHRvIHRoZSB1c2VyIHRvIGhhbmRsZSBhbmQgcmVzcG9uZCBhc1xuICogdGhleSBzZWUgZml0LlxuICpcbiAqIEBjYXRlZ29yeSBTZXJ2ZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlUmVxdWVzdFBhcmFtcyhyZXEpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2Q7XG4gICAgaWYgKG1ldGhvZCAhPT0gJ0dFVCcgJiYgbWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MDUsXG4gICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogJ01ldGhvZCBOb3QgQWxsb3dlZCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBhbGxvdzogJ0dFVCwgUE9TVCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IFttZWRpYVR5cGUsIGNoYXJzZXQgPSAnY2hhcnNldD11dGYtOCcsIC8vIHV0Zi04IGlzIGFzc3VtZWQgd2hlbiBub3Qgc3BlY2lmaWVkLiB0aGlzIHBhcmFtZXRlciBpcyBlaXRoZXIgXCJjaGFyc2V0XCIgb3IgXCJib3VuZGFyeVwiIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvQ29udGVudC1MZW5ndGgpXG4gICAgXSA9IChnZXRIZWFkZXIocmVxLCAnY29udGVudC10eXBlJykgfHwgJycpXG4gICAgICAgIC5yZXBsYWNlKC9cXHMvZywgJycpXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgIC5zcGxpdCgnOycpO1xuICAgIGNvbnN0IHBhcnRQYXJhbXMgPSB7fTtcbiAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgY2FzZSBtZXRob2QgPT09ICdHRVQnOiB7XG4gICAgICAgICAgICAvLyBUT0RPOiB3aGF0IGlmIGNvbnRlbnQtdHlwZSBpcyBzcGVjaWZpZWQgYW5kIGlzIG5vdCBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ/XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFssIHNlYXJjaF0gPSByZXEudXJsLnNwbGl0KCc/Jyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpO1xuICAgICAgICAgICAgICAgIHBhcnRQYXJhbXMub3BlcmF0aW9uTmFtZSA9XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHNlYXJjaFBhcmFtcy5nZXQoJ29wZXJhdGlvbk5hbWUnKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHBhcnRQYXJhbXMucXVlcnkgPSAoX2IgPSBzZWFyY2hQYXJhbXMuZ2V0KCdxdWVyeScpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGVzID0gc2VhcmNoUGFyYW1zLmdldCgndmFyaWFibGVzJyk7XG4gICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlcylcbiAgICAgICAgICAgICAgICAgICAgcGFydFBhcmFtcy52YXJpYWJsZXMgPSBKU09OLnBhcnNlKHZhcmlhYmxlcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHNlYXJjaFBhcmFtcy5nZXQoJ2V4dGVuc2lvbnMnKTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9ucylcbiAgICAgICAgICAgICAgICAgICAgcGFydFBhcmFtcy5leHRlbnNpb25zID0gSlNPTi5wYXJzZShleHRlbnNpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5wYXJzYWJsZSBVUkwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgbWV0aG9kID09PSAnUE9TVCcgJiZcbiAgICAgICAgICAgIG1lZGlhVHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nICYmXG4gICAgICAgICAgICBjaGFyc2V0ID09PSAnY2hhcnNldD11dGYtOCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXEuYm9keSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgYm9keScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gdHlwZW9mIHJlcS5ib2R5ID09PSAnZnVuY3Rpb24nID8gYXdhaXQgcmVxLmJvZHkoKSA6IHJlcS5ib2R5O1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShib2R5KSA6IGJvZHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnBhcnNhYmxlIEpTT04gYm9keScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSlNPTiBib2R5IG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnRQYXJhbXMub3BlcmF0aW9uTmFtZSA9IGRhdGEub3BlcmF0aW9uTmFtZTtcbiAgICAgICAgICAgICAgICBwYXJ0UGFyYW1zLnF1ZXJ5ID0gZGF0YS5xdWVyeTtcbiAgICAgICAgICAgICAgICBwYXJ0UGFyYW1zLnZhcmlhYmxlcyA9IGRhdGEudmFyaWFibGVzO1xuICAgICAgICAgICAgICAgIHBhcnRQYXJhbXMuZXh0ZW5zaW9ucyA9IGRhdGEuZXh0ZW5zaW9ucztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogLy8gZ3JhcGhxbC1odHRwIGRvZXNudCBzdXBwb3J0IGFueSBvdGhlciBjb250ZW50IHR5cGVcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogNDE1LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgfVxuICAgIGlmIChwYXJ0UGFyYW1zLnF1ZXJ5ID09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBxdWVyeScpO1xuICAgIGlmICh0eXBlb2YgcGFydFBhcmFtcy5xdWVyeSAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBxdWVyeScpO1xuICAgIGlmIChwYXJ0UGFyYW1zLnZhcmlhYmxlcyAhPSBudWxsICYmXG4gICAgICAgICh0eXBlb2YgcGFydFBhcmFtcy52YXJpYWJsZXMgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHBhcnRQYXJhbXMudmFyaWFibGVzKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhcmlhYmxlcycpO1xuICAgIH1cbiAgICBpZiAocGFydFBhcmFtcy5vcGVyYXRpb25OYW1lICE9IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIHBhcnRQYXJhbXMub3BlcmF0aW9uTmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9wZXJhdGlvbk5hbWUnKTtcbiAgICB9XG4gICAgaWYgKHBhcnRQYXJhbXMuZXh0ZW5zaW9ucyAhPSBudWxsICYmXG4gICAgICAgICh0eXBlb2YgcGFydFBhcmFtcy5leHRlbnNpb25zICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShwYXJ0UGFyYW1zLmV4dGVuc2lvbnMpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZXh0ZW5zaW9ucycpO1xuICAgIH1cbiAgICAvLyByZXF1ZXN0IHBhcmFtZXRlcnMgYXJlIGNoZWNrZWQgYW5kIG5vdyBjb21wbGV0ZVxuICAgIHJldHVybiBwYXJ0UGFyYW1zO1xufVxuLyoqXG4gKiBNYWtlcyBhIEdyYXBoUUwgb3ZlciBIVFRQIHNwZWMgY29tcGxpYW50IHNlcnZlciBoYW5kbGVyLiBUaGUgaGFuZGxlciBjYW5cbiAqIGJlIHVzZWQgd2l0aCB5b3VyIGZhdm9yaXRlIHNlcnZlciBsaWJyYXJ5LlxuICpcbiAqIEJld2FyZSB0aGF0IHRoZSBoYW5kbGVyIHJlc29sdmVzIG9ubHkgYWZ0ZXIgdGhlIHdob2xlIG9wZXJhdGlvbiBjb21wbGV0ZXMuXG4gKlxuICogRXJyb3JzIHRocm93biBmcm9tICoqYW55Kiogb2YgdGhlIHByb3ZpZGVkIG9wdGlvbnMgb3IgY2FsbGJhY2tzIChvciBldmVuIGR1ZSB0b1xuICogbGlicmFyeSBtaXN1c2Ugb3IgcG90ZW50aWFsIGJ1Z3MpIHdpbGwgcmVqZWN0IHRoZSBoYW5kbGVyJ3MgcHJvbWlzZS4gVGhleSBhcmVcbiAqIGNvbnNpZGVyZWQgaW50ZXJuYWwgZXJyb3JzIGFuZCB5b3Ugc2hvdWxkIHRha2UgY2FyZSBvZiB0aGVtIGFjY29yZGluZ2x5LlxuICpcbiAqIEZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cywgaXRzIHJlY29tbWVuZGVkIG5vdCB0byB0cmFuc21pdCB0aGUgZXhhY3QgaW50ZXJuYWxcbiAqIGVycm9yIGRldGFpbHMgdG8gdGhlIGNsaWVudCwgYnV0IGluc3RlYWQgcmVwb3J0IHRvIGFuIGVycm9yIGxvZ2dpbmcgdG9vbCBvciBzaW1wbHlcbiAqIHRoZSBjb25zb2xlLlxuICpcbiAqIFNpbXBsZSBleGFtcGxlIHVzYWdlIHdpdGggTm9kZTpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XG4gKiBpbXBvcnQgeyBjcmVhdGVIYW5kbGVyIH0gZnJvbSAnZ3JhcGhxbC1odHRwJztcbiAqIGltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4vbXktZ3JhcGhxbC1zY2hlbWEvaW5kZXgubWpzJztcbiAqXG4gKiAvLyBDcmVhdGUgdGhlIEdyYXBoUUwgb3ZlciBIVFRQIGhhbmRsZXJcbiAqIGNvbnN0IGhhbmRsZXIgPSBjcmVhdGVIYW5kbGVyKHsgc2NoZW1hIH0pO1xuICpcbiAqIC8vIENyZWF0ZSBhIEhUVFAgc2VydmVyIHVzaW5nIHRoZSBoYW5kbGVyIG9uIGAvZ3JhcGhxbGBcbiAqIGNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICogICBpZiAoIXJlcS51cmwuc3RhcnRzV2l0aCgnL2dyYXBocWwnKSkge1xuICogICAgIHJldHVybiByZXMud3JpdGVIZWFkKDQwNCkuZW5kKCk7XG4gKiAgIH1cbiAqXG4gKiAgIHRyeSB7XG4gKiAgICAgY29uc3QgW2JvZHksIGluaXRdID0gYXdhaXQgaGFuZGxlcih7XG4gKiAgICAgICB1cmw6IHJlcS51cmwsXG4gKiAgICAgICBtZXRob2Q6IHJlcS5tZXRob2QsXG4gKiAgICAgICBoZWFkZXJzOiByZXEuaGVhZGVycyxcbiAqICAgICAgIGJvZHk6ICgpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gKiAgICAgICAgIGxldCBib2R5ID0gJyc7XG4gKiAgICAgICAgIHJlcS5vbignZGF0YScsIChjaHVuaykgPT4gKGJvZHkgKz0gY2h1bmspKTtcbiAqICAgICAgICAgcmVxLm9uKCdlbmQnLCAoKSA9PiByZXNvbHZlKGJvZHkpKTtcbiAqICAgICAgIH0pLFxuICogICAgICAgcmF3OiByZXEsXG4gKiAgICAgfSk7XG4gKiAgICAgcmVzLndyaXRlSGVhZChpbml0LnN0YXR1cywgaW5pdC5zdGF0dXNUZXh0LCBpbml0LmhlYWRlcnMpLmVuZChib2R5KTtcbiAqICAgfSBjYXRjaCAoZXJyKSB7XG4gKiAgICAgLy8gQkVXQVJFIG5vdCB0byB0cmFuc21pdCB0aGUgZXhhY3QgaW50ZXJuYWwgZXJyb3IgbWVzc2FnZSBpbiBwcm9kdWN0aW9uIGVudmlyb25tZW50c1xuICogICAgIHJlcy53cml0ZUhlYWQoNTAwKS5lbmQoZXJyLm1lc3NhZ2UpO1xuICogICB9XG4gKiB9KTtcbiAqXG4gKiBzZXJ2ZXIubGlzdGVuKDQwMDApO1xuICogY29uc29sZS5sb2coJ0xpc3RlbmluZyB0byBwb3J0IDQwMDAnKTtcbiAqIGBgYFxuICpcbiAqIEBjYXRlZ29yeSBTZXJ2ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhbmRsZXIob3B0aW9ucykge1xuICAgIGNvbnN0IHsgc2NoZW1hLCBjb250ZXh0LCB2YWxpZGF0ZSA9IGdyYXBocWxWYWxpZGF0ZSwgdmFsaWRhdGlvblJ1bGVzID0gW10sIGV4ZWN1dGUgPSBncmFwaHFsRXhlY3V0ZSwgcGFyc2UgPSBncmFwaHFsUGFyc2UsIGdldE9wZXJhdGlvbkFTVCA9IGdyYXBocWxHZXRPcGVyYXRpb25BU1QsIHJvb3RWYWx1ZSwgb25TdWJzY3JpYmUsIG9uT3BlcmF0aW9uLCBmb3JtYXRFcnJvciA9IChlcnIpID0+IGVyciwgcGFyc2VSZXF1ZXN0UGFyYW1zOiBvcHRpb25zUGFyc2VSZXF1ZXN0UGFyYW1zID0gcGFyc2VSZXF1ZXN0UGFyYW1zLCB9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEpIHtcbiAgICAgICAgbGV0IGFjY2VwdGVkTWVkaWFUeXBlID0gbnVsbDtcbiAgICAgICAgY29uc3QgYWNjZXB0cyA9IChnZXRIZWFkZXIocmVxLCAnYWNjZXB0JykgfHwgJyovKicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzL2csICcnKVxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIC5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKGNvbnN0IGFjY2VwdCBvZiBhY2NlcHRzKSB7XG4gICAgICAgICAgICAvLyBhY2NlcHQtY2hhcnNldCBiZWNhbWUgb2Jzb2xldGUsIHNob3VsZG50IGJlIHVzZWQgKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9BY2NlcHQtQ2hhcnNldClcbiAgICAgICAgICAgIC8vIFRPRE86IGhhbmRsZSB0aGUgd2VpZ2h0IHBhcmFtZXRlciBcInFcIlxuICAgICAgICAgICAgY29uc3QgW21lZGlhVHlwZSwgLi4ucGFyYW1zXSA9IGFjY2VwdC5zcGxpdCgnOycpO1xuICAgICAgICAgICAgY29uc3QgY2hhcnNldCA9IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuZmluZCgocGFyYW0pID0+IHBhcmFtLmluY2x1ZGVzKCdjaGFyc2V0PScpKSkgfHwgJ2NoYXJzZXQ9dXRmLTgnOyAvLyB1dGYtOCBpcyBhc3N1bWVkIHdoZW4gbm90IHNwZWNpZmllZDtcbiAgICAgICAgICAgIGlmIChtZWRpYVR5cGUgPT09ICdhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb24nICYmXG4gICAgICAgICAgICAgICAgY2hhcnNldCA9PT0gJ2NoYXJzZXQ9dXRmLTgnKSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0ZWRNZWRpYVR5cGUgPSAnYXBwbGljYXRpb24vZ3JhcGhxbC1yZXNwb25zZStqc29uJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFwcGxpY2F0aW9uL2pzb24gc2hvdWxkIGJlIHRoZSBkZWZhdWx0IHVudGlsIHdhdGVyc2hlZFxuICAgICAgICAgICAgaWYgKChtZWRpYVR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fFxuICAgICAgICAgICAgICAgIG1lZGlhVHlwZSA9PT0gJ2FwcGxpY2F0aW9uLyonIHx8XG4gICAgICAgICAgICAgICAgbWVkaWFUeXBlID09PSAnKi8qJykgJiZcbiAgICAgICAgICAgICAgICAoY2hhcnNldCA9PT0gJ2NoYXJzZXQ9dXRmLTgnIHx8IGNoYXJzZXQgPT09ICdjaGFyc2V0PXV0ZjgnKSkge1xuICAgICAgICAgICAgICAgIGFjY2VwdGVkTWVkaWFUeXBlID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWNjZXB0ZWRNZWRpYVR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogNDA2LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnTm90IEFjY2VwdGFibGUnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb247IGNoYXJzZXQ9dXRmLTgsIGFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXJhbXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgcGFyYW1zT3JSZXMgPSBhd2FpdCBvcHRpb25zUGFyc2VSZXF1ZXN0UGFyYW1zKHJlcSk7XG4gICAgICAgICAgICBpZiAoIXBhcmFtc09yUmVzKVxuICAgICAgICAgICAgICAgIHBhcmFtc09yUmVzID0gYXdhaXQgcGFyc2VSZXF1ZXN0UGFyYW1zKHJlcSk7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShwYXJhbXNPclJlcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtc09yUmVzO1xuICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1zT3JSZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VSZXNwb25zZShlcnIsIGFjY2VwdGVkTWVkaWFUeXBlLCBmb3JtYXRFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFyZ3M7XG4gICAgICAgIGNvbnN0IG1heWJlUmVzRXJyc09yQXJncyA9IGF3YWl0IChvblN1YnNjcmliZSA9PT0gbnVsbCB8fCBvblN1YnNjcmliZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25TdWJzY3JpYmUocmVxLCBwYXJhbXMpKTtcbiAgICAgICAgaWYgKGlzUmVzcG9uc2UobWF5YmVSZXNFcnJzT3JBcmdzKSlcbiAgICAgICAgICAgIHJldHVybiBtYXliZVJlc0VycnNPckFyZ3M7XG4gICAgICAgIGVsc2UgaWYgKGlzRXhlY3V0aW9uUmVzdWx0KG1heWJlUmVzRXJyc09yQXJncykgfHxcbiAgICAgICAgICAgIGFyZUdyYXBoUUxFcnJvcnMobWF5YmVSZXNFcnJzT3JBcmdzKSlcbiAgICAgICAgICAgIHJldHVybiBtYWtlUmVzcG9uc2UobWF5YmVSZXNFcnJzT3JBcmdzLCBhY2NlcHRlZE1lZGlhVHlwZSwgZm9ybWF0RXJyb3IpO1xuICAgICAgICBlbHNlIGlmIChtYXliZVJlc0VycnNPckFyZ3MpXG4gICAgICAgICAgICBhcmdzID0gbWF5YmVSZXNFcnJzT3JBcmdzO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIEdyYXBoUUwgc2NoZW1hIGlzIG5vdCBwcm92aWRlZCcpO1xuICAgICAgICAgICAgY29uc3QgeyBvcGVyYXRpb25OYW1lLCBxdWVyeSwgdmFyaWFibGVzIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICBsZXQgZG9jdW1lbnQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50ID0gcGFyc2UocXVlcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlUmVzcG9uc2UoZXJyLCBhY2NlcHRlZE1lZGlhVHlwZSwgZm9ybWF0RXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzT3JDb250ZXh0ID0gdHlwZW9mIGNvbnRleHQgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBjb250ZXh0KHJlcSwgcGFyYW1zKSA6IGNvbnRleHQ7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShyZXNPckNvbnRleHQpKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNPckNvbnRleHQ7XG4gICAgICAgICAgICBjb25zdCBhcmdzV2l0aG91dFNjaGVtYSA9IHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb25OYW1lLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlVmFsdWVzOiB2YXJpYWJsZXMsXG4gICAgICAgICAgICAgICAgY29udGV4dFZhbHVlOiByZXNPckNvbnRleHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNPclNjaGVtYSA9IGF3YWl0IHNjaGVtYShyZXEsIGFyZ3NXaXRob3V0U2NoZW1hKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXNwb25zZShyZXNPclNjaGVtYSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNPclNjaGVtYTtcbiAgICAgICAgICAgICAgICBhcmdzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhcmdzV2l0aG91dFNjaGVtYSksIHsgc2NoZW1hOiByZXNPclNjaGVtYSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyZ3MgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFyZ3NXaXRob3V0U2NoZW1hKSwgeyBzY2hlbWEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcnVsZXMgPSBzcGVjaWZpZWRSdWxlcztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGlvblJ1bGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcnVsZXMgPSBhd2FpdCB2YWxpZGF0aW9uUnVsZXMocmVxLCBhcmdzLCBzcGVjaWZpZWRSdWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBydWxlcyA9IFsuLi5ydWxlcywgLi4udmFsaWRhdGlvblJ1bGVzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25FcnJzID0gdmFsaWRhdGUoYXJncy5zY2hlbWEsIGFyZ3MuZG9jdW1lbnQsIHJ1bGVzKTtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uRXJycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZVJlc3BvbnNlKHZhbGlkYXRpb25FcnJzLCBhY2NlcHRlZE1lZGlhVHlwZSwgZm9ybWF0RXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvcGVyYXRpb247XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhc3QgPSBnZXRPcGVyYXRpb25BU1QoYXJncy5kb2N1bWVudCwgYXJncy5vcGVyYXRpb25OYW1lKTtcbiAgICAgICAgICAgIGlmICghYXN0KVxuICAgICAgICAgICAgICAgIHRocm93IG51bGw7XG4gICAgICAgICAgICBvcGVyYXRpb24gPSBhc3Qub3BlcmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VSZXNwb25zZShuZXcgR3JhcGhRTEVycm9yKCdVbmFibGUgdG8gZGV0ZWN0IG9wZXJhdGlvbiBBU1QnKSwgYWNjZXB0ZWRNZWRpYVR5cGUsIGZvcm1hdEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnc3Vic2NyaXB0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VSZXNwb25zZShuZXcgR3JhcGhRTEVycm9yKCdTdWJzY3JpcHRpb25zIGFyZSBub3Qgc3VwcG9ydGVkJyksIGFjY2VwdGVkTWVkaWFUeXBlLCBmb3JtYXRFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbXV0YXRpb25zIGNhbm5vdCBoYXBwZW4gb3ZlciBHRVRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ3JhcGhxbC5naXRodWIuaW8vZ3JhcGhxbC1vdmVyLWh0dHAvZHJhZnQvI3NlbC1DQUxGSlJQQUFFTEJBQXh3UFxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnbXV0YXRpb24nICYmIHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBbbmV3IEdyYXBoUUxFcnJvcignQ2Fubm90IHBlcmZvcm0gbXV0YXRpb25zIG92ZXIgR0VUJyldLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiA0MDUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdNZXRob2QgTm90IEFsbG93ZWQnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvdzogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKCdyb290VmFsdWUnIGluIGFyZ3MpKSB7XG4gICAgICAgICAgICBhcmdzLnJvb3RWYWx1ZSA9IHJvb3RWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISgnY29udGV4dFZhbHVlJyBpbiBhcmdzKSkge1xuICAgICAgICAgICAgY29uc3QgcmVzT3JDb250ZXh0ID0gdHlwZW9mIGNvbnRleHQgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBjb250ZXh0KHJlcSwgcGFyYW1zKSA6IGNvbnRleHQ7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShyZXNPckNvbnRleHQpKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNPckNvbnRleHQ7XG4gICAgICAgICAgICBhcmdzLmNvbnRleHRWYWx1ZSA9IHJlc09yQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZShhcmdzKTtcbiAgICAgICAgY29uc3QgbWF5YmVSZXNwb25zZU9yUmVzdWx0ID0gYXdhaXQgKG9uT3BlcmF0aW9uID09PSBudWxsIHx8IG9uT3BlcmF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbk9wZXJhdGlvbihyZXEsIGFyZ3MsIHJlc3VsdCkpO1xuICAgICAgICBpZiAoaXNSZXNwb25zZShtYXliZVJlc3BvbnNlT3JSZXN1bHQpKVxuICAgICAgICAgICAgcmV0dXJuIG1heWJlUmVzcG9uc2VPclJlc3VsdDtcbiAgICAgICAgZWxzZSBpZiAobWF5YmVSZXNwb25zZU9yUmVzdWx0KVxuICAgICAgICAgICAgcmVzdWx0ID0gbWF5YmVSZXNwb25zZU9yUmVzdWx0O1xuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlUmVzcG9uc2UobmV3IEdyYXBoUUxFcnJvcignU3Vic2NyaXB0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCcpLCBhY2NlcHRlZE1lZGlhVHlwZSwgZm9ybWF0RXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYWtlUmVzcG9uc2UocmVzdWx0LCBhY2NlcHRlZE1lZGlhVHlwZSwgZm9ybWF0RXJyb3IpO1xuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gYXBwcm9wcmlhdGUgR3JhcGhRTCBvdmVyIEhUVFAgcmVzcG9uc2UgZm9sbG93aW5nIHRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gKlxuICogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGBFeGVjdXRpb25SZXN1bHRgLCB0aGUgb3BlcmF0aW9uIHdpbGwgYmUgdHJlYXRlZCBhcyBcInN1Y2Nlc3NmdWxcIi5cbiAqXG4gKiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgKGFuIGFycmF5IG9mKSBgR3JhcGhRTEVycm9yYCwgb3IgYW4gYEV4ZWN1dGlvblJlc3VsdGAgd2l0aG91dCB0aGUgYGRhdGFgIGZpZWxkLCBpdCB3aWxsIGJlIHRyZWF0ZWRcbiAqIHRoZSByZXNwb25zZSB3aWxsIGJlIGNvbnN0cnVjdGVkIHdpdGggdGhlIGhlbHAgb2YgYGFjY2VwdGVkTWVkaWFUeXBlYCBjb21wbHlpbmcgd2l0aCB0aGUgR3JhcGhRTCBvdmVyIEhUVFAgc3BlYy5cbiAqXG4gKiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYEVycm9yYCwgdGhlIG9wZXJhdGlvbiB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBiYWQgcmVxdWVzdCByZXNwb25kaW5nIHdpdGggYDQwMDogQmFkIFJlcXVlc3RgIGFuZCB0aGVcbiAqIGVycm9yIHdpbGwgYmUgcHJlc2VudCBpbiB0aGUgYEV4ZWN1dGlvblJlc3VsdGAgc3R5bGUuXG4gKi9cbmZ1bmN0aW9uIG1ha2VSZXNwb25zZShyZXN1bHRPckVycm9ycywgYWNjZXB0ZWRNZWRpYVR5cGUsIGZvcm1hdEVycm9yKSB7XG4gICAgaWYgKHJlc3VsdE9yRXJyb3JzIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgLy8gYmVjYXVzZSBHcmFwaFFMRXJyb3IgZXh0ZW5kcyB0aGUgRXJyb3IgY2xhc3NcbiAgICAgICAgIWlzR3JhcGhRTEVycm9yKHJlc3VsdE9yRXJyb3JzKSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoeyBlcnJvcnM6IFtmb3JtYXRFcnJvcihyZXN1bHRPckVycm9ycyldIH0sIGpzb25FcnJvclJlcGxhY2VyKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnQmFkIFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JzID0gaXNHcmFwaFFMRXJyb3IocmVzdWx0T3JFcnJvcnMpXG4gICAgICAgID8gW3Jlc3VsdE9yRXJyb3JzXVxuICAgICAgICA6IGFyZUdyYXBoUUxFcnJvcnMocmVzdWx0T3JFcnJvcnMpXG4gICAgICAgICAgICA/IHJlc3VsdE9yRXJyb3JzXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgaWYgKGVycm9ycykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoeyBlcnJvcnM6IGVycm9ycy5tYXAoZm9ybWF0RXJyb3IpIH0sIGpzb25FcnJvclJlcGxhY2VyKSxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKGFjY2VwdGVkTWVkaWFUeXBlID09PSAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdPSycsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogJ0JhZCBSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICB9KSksIHsgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogYWNjZXB0ZWRNZWRpYVR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2FwcGxpY2F0aW9uL2dyYXBocWwtcmVzcG9uc2UranNvbjsgY2hhcnNldD11dGYtOCcsXG4gICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoJ2Vycm9ycycgaW4gcmVzdWx0T3JFcnJvcnMgJiYgcmVzdWx0T3JFcnJvcnMuZXJyb3JzXG4gICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzdWx0T3JFcnJvcnMpLCB7IGVycm9yczogcmVzdWx0T3JFcnJvcnMuZXJyb3JzLm1hcChmb3JtYXRFcnJvcikgfSkgOiByZXN1bHRPckVycm9ycywganNvbkVycm9yUmVwbGFjZXIpLFxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdPSycsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IGFjY2VwdGVkTWVkaWFUeXBlID09PSAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICAgICAgPyAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCdcbiAgICAgICAgICAgICAgICAgICAgOiAnYXBwbGljYXRpb24vZ3JhcGhxbC1yZXNwb25zZStqc29uOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgXTtcbn1cbmZ1bmN0aW9uIGdldEhlYWRlcihyZXEsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVxLmhlYWRlcnMuZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiByZXEuaGVhZGVycy5nZXQoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdChyZXEuaGVhZGVycylba2V5XTtcbn1cbmZ1bmN0aW9uIGFyZUdyYXBoUUxFcnJvcnMob2JqKSB7XG4gICAgcmV0dXJuIChBcnJheS5pc0FycmF5KG9iaikgJiZcbiAgICAgICAgb2JqLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgLy8gaWYgb25lIGl0ZW0gaW4gdGhlIGFycmF5IGlzIGEgR3JhcGhRTEVycm9yLCB3ZSdyZSBnb29kXG4gICAgICAgIG9iai5zb21lKGlzR3JhcGhRTEVycm9yKSk7XG59XG5mdW5jdGlvbiBpc0dyYXBoUUxFcnJvcihvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgR3JhcGhRTEVycm9yO1xufVxuZnVuY3Rpb24ganNvbkVycm9yUmVwbGFjZXIoX2tleSwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxudmFsKSB7XG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIC8vIEdyYXBoUUwgZXJyb3JzIGltcGxlbWVudCB0aGVpciBvd24gc3RyaW5nZXJcbiAgICAgICAgIWlzR3JhcGhRTEVycm9yKHZhbCkpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSB2YWw7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBuYW1lOiBlcnJvci5uYW1lLCBuYW1lIGlzIGluY2x1ZGVkIGluIG1lc3NhZ2VcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAvLyBzdGFjazogZXJyb3Iuc3RhY2ssIGNhbiBsZWFrIHNlbnNpdGl2ZSBkZXRhaWxzXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/handler.mjs\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/use/fetch.mjs":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/use/fetch.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHandler: () => (/* binding */ createHandler),\n/* harmony export */   parseRequestParams: () => (/* binding */ parseRequestParams)\n/* harmony export */ });\n/* harmony import */ var _handler_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../handler.mjs */ \"(rsc)/../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/handler.mjs\");\n\n/**\n * The GraphQL over HTTP spec compliant request parser for an incoming GraphQL request.\n *\n * It is important to pass in the `abortedRef` so that the parser does not perform any\n * operations on a disposed request (see example).\n *\n * If the HTTP request _is not_ a [well-formatted GraphQL over HTTP request](https://graphql.github.io/graphql-over-http/draft/#sec-Request), the function will return a `Response`.\n *\n * If the HTTP request _is_ a [well-formatted GraphQL over HTTP request](https://graphql.github.io/graphql-over-http/draft/#sec-Request), but is invalid or malformed,\n * the function will throw an error and it is up to the user to handle and respond as they see fit.\n *\n * ```js\n * import http from 'http';\n * import { createServerAdapter } from '@whatwg-node/server'; // yarn add @whatwg-node/server\n * import { parseRequestParams } from 'graphql-http/lib/use/fetch';\n *\n * // Use this adapter in _any_ environment.\n * const adapter = createServerAdapter({\n *   handleRequest: async (req) => {\n *     try {\n *       const paramsOrResponse = await parseRequestParams(req);\n *       if (paramsOrResponse instanceof Response) {\n *         // not a well-formatted GraphQL over HTTP request,\n *         // parser created a response object to use\n *         return paramsOrResponse;\n *       }\n *\n *       // well-formatted GraphQL over HTTP request,\n *       // with valid parameters\n *       return new Response(JSON.stringify(paramsOrResponse, null, '  '), {\n *         status: 200,\n *       });\n *     } catch (err) {\n *       // well-formatted GraphQL over HTTP request,\n *       // but with invalid parameters\n *       return new Response(err.message, { status: 400 });\n *     }\n *   },\n * });\n *\n * const server = http.createServer(adapter);\n *\n * server.listen(4000);\n * console.log('Listening to port 4000');\n * ```\n *\n * @category Server/fetch\n */\nasync function parseRequestParams(req, api = {}) {\n    const rawReq = toRequest(req, api);\n    const paramsOrRes = await (0,_handler_mjs__WEBPACK_IMPORTED_MODULE_0__.parseRequestParams)(rawReq);\n    if (!('query' in paramsOrRes)) {\n        const [body, init] = paramsOrRes;\n        return new (api.Response || Response)(body, init);\n    }\n    return paramsOrRes;\n}\n/**\n * Create a GraphQL over HTTP spec compliant request handler for\n * a fetch environment like Deno, Bun, CloudFlare Workers, Lambdas, etc.\n *\n * You can use [@whatwg-node/server](https://github.com/ardatan/whatwg-node/tree/master/packages/server) to create a server adapter and\n * isomorphically use it in _any_ environment. See an example:\n *\n * ```js\n * import http from 'http';\n * import { createServerAdapter } from '@whatwg-node/server'; // yarn add @whatwg-node/server\n * import { createHandler } from 'graphql-http/lib/use/fetch';\n * import { schema } from './my-graphql-schema/index.mjs';\n *\n * // Use this adapter in _any_ environment.\n * const adapter = createServerAdapter({\n *   handleRequest: createHandler({ schema }),\n * });\n *\n * const server = http.createServer(adapter);\n *\n * server.listen(4000);\n * console.log('Listening to port 4000');\n * ```\n *\n * @param reqCtx - Custom fetch API engine, will use from global scope if left undefined.\n *\n * @category Server/fetch\n */\nfunction createHandler(options, reqCtx = {}) {\n    const api = {\n        Response: reqCtx.Response || Response,\n        TextEncoder: reqCtx.TextEncoder || TextEncoder,\n        ReadableStream: reqCtx.ReadableStream || ReadableStream,\n    };\n    const handler = (0,_handler_mjs__WEBPACK_IMPORTED_MODULE_0__.createHandler)(options);\n    return async function handleRequest(req) {\n        try {\n            const [body, init] = await handler(toRequest(req, api));\n            return new api.Response(body, init);\n        }\n        catch (err) {\n            // The handler shouldnt throw errors.\n            // If you wish to handle them differently, consider implementing your own request handler.\n            console.error('Internal error occurred during request handling. ' +\n                'Please check your implementation.', err);\n            return new api.Response(null, { status: 500 });\n        }\n    };\n}\nfunction toRequest(req, api = {}) {\n    return {\n        method: req.method,\n        url: req.url,\n        headers: req.headers,\n        body: () => req.text(),\n        raw: req,\n        context: {\n            Response: api.Response || Response,\n            TextEncoder: api.TextEncoder || TextEncoder,\n            ReadableStream: api.ReadableStream || ReadableStream,\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dyYXBocWwtaHR0cEAxLjIyLjNfZ3JhcGhxbEAxNi4xMC4wL25vZGVfbW9kdWxlcy9ncmFwaHFsLWh0dHAvbGliL3VzZS9mZXRjaC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlIO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzQkFBc0IsNEJBQTRCO0FBQzlELFlBQVkscUJBQXFCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFNBQVM7QUFDVDtBQUNBO0FBQ0EsNENBQTRDLGFBQWE7QUFDekQ7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtDQUErQztBQUN0RDtBQUNBLDhCQUE4QixnRUFBcUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzQkFBc0IsNEJBQTRCO0FBQzlELFlBQVksZ0JBQWdCO0FBQzVCLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUTtBQUM1QyxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJDQUEyQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJEQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxhQUFhO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vZ3JhcGhxbC1odHRwQDEuMjIuM19ncmFwaHFsQDE2LjEwLjAvbm9kZV9tb2R1bGVzL2dyYXBocWwtaHR0cC9saWIvdXNlL2ZldGNoLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVIYW5kbGVyIGFzIGNyZWF0ZVJhd0hhbmRsZXIsIHBhcnNlUmVxdWVzdFBhcmFtcyBhcyByYXdQYXJzZVJlcXVlc3RQYXJhbXMsIH0gZnJvbSAnLi4vaGFuZGxlci5tanMnO1xuLyoqXG4gKiBUaGUgR3JhcGhRTCBvdmVyIEhUVFAgc3BlYyBjb21wbGlhbnQgcmVxdWVzdCBwYXJzZXIgZm9yIGFuIGluY29taW5nIEdyYXBoUUwgcmVxdWVzdC5cbiAqXG4gKiBJdCBpcyBpbXBvcnRhbnQgdG8gcGFzcyBpbiB0aGUgYGFib3J0ZWRSZWZgIHNvIHRoYXQgdGhlIHBhcnNlciBkb2VzIG5vdCBwZXJmb3JtIGFueVxuICogb3BlcmF0aW9ucyBvbiBhIGRpc3Bvc2VkIHJlcXVlc3QgKHNlZSBleGFtcGxlKS5cbiAqXG4gKiBJZiB0aGUgSFRUUCByZXF1ZXN0IF9pcyBub3RfIGEgW3dlbGwtZm9ybWF0dGVkIEdyYXBoUUwgb3ZlciBIVFRQIHJlcXVlc3RdKGh0dHBzOi8vZ3JhcGhxbC5naXRodWIuaW8vZ3JhcGhxbC1vdmVyLWh0dHAvZHJhZnQvI3NlYy1SZXF1ZXN0KSwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgYFJlc3BvbnNlYC5cbiAqXG4gKiBJZiB0aGUgSFRUUCByZXF1ZXN0IF9pc18gYSBbd2VsbC1mb3JtYXR0ZWQgR3JhcGhRTCBvdmVyIEhUVFAgcmVxdWVzdF0oaHR0cHM6Ly9ncmFwaHFsLmdpdGh1Yi5pby9ncmFwaHFsLW92ZXItaHR0cC9kcmFmdC8jc2VjLVJlcXVlc3QpLCBidXQgaXMgaW52YWxpZCBvciBtYWxmb3JtZWQsXG4gKiB0aGUgZnVuY3Rpb24gd2lsbCB0aHJvdyBhbiBlcnJvciBhbmQgaXQgaXMgdXAgdG8gdGhlIHVzZXIgdG8gaGFuZGxlIGFuZCByZXNwb25kIGFzIHRoZXkgc2VlIGZpdC5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XG4gKiBpbXBvcnQgeyBjcmVhdGVTZXJ2ZXJBZGFwdGVyIH0gZnJvbSAnQHdoYXR3Zy1ub2RlL3NlcnZlcic7IC8vIHlhcm4gYWRkIEB3aGF0d2ctbm9kZS9zZXJ2ZXJcbiAqIGltcG9ydCB7IHBhcnNlUmVxdWVzdFBhcmFtcyB9IGZyb20gJ2dyYXBocWwtaHR0cC9saWIvdXNlL2ZldGNoJztcbiAqXG4gKiAvLyBVc2UgdGhpcyBhZGFwdGVyIGluIF9hbnlfIGVudmlyb25tZW50LlxuICogY29uc3QgYWRhcHRlciA9IGNyZWF0ZVNlcnZlckFkYXB0ZXIoe1xuICogICBoYW5kbGVSZXF1ZXN0OiBhc3luYyAocmVxKSA9PiB7XG4gKiAgICAgdHJ5IHtcbiAqICAgICAgIGNvbnN0IHBhcmFtc09yUmVzcG9uc2UgPSBhd2FpdCBwYXJzZVJlcXVlc3RQYXJhbXMocmVxKTtcbiAqICAgICAgIGlmIChwYXJhbXNPclJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAqICAgICAgICAgLy8gbm90IGEgd2VsbC1mb3JtYXR0ZWQgR3JhcGhRTCBvdmVyIEhUVFAgcmVxdWVzdCxcbiAqICAgICAgICAgLy8gcGFyc2VyIGNyZWF0ZWQgYSByZXNwb25zZSBvYmplY3QgdG8gdXNlXG4gKiAgICAgICAgIHJldHVybiBwYXJhbXNPclJlc3BvbnNlO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIC8vIHdlbGwtZm9ybWF0dGVkIEdyYXBoUUwgb3ZlciBIVFRQIHJlcXVlc3QsXG4gKiAgICAgICAvLyB3aXRoIHZhbGlkIHBhcmFtZXRlcnNcbiAqICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocGFyYW1zT3JSZXNwb25zZSwgbnVsbCwgJyAgJyksIHtcbiAqICAgICAgICAgc3RhdHVzOiAyMDAsXG4gKiAgICAgICB9KTtcbiAqICAgICB9IGNhdGNoIChlcnIpIHtcbiAqICAgICAgIC8vIHdlbGwtZm9ybWF0dGVkIEdyYXBoUUwgb3ZlciBIVFRQIHJlcXVlc3QsXG4gKiAgICAgICAvLyBidXQgd2l0aCBpbnZhbGlkIHBhcmFtZXRlcnNcbiAqICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoZXJyLm1lc3NhZ2UsIHsgc3RhdHVzOiA0MDAgfSk7XG4gKiAgICAgfVxuICogICB9LFxuICogfSk7XG4gKlxuICogY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYWRhcHRlcik7XG4gKlxuICogc2VydmVyLmxpc3Rlbig0MDAwKTtcbiAqIGNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgdG8gcG9ydCA0MDAwJyk7XG4gKiBgYGBcbiAqXG4gKiBAY2F0ZWdvcnkgU2VydmVyL2ZldGNoXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVJlcXVlc3RQYXJhbXMocmVxLCBhcGkgPSB7fSkge1xuICAgIGNvbnN0IHJhd1JlcSA9IHRvUmVxdWVzdChyZXEsIGFwaSk7XG4gICAgY29uc3QgcGFyYW1zT3JSZXMgPSBhd2FpdCByYXdQYXJzZVJlcXVlc3RQYXJhbXMocmF3UmVxKTtcbiAgICBpZiAoISgncXVlcnknIGluIHBhcmFtc09yUmVzKSkge1xuICAgICAgICBjb25zdCBbYm9keSwgaW5pdF0gPSBwYXJhbXNPclJlcztcbiAgICAgICAgcmV0dXJuIG5ldyAoYXBpLlJlc3BvbnNlIHx8IFJlc3BvbnNlKShib2R5LCBpbml0KTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtc09yUmVzO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBHcmFwaFFMIG92ZXIgSFRUUCBzcGVjIGNvbXBsaWFudCByZXF1ZXN0IGhhbmRsZXIgZm9yXG4gKiBhIGZldGNoIGVudmlyb25tZW50IGxpa2UgRGVubywgQnVuLCBDbG91ZEZsYXJlIFdvcmtlcnMsIExhbWJkYXMsIGV0Yy5cbiAqXG4gKiBZb3UgY2FuIHVzZSBbQHdoYXR3Zy1ub2RlL3NlcnZlcl0oaHR0cHM6Ly9naXRodWIuY29tL2FyZGF0YW4vd2hhdHdnLW5vZGUvdHJlZS9tYXN0ZXIvcGFja2FnZXMvc2VydmVyKSB0byBjcmVhdGUgYSBzZXJ2ZXIgYWRhcHRlciBhbmRcbiAqIGlzb21vcnBoaWNhbGx5IHVzZSBpdCBpbiBfYW55XyBlbnZpcm9ubWVudC4gU2VlIGFuIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuICogaW1wb3J0IHsgY3JlYXRlU2VydmVyQWRhcHRlciB9IGZyb20gJ0B3aGF0d2ctbm9kZS9zZXJ2ZXInOyAvLyB5YXJuIGFkZCBAd2hhdHdnLW5vZGUvc2VydmVyXG4gKiBpbXBvcnQgeyBjcmVhdGVIYW5kbGVyIH0gZnJvbSAnZ3JhcGhxbC1odHRwL2xpYi91c2UvZmV0Y2gnO1xuICogaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi9teS1ncmFwaHFsLXNjaGVtYS9pbmRleC5tanMnO1xuICpcbiAqIC8vIFVzZSB0aGlzIGFkYXB0ZXIgaW4gX2FueV8gZW52aXJvbm1lbnQuXG4gKiBjb25zdCBhZGFwdGVyID0gY3JlYXRlU2VydmVyQWRhcHRlcih7XG4gKiAgIGhhbmRsZVJlcXVlc3Q6IGNyZWF0ZUhhbmRsZXIoeyBzY2hlbWEgfSksXG4gKiB9KTtcbiAqXG4gKiBjb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhZGFwdGVyKTtcbiAqXG4gKiBzZXJ2ZXIubGlzdGVuKDQwMDApO1xuICogY29uc29sZS5sb2coJ0xpc3RlbmluZyB0byBwb3J0IDQwMDAnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSByZXFDdHggLSBDdXN0b20gZmV0Y2ggQVBJIGVuZ2luZSwgd2lsbCB1c2UgZnJvbSBnbG9iYWwgc2NvcGUgaWYgbGVmdCB1bmRlZmluZWQuXG4gKlxuICogQGNhdGVnb3J5IFNlcnZlci9mZXRjaFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZGxlcihvcHRpb25zLCByZXFDdHggPSB7fSkge1xuICAgIGNvbnN0IGFwaSA9IHtcbiAgICAgICAgUmVzcG9uc2U6IHJlcUN0eC5SZXNwb25zZSB8fCBSZXNwb25zZSxcbiAgICAgICAgVGV4dEVuY29kZXI6IHJlcUN0eC5UZXh0RW5jb2RlciB8fCBUZXh0RW5jb2RlcixcbiAgICAgICAgUmVhZGFibGVTdHJlYW06IHJlcUN0eC5SZWFkYWJsZVN0cmVhbSB8fCBSZWFkYWJsZVN0cmVhbSxcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZXIgPSBjcmVhdGVSYXdIYW5kbGVyKG9wdGlvbnMpO1xuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0KHJlcSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgW2JvZHksIGluaXRdID0gYXdhaXQgaGFuZGxlcih0b1JlcXVlc3QocmVxLCBhcGkpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYXBpLlJlc3BvbnNlKGJvZHksIGluaXQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIFRoZSBoYW5kbGVyIHNob3VsZG50IHRocm93IGVycm9ycy5cbiAgICAgICAgICAgIC8vIElmIHlvdSB3aXNoIHRvIGhhbmRsZSB0aGVtIGRpZmZlcmVudGx5LCBjb25zaWRlciBpbXBsZW1lbnRpbmcgeW91ciBvd24gcmVxdWVzdCBoYW5kbGVyLlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW50ZXJuYWwgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHJlcXVlc3QgaGFuZGxpbmcuICcgK1xuICAgICAgICAgICAgICAgICdQbGVhc2UgY2hlY2sgeW91ciBpbXBsZW1lbnRhdGlvbi4nLCBlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBhcGkuUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiB0b1JlcXVlc3QocmVxLCBhcGkgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICAgICAgdXJsOiByZXEudXJsLFxuICAgICAgICBoZWFkZXJzOiByZXEuaGVhZGVycyxcbiAgICAgICAgYm9keTogKCkgPT4gcmVxLnRleHQoKSxcbiAgICAgICAgcmF3OiByZXEsXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc3BvbnNlOiBhcGkuUmVzcG9uc2UgfHwgUmVzcG9uc2UsXG4gICAgICAgICAgICBUZXh0RW5jb2RlcjogYXBpLlRleHRFbmNvZGVyIHx8IFRleHRFbmNvZGVyLFxuICAgICAgICAgICAgUmVhZGFibGVTdHJlYW06IGFwaS5SZWFkYWJsZVN0cmVhbSB8fCBSZWFkYWJsZVN0cmVhbSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/use/fetch.mjs\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/utils.mjs":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/utils.mjs ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extendedTypeof: () => (/* binding */ extendedTypeof),\n/* harmony export */   isAsyncIterable: () => (/* binding */ isAsyncIterable),\n/* harmony export */   isExecutionResult: () => (/* binding */ isExecutionResult),\n/* harmony export */   isObject: () => (/* binding */ isObject)\n/* harmony export */ });\n/**\n *\n * utils\n *\n */\n/** @private */\nfunction extendedTypeof(val) {\n    if (val === null) {\n        return 'null';\n    }\n    if (Array.isArray(val)) {\n        return 'array';\n    }\n    return typeof val;\n}\n/** @private */\nfunction isObject(val) {\n    return typeof val === 'object' && val !== null;\n}\n/** @private */\nfunction isExecutionResult(val) {\n    return (isObject(val) &&\n        ('data' in val || ('data' in val && val.data == null && 'errors' in val)));\n}\n/** @private */\nfunction isAsyncIterable(val) {\n    return typeof Object(val)[Symbol.asyncIterator] === 'function';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dyYXBocWwtaHR0cEAxLjIyLjNfZ3JhcGhxbEAxNi4xMC4wL25vZGVfbW9kdWxlcy9ncmFwaHFsLWh0dHAvbGliL3V0aWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9ncmFwaHFsLWh0dHBAMS4yMi4zX2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvZ3JhcGhxbC1odHRwL2xpYi91dGlscy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogdXRpbHNcbiAqXG4gKi9cbi8qKiBAcHJpdmF0ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZGVkVHlwZW9mKHZhbCkge1xuICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiB2YWw7XG59XG4vKiogQHByaXZhdGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsO1xufVxuLyoqIEBwcml2YXRlICovXG5leHBvcnQgZnVuY3Rpb24gaXNFeGVjdXRpb25SZXN1bHQodmFsKSB7XG4gICAgcmV0dXJuIChpc09iamVjdCh2YWwpICYmXG4gICAgICAgICgnZGF0YScgaW4gdmFsIHx8ICgnZGF0YScgaW4gdmFsICYmIHZhbC5kYXRhID09IG51bGwgJiYgJ2Vycm9ycycgaW4gdmFsKSkpO1xufVxuLyoqIEBwcml2YXRlICovXG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgT2JqZWN0KHZhbClbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/graphql-http@1.22.3_graphql@16.10.0/node_modules/graphql-http/lib/utils.mjs\n");

/***/ })

};
;