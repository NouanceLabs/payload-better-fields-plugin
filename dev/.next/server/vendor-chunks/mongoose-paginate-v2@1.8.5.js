"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mongoose-paginate-v2@1.8.5";
exports.ids = ["vendor-chunks/mongoose-paginate-v2@1.8.5"];
exports.modules = {

/***/ "(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n/**\n * @param {Object}              [query={}]\n * @param {Object}              [options={}]\n * @param {Object|String}       [options.select='']\n * @param {Object|String}       [options.projection={}]\n * @param {Object}              [options.options={}]\n * @param {Object|String}       [options.sort]\n * @param {Object|String}       [options.customLabels]\n * @param {Object}              [options.collation]\n * @param {Array|Object|String} [options.populate]\n * @param {Boolean}             [options.lean=false]\n * @param {Boolean}             [options.leanWithId=true]\n * @param {Number}              [options.offset=0] - Use offset or page to set skip position\n * @param {Number}              [options.page=1]\n * @param {Number}              [options.limit=10]\n * @param {Boolean}             [options.useEstimatedCount=true] - Enable estimatedDocumentCount for larger datasets. As the name says, the count may not abe accurate.\n * @param {Function}            [options.useCustomCountFn=false] - use custom function for count datasets.\n * @param {Object}              [options.read={}] - Determines the MongoDB nodes from which to read.\n * @param {Function}            [callback]\n *\n * @returns {Promise}\n */\nvar PaginationParametersHelper = __webpack_require__(/*! ./pagination-parameters */ \"(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-parameters.js\");\nvar paginateSubDocsHelper = __webpack_require__(/*! ./pagination-subdocs */ \"(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js\");\nvar paginateQueryHelper = __webpack_require__(/*! ./pagination-queryHelper */ \"(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-queryHelper.js\");\nvar defaultOptions = {\n  customLabels: {\n    totalDocs: 'totalDocs',\n    limit: 'limit',\n    page: 'page',\n    totalPages: 'totalPages',\n    docs: 'docs',\n    nextPage: 'nextPage',\n    prevPage: 'prevPage',\n    pagingCounter: 'pagingCounter',\n    hasPrevPage: 'hasPrevPage',\n    hasNextPage: 'hasNextPage',\n    meta: null\n  },\n  collation: {},\n  lean: false,\n  leanWithId: true,\n  limit: 10,\n  projection: {},\n  select: '',\n  options: {},\n  pagination: true,\n  useEstimatedCount: false,\n  useCustomCountFn: false,\n  forceCountFn: false,\n  allowDiskUse: false,\n  customFind: 'find'\n};\nfunction paginate(query, options, callback) {\n  options = _objectSpread(_objectSpread(_objectSpread({}, defaultOptions), paginate.options), options);\n  query = query || {};\n  var _options = options,\n    collation = _options.collation,\n    lean = _options.lean,\n    leanWithId = _options.leanWithId,\n    populate = _options.populate,\n    projection = _options.projection,\n    read = _options.read,\n    select = _options.select,\n    sort = _options.sort,\n    pagination = _options.pagination,\n    useEstimatedCount = _options.useEstimatedCount,\n    useCustomCountFn = _options.useCustomCountFn,\n    forceCountFn = _options.forceCountFn,\n    allowDiskUse = _options.allowDiskUse,\n    customFind = _options.customFind;\n  var customLabels = _objectSpread(_objectSpread({}, defaultOptions.customLabels), options.customLabels);\n  var limit = defaultOptions.limit;\n  if (pagination && !isNaN(Number(options.limit))) {\n    limit = parseInt(options.limit, 10) > 0 ? parseInt(options.limit, 10) : 0;\n  }\n  var isCallbackSpecified = typeof callback === 'function';\n  var findOptions = options.options;\n  var offset;\n  var page;\n  var skip;\n  var docsPromise = [];\n\n  // Labels\n  var labelDocs = customLabels.docs;\n  var labelLimit = customLabels.limit;\n  var labelNextPage = customLabels.nextPage;\n  var labelPage = customLabels.page;\n  var labelPagingCounter = customLabels.pagingCounter;\n  var labelPrevPage = customLabels.prevPage;\n  var labelTotal = customLabels.totalDocs;\n  var labelTotalPages = customLabels.totalPages;\n  var labelHasPrevPage = customLabels.hasPrevPage;\n  var labelHasNextPage = customLabels.hasNextPage;\n  var labelMeta = customLabels.meta;\n  if (Object.prototype.hasOwnProperty.call(options, 'offset')) {\n    offset = parseInt(options.offset, 10);\n    skip = offset;\n  } else if (Object.prototype.hasOwnProperty.call(options, 'page')) {\n    page = parseInt(options.page, 10) > 0 ? parseInt(options.page, 10) : 1;\n    skip = (page - 1) * limit;\n  } else {\n    offset = 0;\n    page = 1;\n    skip = offset;\n  }\n  if (!pagination) {\n    page = 1;\n  }\n  var countPromise;\n\n  // Only run count when pagination is enabled\n  if (pagination) {\n    if (forceCountFn === true) {\n      // Deprecated since starting from MongoDB Node.JS driver v3.1\n\n      // Hack for mongo < v3.4\n      if (Object.keys(collation).length > 0) {\n        countPromise = this.countDocuments(query, findOptions).collation(collation).exec();\n      } else {\n        countPromise = this.countDocuments(query).exec();\n      }\n    } else {\n      if (useEstimatedCount === true) {\n        countPromise = this.estimatedDocumentCount().exec();\n      } else if (typeof useCustomCountFn === 'function') {\n        countPromise = useCustomCountFn();\n      } else {\n        // Hack for mongo < v3.4\n        if (Object.keys(collation).length > 0) {\n          countPromise = this.countDocuments(query, findOptions).collation(collation).exec();\n        } else {\n          countPromise = this.countDocuments(query).exec();\n        }\n      }\n    }\n  }\n  if (limit) {\n    var mQuery = this[customFind](query, projection, findOptions);\n    if (populate) {\n      mQuery.populate(populate);\n    }\n    mQuery.select(select);\n    mQuery.sort(sort);\n    mQuery.lean(lean);\n    if (read && read.pref) {\n      /**\n       * Determines the MongoDB nodes from which to read.\n       * @param read.pref one of the listed preference options or aliases\n       * @param read.tags optional tags for this query\n       */\n      mQuery.read(read.pref, read.tags);\n    }\n\n    // Hack for mongo < v3.4\n    if (Object.keys(collation).length > 0) {\n      mQuery.collation(collation);\n    }\n    if (pagination) {\n      mQuery.skip(skip);\n      mQuery.limit(limit);\n    }\n    try {\n      if (allowDiskUse === true) {\n        mQuery.allowDiskUse();\n      }\n    } catch (ex) {\n      console.error('Your MongoDB version does not support `allowDiskUse`.');\n    }\n    docsPromise = mQuery.exec();\n    if (lean && leanWithId) {\n      docsPromise = docsPromise.then(function (docs) {\n        docs.forEach(function (doc) {\n          if (doc._id) {\n            doc.id = String(doc._id);\n          }\n        });\n        return docs;\n      });\n    }\n  }\n  return Promise.all([countPromise, docsPromise]).then(function (values) {\n    var count = values[0];\n    var docs = values[1];\n    if (pagination !== true) {\n      count = docs.length;\n    }\n    var meta = {\n      [labelTotal]: count\n    };\n    var result = {};\n    if (typeof offset !== 'undefined') {\n      meta.offset = offset;\n      page = Math.ceil((offset + 1) / limit);\n    }\n    var pages = limit > 0 ? Math.ceil(count / limit) || 1 : null;\n\n    // Setting default values\n    meta[labelLimit] = count;\n    meta[labelTotalPages] = 1;\n    meta[labelPage] = page;\n    meta[labelPagingCounter] = (page - 1) * limit + 1;\n    meta[labelHasPrevPage] = false;\n    meta[labelHasNextPage] = false;\n    meta[labelPrevPage] = null;\n    meta[labelNextPage] = null;\n    if (pagination) {\n      meta[labelLimit] = limit;\n      meta[labelTotalPages] = pages;\n\n      // Set prev page\n      if (page > 1) {\n        meta[labelHasPrevPage] = true;\n        meta[labelPrevPage] = page - 1;\n      } else if (page == 1 && typeof offset !== 'undefined' && offset !== 0) {\n        meta[labelHasPrevPage] = true;\n        meta[labelPrevPage] = 1;\n      }\n\n      // Set next page\n      if (page < pages) {\n        meta[labelHasNextPage] = true;\n        meta[labelNextPage] = page + 1;\n      }\n    }\n\n    // Remove customLabels set to false\n    delete meta['false'];\n    if (limit == 0) {\n      meta[labelLimit] = 0;\n      meta[labelTotalPages] = 1;\n      meta[labelPage] = 1;\n      meta[labelPagingCounter] = 1;\n      meta[labelPrevPage] = null;\n      meta[labelNextPage] = null;\n      meta[labelHasPrevPage] = false;\n      meta[labelHasNextPage] = false;\n    }\n    if (labelMeta) {\n      result = {\n        [labelDocs]: docs,\n        [labelMeta]: meta\n      };\n    } else {\n      result = _objectSpread({\n        [labelDocs]: docs\n      }, meta);\n    }\n    return isCallbackSpecified ? callback(null, result) : Promise.resolve(result);\n  }).catch(function (error) {\n    return isCallbackSpecified ? callback(error) : Promise.reject(error);\n  });\n}\n\n/**\n * @param {Schema} schema\n */\nmodule.exports = function (schema) {\n  schema.statics.paginate = paginate;\n  schema.statics.paginateSubDocs = paginateSubDocsHelper;\n  schema.query.paginate = paginateQueryHelper;\n};\nmodule.exports.PaginationParameters = PaginationParametersHelper;\nmodule.exports.paginateSubDocs = paginateSubDocsHelper;\nmodule.exports.paginate = paginate;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vbmdvb3NlLXBhZ2luYXRlLXYyQDEuOC41L25vZGVfbW9kdWxlcy9tb25nb29zZS1wYWdpbmF0ZS12Mi9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCxzQkFBc0IsMENBQTBDLGlFQUFpRSxLQUFLLGtDQUFrQztBQUMzVSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCxhQUFhLHVEQUF1RCw0Q0FBNEMsS0FBSyw2Q0FBNkMsNkVBQTZFLE9BQU8saURBQWlELG1GQUFtRixPQUFPO0FBQ3RnQiw0Q0FBNEMsa0JBQWtCLGtDQUFrQyxvRUFBb0UsS0FBSyxPQUFPLG9CQUFvQjtBQUNwTTtBQUNBLFdBQVcscUJBQXFCLFNBQVM7QUFDekMsV0FBVyxxQkFBcUIsV0FBVztBQUMzQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQixzQkFBc0I7QUFDdEQsV0FBVyxxQkFBcUIsbUJBQW1CO0FBQ25ELFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCLGdCQUFnQjtBQUNoRCxXQUFXLHFCQUFxQjtBQUNoQztBQUNBLGFBQWE7QUFDYjtBQUNBLGlDQUFpQyxtQkFBTyxDQUFDLHVKQUF5QjtBQUNsRSw0QkFBNEIsbUJBQU8sQ0FBQyxpSkFBc0I7QUFDMUQsMEJBQTBCLG1CQUFPLENBQUMseUpBQTBCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLDhCQUE4QjtBQUM5Qix1QkFBdUIiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9tb25nb29zZS1wYWdpbmF0ZS12MkAxLjguNS9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgW3F1ZXJ5PXt9XVxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbb3B0aW9ucz17fV1cbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gICAgICAgW29wdGlvbnMuc2VsZWN0PScnXVxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSAgICAgICBbb3B0aW9ucy5wcm9qZWN0aW9uPXt9XVxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbb3B0aW9ucy5vcHRpb25zPXt9XVxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSAgICAgICBbb3B0aW9ucy5zb3J0XVxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSAgICAgICBbb3B0aW9ucy5jdXN0b21MYWJlbHNdXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgIFtvcHRpb25zLmNvbGxhdGlvbl1cbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fFN0cmluZ30gW29wdGlvbnMucG9wdWxhdGVdXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgICAgICAgIFtvcHRpb25zLmxlYW49ZmFsc2VdXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgICAgICAgIFtvcHRpb25zLmxlYW5XaXRoSWQ9dHJ1ZV1cbiAqIEBwYXJhbSB7TnVtYmVyfSAgICAgICAgICAgICAgW29wdGlvbnMub2Zmc2V0PTBdIC0gVXNlIG9mZnNldCBvciBwYWdlIHRvIHNldCBza2lwIHBvc2l0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gICAgICAgICAgICAgIFtvcHRpb25zLnBhZ2U9MV1cbiAqIEBwYXJhbSB7TnVtYmVyfSAgICAgICAgICAgICAgW29wdGlvbnMubGltaXQ9MTBdXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgICAgICAgIFtvcHRpb25zLnVzZUVzdGltYXRlZENvdW50PXRydWVdIC0gRW5hYmxlIGVzdGltYXRlZERvY3VtZW50Q291bnQgZm9yIGxhcmdlciBkYXRhc2V0cy4gQXMgdGhlIG5hbWUgc2F5cywgdGhlIGNvdW50IG1heSBub3QgYWJlIGFjY3VyYXRlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gICAgICAgICAgICBbb3B0aW9ucy51c2VDdXN0b21Db3VudEZuPWZhbHNlXSAtIHVzZSBjdXN0b20gZnVuY3Rpb24gZm9yIGNvdW50IGRhdGFzZXRzLlxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbb3B0aW9ucy5yZWFkPXt9XSAtIERldGVybWluZXMgdGhlIE1vbmdvREIgbm9kZXMgZnJvbSB3aGljaCB0byByZWFkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gICAgICAgICAgICBbY2FsbGJhY2tdXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9XG4gKi9cbnZhciBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJy4vcGFnaW5hdGlvbi1wYXJhbWV0ZXJzJyk7XG52YXIgcGFnaW5hdGVTdWJEb2NzSGVscGVyID0gcmVxdWlyZSgnLi9wYWdpbmF0aW9uLXN1YmRvY3MnKTtcbnZhciBwYWdpbmF0ZVF1ZXJ5SGVscGVyID0gcmVxdWlyZSgnLi9wYWdpbmF0aW9uLXF1ZXJ5SGVscGVyJyk7XG52YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGN1c3RvbUxhYmVsczoge1xuICAgIHRvdGFsRG9jczogJ3RvdGFsRG9jcycsXG4gICAgbGltaXQ6ICdsaW1pdCcsXG4gICAgcGFnZTogJ3BhZ2UnLFxuICAgIHRvdGFsUGFnZXM6ICd0b3RhbFBhZ2VzJyxcbiAgICBkb2NzOiAnZG9jcycsXG4gICAgbmV4dFBhZ2U6ICduZXh0UGFnZScsXG4gICAgcHJldlBhZ2U6ICdwcmV2UGFnZScsXG4gICAgcGFnaW5nQ291bnRlcjogJ3BhZ2luZ0NvdW50ZXInLFxuICAgIGhhc1ByZXZQYWdlOiAnaGFzUHJldlBhZ2UnLFxuICAgIGhhc05leHRQYWdlOiAnaGFzTmV4dFBhZ2UnLFxuICAgIG1ldGE6IG51bGxcbiAgfSxcbiAgY29sbGF0aW9uOiB7fSxcbiAgbGVhbjogZmFsc2UsXG4gIGxlYW5XaXRoSWQ6IHRydWUsXG4gIGxpbWl0OiAxMCxcbiAgcHJvamVjdGlvbjoge30sXG4gIHNlbGVjdDogJycsXG4gIG9wdGlvbnM6IHt9LFxuICBwYWdpbmF0aW9uOiB0cnVlLFxuICB1c2VFc3RpbWF0ZWRDb3VudDogZmFsc2UsXG4gIHVzZUN1c3RvbUNvdW50Rm46IGZhbHNlLFxuICBmb3JjZUNvdW50Rm46IGZhbHNlLFxuICBhbGxvd0Rpc2tVc2U6IGZhbHNlLFxuICBjdXN0b21GaW5kOiAnZmluZCdcbn07XG5mdW5jdGlvbiBwYWdpbmF0ZShxdWVyeSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgb3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0T3B0aW9ucyksIHBhZ2luYXRlLm9wdGlvbnMpLCBvcHRpb25zKTtcbiAgcXVlcnkgPSBxdWVyeSB8fCB7fTtcbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICBjb2xsYXRpb24gPSBfb3B0aW9ucy5jb2xsYXRpb24sXG4gICAgbGVhbiA9IF9vcHRpb25zLmxlYW4sXG4gICAgbGVhbldpdGhJZCA9IF9vcHRpb25zLmxlYW5XaXRoSWQsXG4gICAgcG9wdWxhdGUgPSBfb3B0aW9ucy5wb3B1bGF0ZSxcbiAgICBwcm9qZWN0aW9uID0gX29wdGlvbnMucHJvamVjdGlvbixcbiAgICByZWFkID0gX29wdGlvbnMucmVhZCxcbiAgICBzZWxlY3QgPSBfb3B0aW9ucy5zZWxlY3QsXG4gICAgc29ydCA9IF9vcHRpb25zLnNvcnQsXG4gICAgcGFnaW5hdGlvbiA9IF9vcHRpb25zLnBhZ2luYXRpb24sXG4gICAgdXNlRXN0aW1hdGVkQ291bnQgPSBfb3B0aW9ucy51c2VFc3RpbWF0ZWRDb3VudCxcbiAgICB1c2VDdXN0b21Db3VudEZuID0gX29wdGlvbnMudXNlQ3VzdG9tQ291bnRGbixcbiAgICBmb3JjZUNvdW50Rm4gPSBfb3B0aW9ucy5mb3JjZUNvdW50Rm4sXG4gICAgYWxsb3dEaXNrVXNlID0gX29wdGlvbnMuYWxsb3dEaXNrVXNlLFxuICAgIGN1c3RvbUZpbmQgPSBfb3B0aW9ucy5jdXN0b21GaW5kO1xuICB2YXIgY3VzdG9tTGFiZWxzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0T3B0aW9ucy5jdXN0b21MYWJlbHMpLCBvcHRpb25zLmN1c3RvbUxhYmVscyk7XG4gIHZhciBsaW1pdCA9IGRlZmF1bHRPcHRpb25zLmxpbWl0O1xuICBpZiAocGFnaW5hdGlvbiAmJiAhaXNOYU4oTnVtYmVyKG9wdGlvbnMubGltaXQpKSkge1xuICAgIGxpbWl0ID0gcGFyc2VJbnQob3B0aW9ucy5saW1pdCwgMTApID4gMCA/IHBhcnNlSW50KG9wdGlvbnMubGltaXQsIDEwKSA6IDA7XG4gIH1cbiAgdmFyIGlzQ2FsbGJhY2tTcGVjaWZpZWQgPSB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbic7XG4gIHZhciBmaW5kT3B0aW9ucyA9IG9wdGlvbnMub3B0aW9ucztcbiAgdmFyIG9mZnNldDtcbiAgdmFyIHBhZ2U7XG4gIHZhciBza2lwO1xuICB2YXIgZG9jc1Byb21pc2UgPSBbXTtcblxuICAvLyBMYWJlbHNcbiAgdmFyIGxhYmVsRG9jcyA9IGN1c3RvbUxhYmVscy5kb2NzO1xuICB2YXIgbGFiZWxMaW1pdCA9IGN1c3RvbUxhYmVscy5saW1pdDtcbiAgdmFyIGxhYmVsTmV4dFBhZ2UgPSBjdXN0b21MYWJlbHMubmV4dFBhZ2U7XG4gIHZhciBsYWJlbFBhZ2UgPSBjdXN0b21MYWJlbHMucGFnZTtcbiAgdmFyIGxhYmVsUGFnaW5nQ291bnRlciA9IGN1c3RvbUxhYmVscy5wYWdpbmdDb3VudGVyO1xuICB2YXIgbGFiZWxQcmV2UGFnZSA9IGN1c3RvbUxhYmVscy5wcmV2UGFnZTtcbiAgdmFyIGxhYmVsVG90YWwgPSBjdXN0b21MYWJlbHMudG90YWxEb2NzO1xuICB2YXIgbGFiZWxUb3RhbFBhZ2VzID0gY3VzdG9tTGFiZWxzLnRvdGFsUGFnZXM7XG4gIHZhciBsYWJlbEhhc1ByZXZQYWdlID0gY3VzdG9tTGFiZWxzLmhhc1ByZXZQYWdlO1xuICB2YXIgbGFiZWxIYXNOZXh0UGFnZSA9IGN1c3RvbUxhYmVscy5oYXNOZXh0UGFnZTtcbiAgdmFyIGxhYmVsTWV0YSA9IGN1c3RvbUxhYmVscy5tZXRhO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdvZmZzZXQnKSkge1xuICAgIG9mZnNldCA9IHBhcnNlSW50KG9wdGlvbnMub2Zmc2V0LCAxMCk7XG4gICAgc2tpcCA9IG9mZnNldDtcbiAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3BhZ2UnKSkge1xuICAgIHBhZ2UgPSBwYXJzZUludChvcHRpb25zLnBhZ2UsIDEwKSA+IDAgPyBwYXJzZUludChvcHRpb25zLnBhZ2UsIDEwKSA6IDE7XG4gICAgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcbiAgfSBlbHNlIHtcbiAgICBvZmZzZXQgPSAwO1xuICAgIHBhZ2UgPSAxO1xuICAgIHNraXAgPSBvZmZzZXQ7XG4gIH1cbiAgaWYgKCFwYWdpbmF0aW9uKSB7XG4gICAgcGFnZSA9IDE7XG4gIH1cbiAgdmFyIGNvdW50UHJvbWlzZTtcblxuICAvLyBPbmx5IHJ1biBjb3VudCB3aGVuIHBhZ2luYXRpb24gaXMgZW5hYmxlZFxuICBpZiAocGFnaW5hdGlvbikge1xuICAgIGlmIChmb3JjZUNvdW50Rm4gPT09IHRydWUpIHtcbiAgICAgIC8vIERlcHJlY2F0ZWQgc2luY2Ugc3RhcnRpbmcgZnJvbSBNb25nb0RCIE5vZGUuSlMgZHJpdmVyIHYzLjFcblxuICAgICAgLy8gSGFjayBmb3IgbW9uZ28gPCB2My40XG4gICAgICBpZiAoT2JqZWN0LmtleXMoY29sbGF0aW9uKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvdW50UHJvbWlzZSA9IHRoaXMuY291bnREb2N1bWVudHMocXVlcnksIGZpbmRPcHRpb25zKS5jb2xsYXRpb24oY29sbGF0aW9uKS5leGVjKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmNvdW50RG9jdW1lbnRzKHF1ZXJ5KS5leGVjKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh1c2VFc3RpbWF0ZWRDb3VudCA9PT0gdHJ1ZSkge1xuICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmVzdGltYXRlZERvY3VtZW50Q291bnQoKS5leGVjKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB1c2VDdXN0b21Db3VudEZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvdW50UHJvbWlzZSA9IHVzZUN1c3RvbUNvdW50Rm4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhY2sgZm9yIG1vbmdvIDwgdjMuNFxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoY29sbGF0aW9uKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5jb3VudERvY3VtZW50cyhxdWVyeSwgZmluZE9wdGlvbnMpLmNvbGxhdGlvbihjb2xsYXRpb24pLmV4ZWMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmNvdW50RG9jdW1lbnRzKHF1ZXJ5KS5leGVjKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGxpbWl0KSB7XG4gICAgdmFyIG1RdWVyeSA9IHRoaXNbY3VzdG9tRmluZF0ocXVlcnksIHByb2plY3Rpb24sIGZpbmRPcHRpb25zKTtcbiAgICBpZiAocG9wdWxhdGUpIHtcbiAgICAgIG1RdWVyeS5wb3B1bGF0ZShwb3B1bGF0ZSk7XG4gICAgfVxuICAgIG1RdWVyeS5zZWxlY3Qoc2VsZWN0KTtcbiAgICBtUXVlcnkuc29ydChzb3J0KTtcbiAgICBtUXVlcnkubGVhbihsZWFuKTtcbiAgICBpZiAocmVhZCAmJiByZWFkLnByZWYpIHtcbiAgICAgIC8qKlxuICAgICAgICogRGV0ZXJtaW5lcyB0aGUgTW9uZ29EQiBub2RlcyBmcm9tIHdoaWNoIHRvIHJlYWQuXG4gICAgICAgKiBAcGFyYW0gcmVhZC5wcmVmIG9uZSBvZiB0aGUgbGlzdGVkIHByZWZlcmVuY2Ugb3B0aW9ucyBvciBhbGlhc2VzXG4gICAgICAgKiBAcGFyYW0gcmVhZC50YWdzIG9wdGlvbmFsIHRhZ3MgZm9yIHRoaXMgcXVlcnlcbiAgICAgICAqL1xuICAgICAgbVF1ZXJ5LnJlYWQocmVhZC5wcmVmLCByZWFkLnRhZ3MpO1xuICAgIH1cblxuICAgIC8vIEhhY2sgZm9yIG1vbmdvIDwgdjMuNFxuICAgIGlmIChPYmplY3Qua2V5cyhjb2xsYXRpb24pLmxlbmd0aCA+IDApIHtcbiAgICAgIG1RdWVyeS5jb2xsYXRpb24oY29sbGF0aW9uKTtcbiAgICB9XG4gICAgaWYgKHBhZ2luYXRpb24pIHtcbiAgICAgIG1RdWVyeS5za2lwKHNraXApO1xuICAgICAgbVF1ZXJ5LmxpbWl0KGxpbWl0KTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmIChhbGxvd0Rpc2tVc2UgPT09IHRydWUpIHtcbiAgICAgICAgbVF1ZXJ5LmFsbG93RGlza1VzZSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdZb3VyIE1vbmdvREIgdmVyc2lvbiBkb2VzIG5vdCBzdXBwb3J0IGBhbGxvd0Rpc2tVc2VgLicpO1xuICAgIH1cbiAgICBkb2NzUHJvbWlzZSA9IG1RdWVyeS5leGVjKCk7XG4gICAgaWYgKGxlYW4gJiYgbGVhbldpdGhJZCkge1xuICAgICAgZG9jc1Byb21pc2UgPSBkb2NzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkb2NzKSB7XG4gICAgICAgIGRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5faWQpIHtcbiAgICAgICAgICAgIGRvYy5pZCA9IFN0cmluZyhkb2MuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZG9jcztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gUHJvbWlzZS5hbGwoW2NvdW50UHJvbWlzZSwgZG9jc1Byb21pc2VdKS50aGVuKGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICB2YXIgY291bnQgPSB2YWx1ZXNbMF07XG4gICAgdmFyIGRvY3MgPSB2YWx1ZXNbMV07XG4gICAgaWYgKHBhZ2luYXRpb24gIT09IHRydWUpIHtcbiAgICAgIGNvdW50ID0gZG9jcy5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBtZXRhID0ge1xuICAgICAgW2xhYmVsVG90YWxdOiBjb3VudFxuICAgIH07XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbWV0YS5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICBwYWdlID0gTWF0aC5jZWlsKChvZmZzZXQgKyAxKSAvIGxpbWl0KTtcbiAgICB9XG4gICAgdmFyIHBhZ2VzID0gbGltaXQgPiAwID8gTWF0aC5jZWlsKGNvdW50IC8gbGltaXQpIHx8IDEgOiBudWxsO1xuXG4gICAgLy8gU2V0dGluZyBkZWZhdWx0IHZhbHVlc1xuICAgIG1ldGFbbGFiZWxMaW1pdF0gPSBjb3VudDtcbiAgICBtZXRhW2xhYmVsVG90YWxQYWdlc10gPSAxO1xuICAgIG1ldGFbbGFiZWxQYWdlXSA9IHBhZ2U7XG4gICAgbWV0YVtsYWJlbFBhZ2luZ0NvdW50ZXJdID0gKHBhZ2UgLSAxKSAqIGxpbWl0ICsgMTtcbiAgICBtZXRhW2xhYmVsSGFzUHJldlBhZ2VdID0gZmFsc2U7XG4gICAgbWV0YVtsYWJlbEhhc05leHRQYWdlXSA9IGZhbHNlO1xuICAgIG1ldGFbbGFiZWxQcmV2UGFnZV0gPSBudWxsO1xuICAgIG1ldGFbbGFiZWxOZXh0UGFnZV0gPSBudWxsO1xuICAgIGlmIChwYWdpbmF0aW9uKSB7XG4gICAgICBtZXRhW2xhYmVsTGltaXRdID0gbGltaXQ7XG4gICAgICBtZXRhW2xhYmVsVG90YWxQYWdlc10gPSBwYWdlcztcblxuICAgICAgLy8gU2V0IHByZXYgcGFnZVxuICAgICAgaWYgKHBhZ2UgPiAxKSB7XG4gICAgICAgIG1ldGFbbGFiZWxIYXNQcmV2UGFnZV0gPSB0cnVlO1xuICAgICAgICBtZXRhW2xhYmVsUHJldlBhZ2VdID0gcGFnZSAtIDE7XG4gICAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gMSAmJiB0eXBlb2Ygb2Zmc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvZmZzZXQgIT09IDApIHtcbiAgICAgICAgbWV0YVtsYWJlbEhhc1ByZXZQYWdlXSA9IHRydWU7XG4gICAgICAgIG1ldGFbbGFiZWxQcmV2UGFnZV0gPSAxO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgbmV4dCBwYWdlXG4gICAgICBpZiAocGFnZSA8IHBhZ2VzKSB7XG4gICAgICAgIG1ldGFbbGFiZWxIYXNOZXh0UGFnZV0gPSB0cnVlO1xuICAgICAgICBtZXRhW2xhYmVsTmV4dFBhZ2VdID0gcGFnZSArIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGN1c3RvbUxhYmVscyBzZXQgdG8gZmFsc2VcbiAgICBkZWxldGUgbWV0YVsnZmFsc2UnXTtcbiAgICBpZiAobGltaXQgPT0gMCkge1xuICAgICAgbWV0YVtsYWJlbExpbWl0XSA9IDA7XG4gICAgICBtZXRhW2xhYmVsVG90YWxQYWdlc10gPSAxO1xuICAgICAgbWV0YVtsYWJlbFBhZ2VdID0gMTtcbiAgICAgIG1ldGFbbGFiZWxQYWdpbmdDb3VudGVyXSA9IDE7XG4gICAgICBtZXRhW2xhYmVsUHJldlBhZ2VdID0gbnVsbDtcbiAgICAgIG1ldGFbbGFiZWxOZXh0UGFnZV0gPSBudWxsO1xuICAgICAgbWV0YVtsYWJlbEhhc1ByZXZQYWdlXSA9IGZhbHNlO1xuICAgICAgbWV0YVtsYWJlbEhhc05leHRQYWdlXSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGFiZWxNZXRhKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIFtsYWJlbERvY3NdOiBkb2NzLFxuICAgICAgICBbbGFiZWxNZXRhXTogbWV0YVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgIFtsYWJlbERvY3NdOiBkb2NzXG4gICAgICB9LCBtZXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQ2FsbGJhY2tTcGVjaWZpZWQgPyBjYWxsYmFjayhudWxsLCByZXN1bHQpIDogUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHJldHVybiBpc0NhbGxiYWNrU3BlY2lmaWVkID8gY2FsbGJhY2soZXJyb3IpIDogUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NjaGVtYX0gc2NoZW1hXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNjaGVtYSkge1xuICBzY2hlbWEuc3RhdGljcy5wYWdpbmF0ZSA9IHBhZ2luYXRlO1xuICBzY2hlbWEuc3RhdGljcy5wYWdpbmF0ZVN1YkRvY3MgPSBwYWdpbmF0ZVN1YkRvY3NIZWxwZXI7XG4gIHNjaGVtYS5xdWVyeS5wYWdpbmF0ZSA9IHBhZ2luYXRlUXVlcnlIZWxwZXI7XG59O1xubW9kdWxlLmV4cG9ydHMuUGFnaW5hdGlvblBhcmFtZXRlcnMgPSBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlcjtcbm1vZHVsZS5leHBvcnRzLnBhZ2luYXRlU3ViRG9jcyA9IHBhZ2luYXRlU3ViRG9jc0hlbHBlcjtcbm1vZHVsZS5leHBvcnRzLnBhZ2luYXRlID0gcGFnaW5hdGU7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-parameters.js":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-parameters.js ***!
  \************************************************************************************************************************/
/***/ ((module) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nvar PaginationParametersHelper = /*#__PURE__*/function () {\n  function PaginationParametersHelper(request) {\n    _classCallCheck(this, PaginationParametersHelper);\n    this.query = request.query;\n  }\n\n  /**\r\n   * Handle boolean options\r\n   * If the 'option'-Parameter is a string, check if it equals 'true'\r\n   * If not, it should be a boolean, and can be returned as it is.\r\n   *\r\n   * @param {string|boolean} option\r\n   * @return {boolean}\r\n   * */\n  _createClass(PaginationParametersHelper, [{\n    key: \"booleanOpt\",\n    value: function booleanOpt(option) {\n      return typeof option === 'string' ? option === 'true' : option;\n    }\n\n    /**\r\n     * Handle options that are strings or objects (including arrays)\r\n     *\r\n     * @param {object|string} option\r\n     * @return {object|string}\r\n     * */\n  }, {\n    key: \"optObjectOrString\",\n    value: function optObjectOrString(option) {\n      // Since the JSON in the query object will be strings,\n      // we need to be able to detect this, in order to differentiate between JSON-objects and pure strings.\n      // a pure string, e.g. 'field -test', might not be parsed as wished by JSON.parse\n      var openingBrackets = ['{', '['];\n      var closingBrackets = ['}', ']'];\n      var firstCharIsBracket = option[0] && openingBrackets.includes(option[0]);\n      var lastCharIsBracket = option[option.length - 1] && closingBrackets.includes(option[option.length - 1]);\n      var optionIsObject = firstCharIsBracket && lastCharIsBracket;\n      try {\n        return optionIsObject ? JSON.parse(option) : option;\n      } catch (err) {\n        // Fallback for parsing errors of objects\n        return {};\n      }\n    }\n\n    /**\r\n     * Yields the \"query\" parameter for Model.paginate()\r\n     * given any attributes of the Express req.query-Object,\r\n     * */\n  }, {\n    key: \"getQuery\",\n    value: function getQuery() {\n      var _this$query;\n      var filtersQueryParameter = (_this$query = this.query) === null || _this$query === void 0 ? void 0 : _this$query.query;\n      if (!filtersQueryParameter) return {};\n      try {\n        return JSON.parse(filtersQueryParameter);\n      } catch (err) {\n        return {};\n      }\n    }\n\n    /**\r\n     * Yields the \"options\" parameter for Model.paginate(),\r\n     * given any attributes of the Express req.query-Object\r\n     * */\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      if (!this.query) return {};\n      var options = {};\n\n      // Instantiate variables with all the possible options for Model.paginate()\n      var select = this.query.select,\n        collation = this.query.collation,\n        sort = this.query.sort,\n        populate = this.query.populate,\n        projection = this.query.projection,\n        lean = this.query.lean,\n        leanWithId = this.query.leanWithId,\n        offset = this.query.offset,\n        page = this.query.page,\n        limit = this.query.limit,\n        customLabels = this.query.customLabels,\n        pagination = this.query.pagination,\n        useEstimatedCount = this.query.useEstimatedCount,\n        useCustomCountFn = this.query.useCustomCountFn,\n        forceCountFn = this.query.forceCountFn,\n        allowDiskUse = this.query.allowDiskUse,\n        read = this.query.read,\n        mongooseOptions = this.query.options;\n\n      // For every option that is set, add it to the 'options' object-literal\n      if (select) options['select'] = this.optObjectOrString(select);\n      if (collation) options['collation'] = this.optObjectOrString(collation);\n      if (sort) options['sort'] = this.optObjectOrString(sort);\n      if (populate) options['populate'] = this.optObjectOrString(populate);\n      if (projection !== undefined) options['projection'] = this.optObjectOrString(projection);\n      if (lean !== undefined) options['lean'] = this.booleanOpt(lean);\n      if (leanWithId !== undefined) options['leanWithId'] = this.booleanOpt(leanWithId);\n      if (offset) options['offset'] = Number(offset);\n      if (page) options['page'] = Number(page);\n      if (limit || limit == 0) options['limit'] = Number(limit);\n      if (customLabels) options['customLabels'] = this.optObjectOrString(customLabels);\n      if (pagination !== undefined) options['pagination'] = this.booleanOpt(pagination);\n      if (useEstimatedCount !== undefined) options['useEstimatedCount'] = this.booleanOpt(useEstimatedCount);\n      if (useCustomCountFn !== undefined) options['useCustomCountFn'] = this.booleanOpt(useCustomCountFn);\n      if (forceCountFn !== undefined) options['forceCountFn'] = this.booleanOpt(forceCountFn);\n      if (allowDiskUse) options['allowDiskUse'] = this.booleanOpt(allowDiskUse);\n      if (read) options['read'] = this.optObjectOrString(read);\n      if (mongooseOptions) options['options'] = this.getOptions(mongooseOptions);\n      return options;\n    }\n\n    /**\r\n     * Yields an array with positions:\r\n     * [0] \"query\" parameter, for Model.paginate()\r\n     * [1] \"options\" parameter, for Model.paginate()\r\n     * */\n  }, {\n    key: \"get\",\n    value: function get() {\n      return [_objectSpread({}, this.getQuery()), _objectSpread({}, this.getOptions())];\n    }\n  }]);\n  return PaginationParametersHelper;\n}();\nmodule.exports = PaginationParametersHelper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vbmdvb3NlLXBhZ2luYXRlLXYyQDEuOC41L25vZGVfbW9kdWxlcy9tb25nb29zZS1wYWdpbmF0ZS12Mi9kaXN0L3BhZ2luYXRpb24tcGFyYW1ldGVycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiwyQ0FBMkMsZ0NBQWdDLG9DQUFvQyxvREFBb0Qsc0JBQXNCLDBDQUEwQyxpRUFBaUUsS0FBSyxrQ0FBa0M7QUFDM1UsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsYUFBYSx1REFBdUQsNENBQTRDLEtBQUssNkNBQTZDLDZFQUE2RSxPQUFPLGlEQUFpRCxtRkFBbUYsT0FBTztBQUN0Z0IsNENBQTRDLGtCQUFrQixrQ0FBa0Msb0VBQW9FLEtBQUssT0FBTyxvQkFBb0I7QUFDcE0sa0RBQWtELDBDQUEwQztBQUM1Riw0Q0FBNEMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RDtBQUMvUCw4REFBOEQsc0VBQXNFLDhEQUE4RDtBQUNsTTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QixnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDhCQUE4QixvQ0FBb0M7QUFDbEU7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9tb25nb29zZS1wYWdpbmF0ZS12MkAxLjguNS9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9wYWdpbmF0aW9uLXBhcmFtZXRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG52YXIgUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlcihyZXF1ZXN0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVxdWVzdC5xdWVyeTtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIEhhbmRsZSBib29sZWFuIG9wdGlvbnNcclxuICAgKiBJZiB0aGUgJ29wdGlvbictUGFyYW1ldGVyIGlzIGEgc3RyaW5nLCBjaGVjayBpZiBpdCBlcXVhbHMgJ3RydWUnXHJcbiAgICogSWYgbm90LCBpdCBzaG91bGQgYmUgYSBib29sZWFuLCBhbmQgY2FuIGJlIHJldHVybmVkIGFzIGl0IGlzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gb3B0aW9uXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgKiAqL1xuICBfY3JlYXRlQ2xhc3MoUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXIsIFt7XG4gICAga2V5OiBcImJvb2xlYW5PcHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYm9vbGVhbk9wdChvcHRpb24pIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJyA/IG9wdGlvbiA9PT0gJ3RydWUnIDogb3B0aW9uO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIG9wdGlvbnMgdGhhdCBhcmUgc3RyaW5ncyBvciBvYmplY3RzIChpbmNsdWRpbmcgYXJyYXlzKVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fHN0cmluZ30gb3B0aW9uXHJcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R8c3RyaW5nfVxyXG4gICAgICogKi9cbiAgfSwge1xuICAgIGtleTogXCJvcHRPYmplY3RPclN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcHRPYmplY3RPclN0cmluZyhvcHRpb24pIHtcbiAgICAgIC8vIFNpbmNlIHRoZSBKU09OIGluIHRoZSBxdWVyeSBvYmplY3Qgd2lsbCBiZSBzdHJpbmdzLFxuICAgICAgLy8gd2UgbmVlZCB0byBiZSBhYmxlIHRvIGRldGVjdCB0aGlzLCBpbiBvcmRlciB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4gSlNPTi1vYmplY3RzIGFuZCBwdXJlIHN0cmluZ3MuXG4gICAgICAvLyBhIHB1cmUgc3RyaW5nLCBlLmcuICdmaWVsZCAtdGVzdCcsIG1pZ2h0IG5vdCBiZSBwYXJzZWQgYXMgd2lzaGVkIGJ5IEpTT04ucGFyc2VcbiAgICAgIHZhciBvcGVuaW5nQnJhY2tldHMgPSBbJ3snLCAnWyddO1xuICAgICAgdmFyIGNsb3NpbmdCcmFja2V0cyA9IFsnfScsICddJ107XG4gICAgICB2YXIgZmlyc3RDaGFySXNCcmFja2V0ID0gb3B0aW9uWzBdICYmIG9wZW5pbmdCcmFja2V0cy5pbmNsdWRlcyhvcHRpb25bMF0pO1xuICAgICAgdmFyIGxhc3RDaGFySXNCcmFja2V0ID0gb3B0aW9uW29wdGlvbi5sZW5ndGggLSAxXSAmJiBjbG9zaW5nQnJhY2tldHMuaW5jbHVkZXMob3B0aW9uW29wdGlvbi5sZW5ndGggLSAxXSk7XG4gICAgICB2YXIgb3B0aW9uSXNPYmplY3QgPSBmaXJzdENoYXJJc0JyYWNrZXQgJiYgbGFzdENoYXJJc0JyYWNrZXQ7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gb3B0aW9uSXNPYmplY3QgPyBKU09OLnBhcnNlKG9wdGlvbikgOiBvcHRpb247XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgZm9yIHBhcnNpbmcgZXJyb3JzIG9mIG9iamVjdHNcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogWWllbGRzIHRoZSBcInF1ZXJ5XCIgcGFyYW1ldGVyIGZvciBNb2RlbC5wYWdpbmF0ZSgpXHJcbiAgICAgKiBnaXZlbiBhbnkgYXR0cmlidXRlcyBvZiB0aGUgRXhwcmVzcyByZXEucXVlcnktT2JqZWN0LFxyXG4gICAgICogKi9cbiAgfSwge1xuICAgIGtleTogXCJnZXRRdWVyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRRdWVyeSgpIHtcbiAgICAgIHZhciBfdGhpcyRxdWVyeTtcbiAgICAgIHZhciBmaWx0ZXJzUXVlcnlQYXJhbWV0ZXIgPSAoX3RoaXMkcXVlcnkgPSB0aGlzLnF1ZXJ5KSA9PT0gbnVsbCB8fCBfdGhpcyRxdWVyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcXVlcnkucXVlcnk7XG4gICAgICBpZiAoIWZpbHRlcnNRdWVyeVBhcmFtZXRlcikgcmV0dXJuIHt9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZmlsdGVyc1F1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBZaWVsZHMgdGhlIFwib3B0aW9uc1wiIHBhcmFtZXRlciBmb3IgTW9kZWwucGFnaW5hdGUoKSxcclxuICAgICAqIGdpdmVuIGFueSBhdHRyaWJ1dGVzIG9mIHRoZSBFeHByZXNzIHJlcS5xdWVyeS1PYmplY3RcclxuICAgICAqICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0T3B0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgICAgaWYgKCF0aGlzLnF1ZXJ5KSByZXR1cm4ge307XG4gICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAvLyBJbnN0YW50aWF0ZSB2YXJpYWJsZXMgd2l0aCBhbGwgdGhlIHBvc3NpYmxlIG9wdGlvbnMgZm9yIE1vZGVsLnBhZ2luYXRlKClcbiAgICAgIHZhciBzZWxlY3QgPSB0aGlzLnF1ZXJ5LnNlbGVjdCxcbiAgICAgICAgY29sbGF0aW9uID0gdGhpcy5xdWVyeS5jb2xsYXRpb24sXG4gICAgICAgIHNvcnQgPSB0aGlzLnF1ZXJ5LnNvcnQsXG4gICAgICAgIHBvcHVsYXRlID0gdGhpcy5xdWVyeS5wb3B1bGF0ZSxcbiAgICAgICAgcHJvamVjdGlvbiA9IHRoaXMucXVlcnkucHJvamVjdGlvbixcbiAgICAgICAgbGVhbiA9IHRoaXMucXVlcnkubGVhbixcbiAgICAgICAgbGVhbldpdGhJZCA9IHRoaXMucXVlcnkubGVhbldpdGhJZCxcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5xdWVyeS5vZmZzZXQsXG4gICAgICAgIHBhZ2UgPSB0aGlzLnF1ZXJ5LnBhZ2UsXG4gICAgICAgIGxpbWl0ID0gdGhpcy5xdWVyeS5saW1pdCxcbiAgICAgICAgY3VzdG9tTGFiZWxzID0gdGhpcy5xdWVyeS5jdXN0b21MYWJlbHMsXG4gICAgICAgIHBhZ2luYXRpb24gPSB0aGlzLnF1ZXJ5LnBhZ2luYXRpb24sXG4gICAgICAgIHVzZUVzdGltYXRlZENvdW50ID0gdGhpcy5xdWVyeS51c2VFc3RpbWF0ZWRDb3VudCxcbiAgICAgICAgdXNlQ3VzdG9tQ291bnRGbiA9IHRoaXMucXVlcnkudXNlQ3VzdG9tQ291bnRGbixcbiAgICAgICAgZm9yY2VDb3VudEZuID0gdGhpcy5xdWVyeS5mb3JjZUNvdW50Rm4sXG4gICAgICAgIGFsbG93RGlza1VzZSA9IHRoaXMucXVlcnkuYWxsb3dEaXNrVXNlLFxuICAgICAgICByZWFkID0gdGhpcy5xdWVyeS5yZWFkLFxuICAgICAgICBtb25nb29zZU9wdGlvbnMgPSB0aGlzLnF1ZXJ5Lm9wdGlvbnM7XG5cbiAgICAgIC8vIEZvciBldmVyeSBvcHRpb24gdGhhdCBpcyBzZXQsIGFkZCBpdCB0byB0aGUgJ29wdGlvbnMnIG9iamVjdC1saXRlcmFsXG4gICAgICBpZiAoc2VsZWN0KSBvcHRpb25zWydzZWxlY3QnXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcoc2VsZWN0KTtcbiAgICAgIGlmIChjb2xsYXRpb24pIG9wdGlvbnNbJ2NvbGxhdGlvbiddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhjb2xsYXRpb24pO1xuICAgICAgaWYgKHNvcnQpIG9wdGlvbnNbJ3NvcnQnXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcoc29ydCk7XG4gICAgICBpZiAocG9wdWxhdGUpIG9wdGlvbnNbJ3BvcHVsYXRlJ10gPSB0aGlzLm9wdE9iamVjdE9yU3RyaW5nKHBvcHVsYXRlKTtcbiAgICAgIGlmIChwcm9qZWN0aW9uICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ3Byb2plY3Rpb24nXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcocHJvamVjdGlvbik7XG4gICAgICBpZiAobGVhbiAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWydsZWFuJ10gPSB0aGlzLmJvb2xlYW5PcHQobGVhbik7XG4gICAgICBpZiAobGVhbldpdGhJZCAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWydsZWFuV2l0aElkJ10gPSB0aGlzLmJvb2xlYW5PcHQobGVhbldpdGhJZCk7XG4gICAgICBpZiAob2Zmc2V0KSBvcHRpb25zWydvZmZzZXQnXSA9IE51bWJlcihvZmZzZXQpO1xuICAgICAgaWYgKHBhZ2UpIG9wdGlvbnNbJ3BhZ2UnXSA9IE51bWJlcihwYWdlKTtcbiAgICAgIGlmIChsaW1pdCB8fCBsaW1pdCA9PSAwKSBvcHRpb25zWydsaW1pdCddID0gTnVtYmVyKGxpbWl0KTtcbiAgICAgIGlmIChjdXN0b21MYWJlbHMpIG9wdGlvbnNbJ2N1c3RvbUxhYmVscyddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhjdXN0b21MYWJlbHMpO1xuICAgICAgaWYgKHBhZ2luYXRpb24gIT09IHVuZGVmaW5lZCkgb3B0aW9uc1sncGFnaW5hdGlvbiddID0gdGhpcy5ib29sZWFuT3B0KHBhZ2luYXRpb24pO1xuICAgICAgaWYgKHVzZUVzdGltYXRlZENvdW50ICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ3VzZUVzdGltYXRlZENvdW50J10gPSB0aGlzLmJvb2xlYW5PcHQodXNlRXN0aW1hdGVkQ291bnQpO1xuICAgICAgaWYgKHVzZUN1c3RvbUNvdW50Rm4gIT09IHVuZGVmaW5lZCkgb3B0aW9uc1sndXNlQ3VzdG9tQ291bnRGbiddID0gdGhpcy5ib29sZWFuT3B0KHVzZUN1c3RvbUNvdW50Rm4pO1xuICAgICAgaWYgKGZvcmNlQ291bnRGbiAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWydmb3JjZUNvdW50Rm4nXSA9IHRoaXMuYm9vbGVhbk9wdChmb3JjZUNvdW50Rm4pO1xuICAgICAgaWYgKGFsbG93RGlza1VzZSkgb3B0aW9uc1snYWxsb3dEaXNrVXNlJ10gPSB0aGlzLmJvb2xlYW5PcHQoYWxsb3dEaXNrVXNlKTtcbiAgICAgIGlmIChyZWFkKSBvcHRpb25zWydyZWFkJ10gPSB0aGlzLm9wdE9iamVjdE9yU3RyaW5nKHJlYWQpO1xuICAgICAgaWYgKG1vbmdvb3NlT3B0aW9ucykgb3B0aW9uc1snb3B0aW9ucyddID0gdGhpcy5nZXRPcHRpb25zKG1vbmdvb3NlT3B0aW9ucyk7XG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFlpZWxkcyBhbiBhcnJheSB3aXRoIHBvc2l0aW9uczpcclxuICAgICAqIFswXSBcInF1ZXJ5XCIgcGFyYW1ldGVyLCBmb3IgTW9kZWwucGFnaW5hdGUoKVxyXG4gICAgICogWzFdIFwib3B0aW9uc1wiIHBhcmFtZXRlciwgZm9yIE1vZGVsLnBhZ2luYXRlKClcclxuICAgICAqICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBbX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRRdWVyeSgpKSwgX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRPcHRpb25zKCkpXTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyO1xufSgpO1xubW9kdWxlLmV4cG9ydHMgPSBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlcjsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-parameters.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-queryHelper.js":
/*!*************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-queryHelper.js ***!
  \*************************************************************************************************************************/
/***/ ((module) => {

eval("\n\n/**\n * Helper function to paginate a query.\n *\n * @param {Object} options - The pagination options.\n * @returns {Promise} - A promise that resolves to the paginated query result.\n */\nfunction paginateQueryHelper(options) {\n  return this.model.paginate(this.getQuery(), options);\n}\nmodule.exports = paginateQueryHelper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vbmdvb3NlLXBhZ2luYXRlLXYyQDEuOC41L25vZGVfbW9kdWxlcy9tb25nb29zZS1wYWdpbmF0ZS12Mi9kaXN0L3BhZ2luYXRpb24tcXVlcnlIZWxwZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vbW9uZ29vc2UtcGFnaW5hdGUtdjJAMS44LjUvbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvcGFnaW5hdGlvbi1xdWVyeUhlbHBlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gcGFnaW5hdGUgYSBxdWVyeS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBwYWdpbmF0aW9uIG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgcGFnaW5hdGVkIHF1ZXJ5IHJlc3VsdC5cbiAqL1xuZnVuY3Rpb24gcGFnaW5hdGVRdWVyeUhlbHBlcihvcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLm1vZGVsLnBhZ2luYXRlKHRoaXMuZ2V0UXVlcnkoKSwgb3B0aW9ucyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHBhZ2luYXRlUXVlcnlIZWxwZXI7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-queryHelper.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js ***!
  \*********************************************************************************************************************/
/***/ ((module) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n/**\r\n * Pagination process for sub-documents\r\n * internally, it would call `query.findOne`, return only one document\r\n *\r\n * @param {Object} query\r\n * @param {Object} options\r\n * @param {Function} callback\r\n */\nfunction paginateSubDocs(query, options, callback) {\n  /**\r\n   * Populate sub documents with pagination fields\r\n   *\r\n   * @param {Object} query\r\n   * @param {Object} populate origin populate option\r\n   * @param {Object} option\r\n   */\n  function getSubDocsPopulate(option) {\n    // options properties for sub-documents pagination\n    var populate = option.populate,\n      _option$page = option.page,\n      page = _option$page === void 0 ? 1 : _option$page,\n      _option$limit = option.limit,\n      limit = _option$limit === void 0 ? 10 : _option$limit;\n    if (!populate) {\n      throw new Error('populate is required');\n    }\n    var offset = (page - 1) * limit;\n    option.offset = offset;\n    var pagination = {\n      skip: offset,\n      limit: limit\n    };\n    if (typeof populate === 'string') {\n      populate = _objectSpread({\n        path: populate\n      }, pagination);\n    } else if (typeof populate === 'object' && !Array.isArray(populate)) {\n      populate = Object.assign(populate, pagination);\n    }\n    option.populate = populate;\n    return populate;\n  }\n  function populateResult(result, populate) {\n    return result.populate(populate);\n  }\n\n  /**\r\n   * Convert result of sub-docs list to pagination like docs\r\n   *\r\n   * @param {Object} result query result\r\n   * @param {Object} option pagination option\r\n   */\n  function constructDocs(paginatedResult, option) {\n    var populate = option.populate,\n      _option$offset = option.offset,\n      offset = _option$offset === void 0 ? 0 : _option$offset,\n      _option$page2 = option.page,\n      page = _option$page2 === void 0 ? 1 : _option$page2,\n      _option$limit2 = option.limit,\n      limit = _option$limit2 === void 0 ? 10 : _option$limit2;\n    var path = populate.path;\n    var count = option.count;\n    var paginatedDocs = paginatedResult[path];\n    if (!paginatedDocs) {\n      throw new Error(`Parse error! Cannot find key on result with path ${path}`);\n    }\n    page = Math.ceil((offset + 1) / limit);\n\n    // set default meta\n    var meta = {\n      docs: paginatedDocs,\n      totalDocs: count || 1,\n      limit: limit,\n      page: page,\n      prevPage: null,\n      nextPage: null,\n      hasPrevPage: false,\n      hasNextPage: false\n    };\n    var totalPages = limit > 0 ? Math.ceil(count / limit) || 1 : null;\n    meta.totalPages = totalPages;\n    meta.pagingCounter = (page - 1) * limit + 1;\n\n    // Set prev page\n    if (page > 1) {\n      meta.hasPrevPage = true;\n      meta.prevPage = page - 1;\n    } else if (page == 1 && offset !== 0) {\n      meta.hasPrevPage = true;\n      meta.prevPage = 1;\n    }\n\n    // Set next page\n    if (page < totalPages) {\n      meta.hasNextPage = true;\n      meta.nextPage = page + 1;\n    }\n    if (limit == 0) {\n      meta.limit = 0;\n      meta.totalPages = 1;\n      meta.page = 1;\n      meta.pagingCounter = 1;\n    }\n    Object.defineProperty(paginatedResult, path, {\n      value: meta,\n      writable: false\n    });\n  }\n\n  // options properties for main document query\n  var populate = options.populate,\n    _options$read = options.read,\n    read = _options$read === void 0 ? {} : _options$read,\n    _options$select = options.select,\n    select = _options$select === void 0 ? '' : _options$select,\n    _options$pagination = options.pagination,\n    pagination = _options$pagination === void 0 ? true : _options$pagination,\n    pagingOptions = options.pagingOptions,\n    projection = options.projection;\n  var mQuery = this.findOne(query, projection);\n  if (read && read.pref) {\n    /**\r\n     * Determines the MongoDB nodes from which to read.\r\n     * @param read.pref one of the listed preference options or aliases\r\n     * @param read.tags optional tags for this query\r\n     */\n    mQuery.read(read.pref, read.tags);\n  }\n  if (select) {\n    mQuery.select(select);\n  }\n  return new Promise(function (resolve, reject) {\n    mQuery.exec().then(function (result) {\n      var newPopulate = [];\n      if (populate) {\n        newPopulate.push(newPopulate);\n      }\n      if (pagination && pagingOptions) {\n        if (Array.isArray(pagingOptions)) {\n          pagingOptions.forEach(function (option) {\n            var populate = getSubDocsPopulate(option);\n            option.count = result[populate.path].length;\n            newPopulate.push(populate);\n          });\n        } else {\n          var _populate = getSubDocsPopulate(pagingOptions);\n          pagingOptions.count = result[_populate.path].length;\n          newPopulate.push(_populate);\n        }\n      }\n      populateResult(result, newPopulate).then(function (paginatedResult) {\n        // convert paginatedResult to pagination docs\n        if (pagination && pagingOptions) {\n          if (Array.isArray(pagingOptions)) {\n            pagingOptions.forEach(function (option) {\n              constructDocs(paginatedResult, option);\n            });\n          } else {\n            constructDocs(paginatedResult, pagingOptions);\n          }\n        }\n        callback && callback(null, paginatedResult);\n        resolve(paginatedResult);\n      });\n    }).catch(function (err) {\n      console.error(err.message);\n      callback && callback(err, null);\n      reject(err);\n    });\n  });\n}\nmodule.exports = paginateSubDocs;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vbmdvb3NlLXBhZ2luYXRlLXYyQDEuOC41L25vZGVfbW9kdWxlcy9tb25nb29zZS1wYWdpbmF0ZS12Mi9kaXN0L3BhZ2luYXRpb24tc3ViZG9jcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiwyQ0FBMkMsZ0NBQWdDLG9DQUFvQyxvREFBb0Qsc0JBQXNCLDBDQUEwQyxpRUFBaUUsS0FBSyxrQ0FBa0M7QUFDM1UsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsYUFBYSx1REFBdUQsNENBQTRDLEtBQUssNkNBQTZDLDZFQUE2RSxPQUFPLGlEQUFpRCxtRkFBbUYsT0FBTztBQUN0Z0IsNENBQTRDLGtCQUFrQixrQ0FBa0Msb0VBQW9FLEtBQUssT0FBTyxvQkFBb0I7QUFDcE07QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLEtBQUs7QUFDL0U7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL21vbmdvb3NlLXBhZ2luYXRlLXYyQDEuOC41L25vZGVfbW9kdWxlcy9tb25nb29zZS1wYWdpbmF0ZS12Mi9kaXN0L3BhZ2luYXRpb24tc3ViZG9jcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG4vKipcclxuICogUGFnaW5hdGlvbiBwcm9jZXNzIGZvciBzdWItZG9jdW1lbnRzXHJcbiAqIGludGVybmFsbHksIGl0IHdvdWxkIGNhbGwgYHF1ZXJ5LmZpbmRPbmVgLCByZXR1cm4gb25seSBvbmUgZG9jdW1lbnRcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqL1xuZnVuY3Rpb24gcGFnaW5hdGVTdWJEb2NzKHF1ZXJ5LCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAvKipcclxuICAgKiBQb3B1bGF0ZSBzdWIgZG9jdW1lbnRzIHdpdGggcGFnaW5hdGlvbiBmaWVsZHNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb3B1bGF0ZSBvcmlnaW4gcG9wdWxhdGUgb3B0aW9uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvblxyXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdWJEb2NzUG9wdWxhdGUob3B0aW9uKSB7XG4gICAgLy8gb3B0aW9ucyBwcm9wZXJ0aWVzIGZvciBzdWItZG9jdW1lbnRzIHBhZ2luYXRpb25cbiAgICB2YXIgcG9wdWxhdGUgPSBvcHRpb24ucG9wdWxhdGUsXG4gICAgICBfb3B0aW9uJHBhZ2UgPSBvcHRpb24ucGFnZSxcbiAgICAgIHBhZ2UgPSBfb3B0aW9uJHBhZ2UgPT09IHZvaWQgMCA/IDEgOiBfb3B0aW9uJHBhZ2UsXG4gICAgICBfb3B0aW9uJGxpbWl0ID0gb3B0aW9uLmxpbWl0LFxuICAgICAgbGltaXQgPSBfb3B0aW9uJGxpbWl0ID09PSB2b2lkIDAgPyAxMCA6IF9vcHRpb24kbGltaXQ7XG4gICAgaWYgKCFwb3B1bGF0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb3B1bGF0ZSBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgICB2YXIgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xuICAgIG9wdGlvbi5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgdmFyIHBhZ2luYXRpb24gPSB7XG4gICAgICBza2lwOiBvZmZzZXQsXG4gICAgICBsaW1pdDogbGltaXRcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgcG9wdWxhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwb3B1bGF0ZSA9IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBwYXRoOiBwb3B1bGF0ZVxuICAgICAgfSwgcGFnaW5hdGlvbik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcG9wdWxhdGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHBvcHVsYXRlKSkge1xuICAgICAgcG9wdWxhdGUgPSBPYmplY3QuYXNzaWduKHBvcHVsYXRlLCBwYWdpbmF0aW9uKTtcbiAgICB9XG4gICAgb3B0aW9uLnBvcHVsYXRlID0gcG9wdWxhdGU7XG4gICAgcmV0dXJuIHBvcHVsYXRlO1xuICB9XG4gIGZ1bmN0aW9uIHBvcHVsYXRlUmVzdWx0KHJlc3VsdCwgcG9wdWxhdGUpIHtcbiAgICByZXR1cm4gcmVzdWx0LnBvcHVsYXRlKHBvcHVsYXRlKTtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgcmVzdWx0IG9mIHN1Yi1kb2NzIGxpc3QgdG8gcGFnaW5hdGlvbiBsaWtlIGRvY3NcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXN1bHQgcXVlcnkgcmVzdWx0XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbiBwYWdpbmF0aW9uIG9wdGlvblxyXG4gICAqL1xuICBmdW5jdGlvbiBjb25zdHJ1Y3REb2NzKHBhZ2luYXRlZFJlc3VsdCwgb3B0aW9uKSB7XG4gICAgdmFyIHBvcHVsYXRlID0gb3B0aW9uLnBvcHVsYXRlLFxuICAgICAgX29wdGlvbiRvZmZzZXQgPSBvcHRpb24ub2Zmc2V0LFxuICAgICAgb2Zmc2V0ID0gX29wdGlvbiRvZmZzZXQgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9uJG9mZnNldCxcbiAgICAgIF9vcHRpb24kcGFnZTIgPSBvcHRpb24ucGFnZSxcbiAgICAgIHBhZ2UgPSBfb3B0aW9uJHBhZ2UyID09PSB2b2lkIDAgPyAxIDogX29wdGlvbiRwYWdlMixcbiAgICAgIF9vcHRpb24kbGltaXQyID0gb3B0aW9uLmxpbWl0LFxuICAgICAgbGltaXQgPSBfb3B0aW9uJGxpbWl0MiA9PT0gdm9pZCAwID8gMTAgOiBfb3B0aW9uJGxpbWl0MjtcbiAgICB2YXIgcGF0aCA9IHBvcHVsYXRlLnBhdGg7XG4gICAgdmFyIGNvdW50ID0gb3B0aW9uLmNvdW50O1xuICAgIHZhciBwYWdpbmF0ZWREb2NzID0gcGFnaW5hdGVkUmVzdWx0W3BhdGhdO1xuICAgIGlmICghcGFnaW5hdGVkRG9jcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXJzZSBlcnJvciEgQ2Fubm90IGZpbmQga2V5IG9uIHJlc3VsdCB3aXRoIHBhdGggJHtwYXRofWApO1xuICAgIH1cbiAgICBwYWdlID0gTWF0aC5jZWlsKChvZmZzZXQgKyAxKSAvIGxpbWl0KTtcblxuICAgIC8vIHNldCBkZWZhdWx0IG1ldGFcbiAgICB2YXIgbWV0YSA9IHtcbiAgICAgIGRvY3M6IHBhZ2luYXRlZERvY3MsXG4gICAgICB0b3RhbERvY3M6IGNvdW50IHx8IDEsXG4gICAgICBsaW1pdDogbGltaXQsXG4gICAgICBwYWdlOiBwYWdlLFxuICAgICAgcHJldlBhZ2U6IG51bGwsXG4gICAgICBuZXh0UGFnZTogbnVsbCxcbiAgICAgIGhhc1ByZXZQYWdlOiBmYWxzZSxcbiAgICAgIGhhc05leHRQYWdlOiBmYWxzZVxuICAgIH07XG4gICAgdmFyIHRvdGFsUGFnZXMgPSBsaW1pdCA+IDAgPyBNYXRoLmNlaWwoY291bnQgLyBsaW1pdCkgfHwgMSA6IG51bGw7XG4gICAgbWV0YS50b3RhbFBhZ2VzID0gdG90YWxQYWdlcztcbiAgICBtZXRhLnBhZ2luZ0NvdW50ZXIgPSAocGFnZSAtIDEpICogbGltaXQgKyAxO1xuXG4gICAgLy8gU2V0IHByZXYgcGFnZVxuICAgIGlmIChwYWdlID4gMSkge1xuICAgICAgbWV0YS5oYXNQcmV2UGFnZSA9IHRydWU7XG4gICAgICBtZXRhLnByZXZQYWdlID0gcGFnZSAtIDE7XG4gICAgfSBlbHNlIGlmIChwYWdlID09IDEgJiYgb2Zmc2V0ICE9PSAwKSB7XG4gICAgICBtZXRhLmhhc1ByZXZQYWdlID0gdHJ1ZTtcbiAgICAgIG1ldGEucHJldlBhZ2UgPSAxO1xuICAgIH1cblxuICAgIC8vIFNldCBuZXh0IHBhZ2VcbiAgICBpZiAocGFnZSA8IHRvdGFsUGFnZXMpIHtcbiAgICAgIG1ldGEuaGFzTmV4dFBhZ2UgPSB0cnVlO1xuICAgICAgbWV0YS5uZXh0UGFnZSA9IHBhZ2UgKyAxO1xuICAgIH1cbiAgICBpZiAobGltaXQgPT0gMCkge1xuICAgICAgbWV0YS5saW1pdCA9IDA7XG4gICAgICBtZXRhLnRvdGFsUGFnZXMgPSAxO1xuICAgICAgbWV0YS5wYWdlID0gMTtcbiAgICAgIG1ldGEucGFnaW5nQ291bnRlciA9IDE7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWdpbmF0ZWRSZXN1bHQsIHBhdGgsIHtcbiAgICAgIHZhbHVlOiBtZXRhLFxuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICAvLyBvcHRpb25zIHByb3BlcnRpZXMgZm9yIG1haW4gZG9jdW1lbnQgcXVlcnlcbiAgdmFyIHBvcHVsYXRlID0gb3B0aW9ucy5wb3B1bGF0ZSxcbiAgICBfb3B0aW9ucyRyZWFkID0gb3B0aW9ucy5yZWFkLFxuICAgIHJlYWQgPSBfb3B0aW9ucyRyZWFkID09PSB2b2lkIDAgPyB7fSA6IF9vcHRpb25zJHJlYWQsXG4gICAgX29wdGlvbnMkc2VsZWN0ID0gb3B0aW9ucy5zZWxlY3QsXG4gICAgc2VsZWN0ID0gX29wdGlvbnMkc2VsZWN0ID09PSB2b2lkIDAgPyAnJyA6IF9vcHRpb25zJHNlbGVjdCxcbiAgICBfb3B0aW9ucyRwYWdpbmF0aW9uID0gb3B0aW9ucy5wYWdpbmF0aW9uLFxuICAgIHBhZ2luYXRpb24gPSBfb3B0aW9ucyRwYWdpbmF0aW9uID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcGFnaW5hdGlvbixcbiAgICBwYWdpbmdPcHRpb25zID0gb3B0aW9ucy5wYWdpbmdPcHRpb25zLFxuICAgIHByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb247XG4gIHZhciBtUXVlcnkgPSB0aGlzLmZpbmRPbmUocXVlcnksIHByb2plY3Rpb24pO1xuICBpZiAocmVhZCAmJiByZWFkLnByZWYpIHtcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgdGhlIE1vbmdvREIgbm9kZXMgZnJvbSB3aGljaCB0byByZWFkLlxyXG4gICAgICogQHBhcmFtIHJlYWQucHJlZiBvbmUgb2YgdGhlIGxpc3RlZCBwcmVmZXJlbmNlIG9wdGlvbnMgb3IgYWxpYXNlc1xyXG4gICAgICogQHBhcmFtIHJlYWQudGFncyBvcHRpb25hbCB0YWdzIGZvciB0aGlzIHF1ZXJ5XHJcbiAgICAgKi9cbiAgICBtUXVlcnkucmVhZChyZWFkLnByZWYsIHJlYWQudGFncyk7XG4gIH1cbiAgaWYgKHNlbGVjdCkge1xuICAgIG1RdWVyeS5zZWxlY3Qoc2VsZWN0KTtcbiAgfVxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIG1RdWVyeS5leGVjKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICB2YXIgbmV3UG9wdWxhdGUgPSBbXTtcbiAgICAgIGlmIChwb3B1bGF0ZSkge1xuICAgICAgICBuZXdQb3B1bGF0ZS5wdXNoKG5ld1BvcHVsYXRlKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdpbmF0aW9uICYmIHBhZ2luZ09wdGlvbnMpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFnaW5nT3B0aW9ucykpIHtcbiAgICAgICAgICBwYWdpbmdPcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgdmFyIHBvcHVsYXRlID0gZ2V0U3ViRG9jc1BvcHVsYXRlKG9wdGlvbik7XG4gICAgICAgICAgICBvcHRpb24uY291bnQgPSByZXN1bHRbcG9wdWxhdGUucGF0aF0ubGVuZ3RoO1xuICAgICAgICAgICAgbmV3UG9wdWxhdGUucHVzaChwb3B1bGF0ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF9wb3B1bGF0ZSA9IGdldFN1YkRvY3NQb3B1bGF0ZShwYWdpbmdPcHRpb25zKTtcbiAgICAgICAgICBwYWdpbmdPcHRpb25zLmNvdW50ID0gcmVzdWx0W19wb3B1bGF0ZS5wYXRoXS5sZW5ndGg7XG4gICAgICAgICAgbmV3UG9wdWxhdGUucHVzaChfcG9wdWxhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3B1bGF0ZVJlc3VsdChyZXN1bHQsIG5ld1BvcHVsYXRlKS50aGVuKGZ1bmN0aW9uIChwYWdpbmF0ZWRSZXN1bHQpIHtcbiAgICAgICAgLy8gY29udmVydCBwYWdpbmF0ZWRSZXN1bHQgdG8gcGFnaW5hdGlvbiBkb2NzXG4gICAgICAgIGlmIChwYWdpbmF0aW9uICYmIHBhZ2luZ09wdGlvbnMpIHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYWdpbmdPcHRpb25zKSkge1xuICAgICAgICAgICAgcGFnaW5nT3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgY29uc3RydWN0RG9jcyhwYWdpbmF0ZWRSZXN1bHQsIG9wdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3RydWN0RG9jcyhwYWdpbmF0ZWRSZXN1bHQsIHBhZ2luZ09wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhudWxsLCBwYWdpbmF0ZWRSZXN1bHQpO1xuICAgICAgICByZXNvbHZlKHBhZ2luYXRlZFJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHBhZ2luYXRlU3ViRG9jczsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js\n");

/***/ })

};
;