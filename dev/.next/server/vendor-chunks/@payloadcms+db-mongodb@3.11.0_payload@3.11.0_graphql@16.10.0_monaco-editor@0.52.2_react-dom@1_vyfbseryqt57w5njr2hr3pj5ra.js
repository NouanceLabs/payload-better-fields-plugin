"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra";
exports.ids = ["vendor-chunks/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra"];
exports.modules = {

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/connect.js":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/connect.js ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connect: () => (/* binding */ connect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n\nconst connect = async function connect(options = {\n    hotReload: false\n}) {\n    const { hotReload } = options;\n    if (this.url === false) {\n        return;\n    }\n    if (typeof this.url !== 'string') {\n        throw new Error('Error: missing MongoDB connection URL.');\n    }\n    const urlToConnect = this.url;\n    const connectionOptions = {\n        autoIndex: true,\n        ...this.connectOptions,\n        useFacet: undefined\n    };\n    if (hotReload) {\n        connectionOptions.autoIndex = false;\n    }\n    try {\n        this.connection = (await mongoose__WEBPACK_IMPORTED_MODULE_0__.connect(urlToConnect, connectionOptions)).connection;\n        // If we are running a replica set with MongoDB Memory Server,\n        // wait until the replica set elects a primary before proceeding\n        if (this.mongoMemoryServer) {\n            await new Promise((resolve)=>setTimeout(resolve, 2000));\n        }\n        const client = this.connection.getClient();\n        if (!client.options.replicaSet) {\n            this.transactionOptions = false;\n            this.beginTransaction = undefined;\n        }\n        if (!this.mongoMemoryServer && !hotReload) {\n            if (process.env.PAYLOAD_DROP_DATABASE === 'true') {\n                this.payload.logger.info('---- DROPPING DATABASE ----');\n                await mongoose__WEBPACK_IMPORTED_MODULE_0__.connection.dropDatabase();\n                this.payload.logger.info('---- DROPPED DATABASE ----');\n            }\n        }\n        if (this.ensureIndexes) {\n            await Promise.all(this.payload.config.collections.map(async (coll)=>{\n                await this.collections[coll.slug]?.ensureIndexes();\n            }));\n        }\n        if (false) {}\n    } catch (err) {\n        this.payload.logger.error({\n            err,\n            msg: `Error: cannot connect to MongoDB. Details: ${err.message}`\n        });\n        process.exit(1);\n    }\n};\n\n//# sourceMappingURL=connect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2Nvbm5lY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0M7QUFDekI7QUFDUDtBQUNBLENBQUM7QUFDRCxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNkNBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxZQUFZLEtBQTRELEVBQUUsRUFJakU7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBLCtEQUErRCxZQUFZO0FBQzNFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9jb25uZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5leHBvcnQgY29uc3QgY29ubmVjdCA9IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3Qob3B0aW9ucyA9IHtcbiAgICBob3RSZWxvYWQ6IGZhbHNlXG59KSB7XG4gICAgY29uc3QgeyBob3RSZWxvYWQgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHRoaXMudXJsID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy51cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3I6IG1pc3NpbmcgTW9uZ29EQiBjb25uZWN0aW9uIFVSTC4nKTtcbiAgICB9XG4gICAgY29uc3QgdXJsVG9Db25uZWN0ID0gdGhpcy51cmw7XG4gICAgY29uc3QgY29ubmVjdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgIGF1dG9JbmRleDogdHJ1ZSxcbiAgICAgICAgLi4udGhpcy5jb25uZWN0T3B0aW9ucyxcbiAgICAgICAgdXNlRmFjZXQ6IHVuZGVmaW5lZFxuICAgIH07XG4gICAgaWYgKGhvdFJlbG9hZCkge1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5hdXRvSW5kZXggPSBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gKGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QodXJsVG9Db25uZWN0LCBjb25uZWN0aW9uT3B0aW9ucykpLmNvbm5lY3Rpb247XG4gICAgICAgIC8vIElmIHdlIGFyZSBydW5uaW5nIGEgcmVwbGljYSBzZXQgd2l0aCBNb25nb0RCIE1lbW9yeSBTZXJ2ZXIsXG4gICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIHJlcGxpY2Egc2V0IGVsZWN0cyBhIHByaW1hcnkgYmVmb3JlIHByb2NlZWRpbmdcbiAgICAgICAgaWYgKHRoaXMubW9uZ29NZW1vcnlTZXJ2ZXIpIHtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKT0+c2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5jb25uZWN0aW9uLmdldENsaWVudCgpO1xuICAgICAgICBpZiAoIWNsaWVudC5vcHRpb25zLnJlcGxpY2FTZXQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25PcHRpb25zID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmJlZ2luVHJhbnNhY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm1vbmdvTWVtb3J5U2VydmVyICYmICFob3RSZWxvYWQpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5QQVlMT0FEX0RST1BfREFUQUJBU0UgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIHRoaXMucGF5bG9hZC5sb2dnZXIuaW5mbygnLS0tLSBEUk9QUElORyBEQVRBQkFTRSAtLS0tJyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wRGF0YWJhc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBheWxvYWQubG9nZ2VyLmluZm8oJy0tLS0gRFJPUFBFRCBEQVRBQkFTRSAtLS0tJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZW5zdXJlSW5kZXhlcykge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5wYXlsb2FkLmNvbmZpZy5jb2xsZWN0aW9ucy5tYXAoYXN5bmMgKGNvbGwpPT57XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb2xsZWN0aW9uc1tjb2xsLnNsdWddPy5lbnN1cmVJbmRleGVzKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgdGhpcy5wcm9kTWlncmF0aW9ucykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5taWdyYXRlKHtcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zOiB0aGlzLnByb2RNaWdyYXRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLnBheWxvYWQubG9nZ2VyLmVycm9yKHtcbiAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgIG1zZzogYEVycm9yOiBjYW5ub3QgY29ubmVjdCB0byBNb25nb0RCLiBEZXRhaWxzOiAke2Vyci5tZXNzYWdlfWBcbiAgICAgICAgfSk7XG4gICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICB9XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/connect.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/count.js":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/count.js ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   count: () => (/* binding */ count)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\n\nconst count = async function count({ collection, locale, req, where }) {\n    const Model = this.collections[collection];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        options.hint = {\n            _id: 1\n        };\n    }\n    let result;\n    if (useEstimatedCount) {\n        result = await Model.estimatedDocumentCount({\n            session: options.session\n        });\n    } else {\n        result = await Model.countDocuments(query, options);\n    }\n    return {\n        totalDocs: result\n    };\n};\n\n//# sourceMappingURL=count.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrRDtBQUNLO0FBQ2hELHFDQUFxQyxnQ0FBZ0M7QUFDNUU7QUFDQTtBQUNBLHVCQUF1QixvRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5leHBvcnQgY29uc3QgY291bnQgPSBhc3luYyBmdW5jdGlvbiBjb3VudCh7IGNvbGxlY3Rpb24sIGxvY2FsZSwgcmVxLCB3aGVyZSB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgbGV0IGhhc05lYXJDb25zdHJhaW50ID0gZmFsc2U7XG4gICAgaWYgKHdoZXJlKSB7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMod2hlcmUpO1xuICAgICAgICBoYXNOZWFyQ29uc3RyYWludCA9IGNvbnN0cmFpbnRzLnNvbWUoKHByb3ApPT5PYmplY3Qua2V5cyhwcm9wKS5zb21lKChrZXkpPT5rZXkgPT09ICduZWFyJykpO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IE1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICAvLyB1c2VFc3RpbWF0ZWRDb3VudCBpcyBmYXN0ZXIsIGJ1dCBub3QgYWNjdXJhdGUsIGFzIGl0IGlnbm9yZXMgYW55IGZpbHRlcnMuIEl0IGlzIHRodXMgc2V0IHRvIHRydWUgaWYgdGhlcmUgYXJlIG5vIGZpbHRlcnMuXG4gICAgY29uc3QgdXNlRXN0aW1hdGVkQ291bnQgPSBoYXNOZWFyQ29uc3RyYWludCB8fCAhcXVlcnkgfHwgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMDtcbiAgICBpZiAoIXVzZUVzdGltYXRlZENvdW50ICYmIE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPT09IDAgJiYgdGhpcy5kaXNhYmxlSW5kZXhIaW50cyAhPT0gdHJ1ZSkge1xuICAgICAgICAvLyBJbXByb3ZlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgY291bnREb2N1bWVudHMgcXVlcnkgd2hpY2ggaXMgdXNlZCBpZiB1c2VFc3RpbWF0ZWRDb3VudCBpcyBzZXQgdG8gZmFsc2UgYnkgYWRkaW5nXG4gICAgICAgIC8vIGEgaGludC4gQnkgZGVmYXVsdCwgaWYgbm8gaGludCBpcyBwcm92aWRlZCwgTW9uZ29EQiBkb2VzIG5vdCB1c2UgYW4gaW5kZXhlZCBmaWVsZCB0byBjb3VudCB0aGUgcmV0dXJuZWQgZG9jdW1lbnRzLFxuICAgICAgICAvLyB3aGljaCBtYWtlcyBxdWVyaWVzIHZlcnkgc2xvdy4gVGhpcyBvbmx5IGhhcHBlbnMgd2hlbiBubyBxdWVyeSAoZmlsdGVyKSBpcyBwcm92aWRlZC4gSWYgb25lIGlzIHByb3ZpZGVkLCBpdCB1c2VzXG4gICAgICAgIC8vIHRoZSBjb3JyZWN0IGluZGV4ZWQgZmllbGRcbiAgICAgICAgb3B0aW9ucy5oaW50ID0ge1xuICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHVzZUVzdGltYXRlZENvdW50KSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmVzdGltYXRlZERvY3VtZW50Q291bnQoe1xuICAgICAgICAgICAgc2Vzc2lvbjogb3B0aW9ucy5zZXNzaW9uXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmNvdW50RG9jdW1lbnRzKHF1ZXJ5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWxEb2NzOiByZXN1bHRcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y291bnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/count.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countGlobalVersions.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countGlobalVersions.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countGlobalVersions: () => (/* binding */ countGlobalVersions)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\n\nconst countGlobalVersions = async function countGlobalVersions({ global, locale, req, where }) {\n    const Model = this.versions[global];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        options.hint = {\n            _id: 1\n        };\n    }\n    let result;\n    if (useEstimatedCount) {\n        result = await Model.estimatedDocumentCount({\n            session: options.session\n        });\n    } else {\n        result = await Model.countDocuments(query, options);\n    }\n    return {\n        totalDocs: result\n    };\n};\n\n//# sourceMappingURL=countGlobalVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50R2xvYmFsVmVyc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtEO0FBQ0s7QUFDaEQsaUVBQWlFLDRCQUE0QjtBQUNwRztBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtREFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvY291bnRHbG9iYWxWZXJzaW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuZXhwb3J0IGNvbnN0IGNvdW50R2xvYmFsVmVyc2lvbnMgPSBhc3luYyBmdW5jdGlvbiBjb3VudEdsb2JhbFZlcnNpb25zKHsgZ2xvYmFsLCBsb2NhbGUsIHJlcSwgd2hlcmUgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy52ZXJzaW9uc1tnbG9iYWxdO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgbGV0IGhhc05lYXJDb25zdHJhaW50ID0gZmFsc2U7XG4gICAgaWYgKHdoZXJlKSB7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMod2hlcmUpO1xuICAgICAgICBoYXNOZWFyQ29uc3RyYWludCA9IGNvbnN0cmFpbnRzLnNvbWUoKHByb3ApPT5PYmplY3Qua2V5cyhwcm9wKS5zb21lKChrZXkpPT5rZXkgPT09ICduZWFyJykpO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IE1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICAvLyB1c2VFc3RpbWF0ZWRDb3VudCBpcyBmYXN0ZXIsIGJ1dCBub3QgYWNjdXJhdGUsIGFzIGl0IGlnbm9yZXMgYW55IGZpbHRlcnMuIEl0IGlzIHRodXMgc2V0IHRvIHRydWUgaWYgdGhlcmUgYXJlIG5vIGZpbHRlcnMuXG4gICAgY29uc3QgdXNlRXN0aW1hdGVkQ291bnQgPSBoYXNOZWFyQ29uc3RyYWludCB8fCAhcXVlcnkgfHwgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMDtcbiAgICBpZiAoIXVzZUVzdGltYXRlZENvdW50ICYmIE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPT09IDAgJiYgdGhpcy5kaXNhYmxlSW5kZXhIaW50cyAhPT0gdHJ1ZSkge1xuICAgICAgICAvLyBJbXByb3ZlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgY291bnREb2N1bWVudHMgcXVlcnkgd2hpY2ggaXMgdXNlZCBpZiB1c2VFc3RpbWF0ZWRDb3VudCBpcyBzZXQgdG8gZmFsc2UgYnkgYWRkaW5nXG4gICAgICAgIC8vIGEgaGludC4gQnkgZGVmYXVsdCwgaWYgbm8gaGludCBpcyBwcm92aWRlZCwgTW9uZ29EQiBkb2VzIG5vdCB1c2UgYW4gaW5kZXhlZCBmaWVsZCB0byBjb3VudCB0aGUgcmV0dXJuZWQgZG9jdW1lbnRzLFxuICAgICAgICAvLyB3aGljaCBtYWtlcyBxdWVyaWVzIHZlcnkgc2xvdy4gVGhpcyBvbmx5IGhhcHBlbnMgd2hlbiBubyBxdWVyeSAoZmlsdGVyKSBpcyBwcm92aWRlZC4gSWYgb25lIGlzIHByb3ZpZGVkLCBpdCB1c2VzXG4gICAgICAgIC8vIHRoZSBjb3JyZWN0IGluZGV4ZWQgZmllbGRcbiAgICAgICAgb3B0aW9ucy5oaW50ID0ge1xuICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHVzZUVzdGltYXRlZENvdW50KSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmVzdGltYXRlZERvY3VtZW50Q291bnQoe1xuICAgICAgICAgICAgc2Vzc2lvbjogb3B0aW9ucy5zZXNzaW9uXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmNvdW50RG9jdW1lbnRzKHF1ZXJ5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWxEb2NzOiByZXN1bHRcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y291bnRHbG9iYWxWZXJzaW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countGlobalVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countVersions.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countVersions.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countVersions: () => (/* binding */ countVersions)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\n\nconst countVersions = async function countVersions({ collection, locale, req, where }) {\n    const Model = this.versions[collection];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        options.hint = {\n            _id: 1\n        };\n    }\n    let result;\n    if (useEstimatedCount) {\n        result = await Model.estimatedDocumentCount({\n            session: options.session\n        });\n    } else {\n        result = await Model.countDocuments(query, options);\n    }\n    return {\n        totalDocs: result\n    };\n};\n\n//# sourceMappingURL=countVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NvdW50VmVyc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtEO0FBQ0s7QUFDaEQscURBQXFELGdDQUFnQztBQUM1RjtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtREFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvY291bnRWZXJzaW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuZXhwb3J0IGNvbnN0IGNvdW50VmVyc2lvbnMgPSBhc3luYyBmdW5jdGlvbiBjb3VudFZlcnNpb25zKHsgY29sbGVjdGlvbiwgbG9jYWxlLCByZXEsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBNb2RlbCA9IHRoaXMudmVyc2lvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBsZXQgaGFzTmVhckNvbnN0cmFpbnQgPSBmYWxzZTtcbiAgICBpZiAod2hlcmUpIHtcbiAgICAgICAgY29uc3QgY29uc3RyYWludHMgPSBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyh3aGVyZSk7XG4gICAgICAgIGhhc05lYXJDb25zdHJhaW50ID0gY29uc3RyYWludHMuc29tZSgocHJvcCk9Pk9iamVjdC5rZXlzKHByb3ApLnNvbWUoKGtleSk9PmtleSA9PT0gJ25lYXInKSk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZVxuICAgIH0pO1xuICAgIC8vIHVzZUVzdGltYXRlZENvdW50IGlzIGZhc3RlciwgYnV0IG5vdCBhY2N1cmF0ZSwgYXMgaXQgaWdub3JlcyBhbnkgZmlsdGVycy4gSXQgaXMgdGh1cyBzZXQgdG8gdHJ1ZSBpZiB0aGVyZSBhcmUgbm8gZmlsdGVycy5cbiAgICBjb25zdCB1c2VFc3RpbWF0ZWRDb3VudCA9IGhhc05lYXJDb25zdHJhaW50IHx8ICFxdWVyeSB8fCBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAwO1xuICAgIGlmICghdXNlRXN0aW1hdGVkQ291bnQgJiYgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmRpc2FibGVJbmRleEhpbnRzICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIEltcHJvdmUgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBjb3VudERvY3VtZW50cyBxdWVyeSB3aGljaCBpcyB1c2VkIGlmIHVzZUVzdGltYXRlZENvdW50IGlzIHNldCB0byBmYWxzZSBieSBhZGRpbmdcbiAgICAgICAgLy8gYSBoaW50LiBCeSBkZWZhdWx0LCBpZiBubyBoaW50IGlzIHByb3ZpZGVkLCBNb25nb0RCIGRvZXMgbm90IHVzZSBhbiBpbmRleGVkIGZpZWxkIHRvIGNvdW50IHRoZSByZXR1cm5lZCBkb2N1bWVudHMsXG4gICAgICAgIC8vIHdoaWNoIG1ha2VzIHF1ZXJpZXMgdmVyeSBzbG93LiBUaGlzIG9ubHkgaGFwcGVucyB3aGVuIG5vIHF1ZXJ5IChmaWx0ZXIpIGlzIHByb3ZpZGVkLiBJZiBvbmUgaXMgcHJvdmlkZWQsIGl0IHVzZXNcbiAgICAgICAgLy8gdGhlIGNvcnJlY3QgaW5kZXhlZCBmaWVsZFxuICAgICAgICBvcHRpb25zLmhpbnQgPSB7XG4gICAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAodXNlRXN0aW1hdGVkQ291bnQpIHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgTW9kZWwuZXN0aW1hdGVkRG9jdW1lbnRDb3VudCh7XG4gICAgICAgICAgICBzZXNzaW9uOiBvcHRpb25zLnNlc3Npb25cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgTW9kZWwuY291bnREb2N1bWVudHMocXVlcnksIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbERvY3M6IHJlc3VsdFxuICAgIH07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3VudFZlcnNpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/create.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/create.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_handleError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/handleError.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\nconst create = async function create({ collection, data, req }) {\n    const Model = this.collections[collection];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let doc;\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data,\n        fields: this.payload.collections[collection].config.fields\n    });\n    if (this.payload.collections[collection].customIDType) {\n        sanitizedData._id = sanitizedData.id;\n    }\n    try {\n        ;\n        [doc] = await Model.create([\n            sanitizedData\n        ], options);\n    } catch (error) {\n        (0,_utilities_handleError_js__WEBPACK_IMPORTED_MODULE_1__.handleError)({\n            collection,\n            error,\n            req\n        });\n    }\n    // doc.toJSON does not do stuff like converting ObjectIds to string, or date strings to date objects. That's why we use JSON.parse/stringify here\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n};\n\n//# sourceMappingURL=create.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEO0FBQ0U7QUFDd0I7QUFDMUUsdUNBQXVDLHVCQUF1QjtBQUNyRTtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQSwwQkFBMEIsOEZBQXVCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLFFBQVEsc0VBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9jcmVhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgaGFuZGxlRXJyb3IgfSBmcm9tICcuL3V0aWxpdGllcy9oYW5kbGVFcnJvci5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplUmVsYXRpb25zaGlwSURzLmpzJztcbmV4cG9ydCBjb25zdCBjcmVhdGUgPSBhc3luYyBmdW5jdGlvbiBjcmVhdGUoeyBjb2xsZWN0aW9uLCBkYXRhLCByZXEgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGxldCBkb2M7XG4gICAgY29uc3Qgc2FuaXRpemVkRGF0YSA9IHNhbml0aXplUmVsYXRpb25zaGlwSURzKHtcbiAgICAgICAgY29uZmlnOiB0aGlzLnBheWxvYWQuY29uZmlnLFxuICAgICAgICBkYXRhLFxuICAgICAgICBmaWVsZHM6IHRoaXMucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jb25maWcuZmllbGRzXG4gICAgfSk7XG4gICAgaWYgKHRoaXMucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jdXN0b21JRFR5cGUpIHtcbiAgICAgICAgc2FuaXRpemVkRGF0YS5faWQgPSBzYW5pdGl6ZWREYXRhLmlkO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICA7XG4gICAgICAgIFtkb2NdID0gYXdhaXQgTW9kZWwuY3JlYXRlKFtcbiAgICAgICAgICAgIHNhbml0aXplZERhdGFcbiAgICAgICAgXSwgb3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3Ioe1xuICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgcmVxXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBkb2MudG9KU09OIGRvZXMgbm90IGRvIHN0dWZmIGxpa2UgY29udmVydGluZyBPYmplY3RJZHMgdG8gc3RyaW5nLCBvciBkYXRlIHN0cmluZ3MgdG8gZGF0ZSBvYmplY3RzLiBUaGF0J3Mgd2h5IHdlIHVzZSBKU09OLnBhcnNlL3N0cmluZ2lmeSBoZXJlXG4gICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkb2MpKTtcbiAgICBjb25zdCB2ZXJpZmljYXRpb25Ub2tlbiA9IGRvYy5fdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgLy8gY3VzdG9tIGlkIHR5cGUgcmVzZXRcbiAgICByZXN1bHQuaWQgPSByZXN1bHQuX2lkO1xuICAgIGlmICh2ZXJpZmljYXRpb25Ub2tlbikge1xuICAgICAgICByZXN1bHQuX3ZlcmlmaWNhdGlvblRva2VuID0gdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/create.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobal.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobal.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGlobal: () => (/* binding */ createGlobal)\n/* harmony export */ });\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\nconst createGlobal = async function createGlobal({ slug, data, req }) {\n    const Model = this.globals;\n    const global = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: {\n            globalType: slug,\n            ...data\n        },\n        fields: this.payload.config.globals.find((globalConfig)=>globalConfig.slug === slug).fields\n    });\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    let [result] = await Model.create([\n        global\n    ], options);\n    result = JSON.parse(JSON.stringify(result));\n    // custom id type reset\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_1__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=createGlobal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZUdsb2JhbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEO0FBQ3dCO0FBQ0U7QUFDMUUsbURBQW1ELGlCQUFpQjtBQUMzRTtBQUNBLG1CQUFtQiw4RkFBdUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRGQUFzQjtBQUNuQztBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvY3JlYXRlR2xvYmFsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplSW50ZXJuYWxGaWVsZHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzJztcbmltcG9ydCB7IHNhbml0aXplUmVsYXRpb25zaGlwSURzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMuanMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUdsb2JhbCA9IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUdsb2JhbCh7IHNsdWcsIGRhdGEsIHJlcSB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLmdsb2JhbHM7XG4gICAgY29uc3QgZ2xvYmFsID0gc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMoe1xuICAgICAgICBjb25maWc6IHRoaXMucGF5bG9hZC5jb25maWcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGdsb2JhbFR5cGU6IHNsdWcsXG4gICAgICAgICAgICAuLi5kYXRhXG4gICAgICAgIH0sXG4gICAgICAgIGZpZWxkczogdGhpcy5wYXlsb2FkLmNvbmZpZy5nbG9iYWxzLmZpbmQoKGdsb2JhbENvbmZpZyk9Pmdsb2JhbENvbmZpZy5zbHVnID09PSBzbHVnKS5maWVsZHNcbiAgICB9KTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGxldCBbcmVzdWx0XSA9IGF3YWl0IE1vZGVsLmNyZWF0ZShbXG4gICAgICAgIGdsb2JhbFxuICAgIF0sIG9wdGlvbnMpO1xuICAgIHJlc3VsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgLy8gY3VzdG9tIGlkIHR5cGUgcmVzZXRcbiAgICByZXN1bHQuaWQgPSByZXN1bHQuX2lkO1xuICAgIHJlc3VsdCA9IHNhbml0aXplSW50ZXJuYWxGaWVsZHMocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlR2xvYmFsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobal.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobalVersion.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobalVersion.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGlobalVersion: () => (/* binding */ createGlobalVersion)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildGlobalFields.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\nconst createGlobalVersion = async function createGlobalVersion({ autosave, createdAt, globalSlug, parent, publishedLocale, req, snapshot, updatedAt, versionData }) {\n    const VersionModel = this.versions[globalSlug];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    const data = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_1__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: {\n            autosave,\n            createdAt,\n            latest: true,\n            parent,\n            publishedLocale,\n            snapshot,\n            updatedAt,\n            version: versionData\n        },\n        fields: (0,payload__WEBPACK_IMPORTED_MODULE_2__.buildVersionGlobalFields)(this.payload.config, this.payload.config.globals.find((global)=>global.slug === globalSlug))\n    });\n    const [doc] = await VersionModel.create([\n        data\n    ], options, req);\n    await VersionModel.updateMany({\n        $and: [\n            {\n                _id: {\n                    $ne: doc._id\n                }\n            },\n            {\n                parent: {\n                    $eq: parent\n                }\n            },\n            {\n                latest: {\n                    $eq: true\n                }\n            }\n        ]\n    }, {\n        $unset: {\n            latest: 1\n        }\n    }, options);\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n};\n\n//# sourceMappingURL=createGlobalVersion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZUdsb2JhbFZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUNJO0FBQzBCO0FBQzFFLGlFQUFpRSxpR0FBaUc7QUFDeks7QUFDQTtBQUNBLHVCQUF1QixvRUFBVTtBQUNqQztBQUNBLGlCQUFpQiw4RkFBdUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCLGlFQUF3QjtBQUN4QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvY3JlYXRlR2xvYmFsVmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZFZlcnNpb25HbG9iYWxGaWVsZHMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplUmVsYXRpb25zaGlwSURzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMuanMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUdsb2JhbFZlcnNpb24gPSBhc3luYyBmdW5jdGlvbiBjcmVhdGVHbG9iYWxWZXJzaW9uKHsgYXV0b3NhdmUsIGNyZWF0ZWRBdCwgZ2xvYmFsU2x1ZywgcGFyZW50LCBwdWJsaXNoZWRMb2NhbGUsIHJlcSwgc25hcHNob3QsIHVwZGF0ZWRBdCwgdmVyc2lvbkRhdGEgfSkge1xuICAgIGNvbnN0IFZlcnNpb25Nb2RlbCA9IHRoaXMudmVyc2lvbnNbZ2xvYmFsU2x1Z107XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBjb25zdCBkYXRhID0gc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMoe1xuICAgICAgICBjb25maWc6IHRoaXMucGF5bG9hZC5jb25maWcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGF1dG9zYXZlLFxuICAgICAgICAgICAgY3JlYXRlZEF0LFxuICAgICAgICAgICAgbGF0ZXN0OiB0cnVlLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgcHVibGlzaGVkTG9jYWxlLFxuICAgICAgICAgICAgc25hcHNob3QsXG4gICAgICAgICAgICB1cGRhdGVkQXQsXG4gICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uRGF0YVxuICAgICAgICB9LFxuICAgICAgICBmaWVsZHM6IGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcyh0aGlzLnBheWxvYWQuY29uZmlnLCB0aGlzLnBheWxvYWQuY29uZmlnLmdsb2JhbHMuZmluZCgoZ2xvYmFsKT0+Z2xvYmFsLnNsdWcgPT09IGdsb2JhbFNsdWcpKVxuICAgIH0pO1xuICAgIGNvbnN0IFtkb2NdID0gYXdhaXQgVmVyc2lvbk1vZGVsLmNyZWF0ZShbXG4gICAgICAgIGRhdGFcbiAgICBdLCBvcHRpb25zLCByZXEpO1xuICAgIGF3YWl0IFZlcnNpb25Nb2RlbC51cGRhdGVNYW55KHtcbiAgICAgICAgJGFuZDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgICAgICAgICAkbmU6IGRvYy5faWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgICAgICAkZXE6IHBhcmVudFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGF0ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICRlcTogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0sIHtcbiAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICBsYXRlc3Q6IDFcbiAgICAgICAgfVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZG9jKSk7XG4gICAgY29uc3QgdmVyaWZpY2F0aW9uVG9rZW4gPSBkb2MuX3ZlcmlmaWNhdGlvblRva2VuO1xuICAgIC8vIGN1c3RvbSBpZCB0eXBlIHJlc2V0XG4gICAgcmVzdWx0LmlkID0gcmVzdWx0Ll9pZDtcbiAgICBpZiAodmVyaWZpY2F0aW9uVG9rZW4pIHtcbiAgICAgICAgcmVzdWx0Ll92ZXJpZmljYXRpb25Ub2tlbiA9IHZlcmlmaWNhdGlvblRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlR2xvYmFsVmVyc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobalVersion.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMigration: () => (/* binding */ createMigration)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/migrations/getPredefinedMigration.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/migrations/writeMigrationIndex.js\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! url */ \"url\");\n\n\n\n\nconst migrationTemplate = ({ downSQL, imports, upSQL })=>`import {\n  MigrateDownArgs,\n  MigrateUpArgs,\n} from '@payloadcms/db-mongodb'\n${imports ?? ''}\nexport async function up({ payload, req, session }: MigrateUpArgs): Promise<void> {\n${upSQL ?? `  // Migration code`}\n}\n\nexport async function down({ payload, req, session }: MigrateDownArgs): Promise<void> {\n${downSQL ?? `  // Migration code`}\n}\n`;\nconst createMigration = async function createMigration({ file, migrationName, payload, skipEmpty }) {\n    const filename = (0,url__WEBPACK_IMPORTED_MODULE_2__.fileURLToPath)(\"file:///home/paul/projects/payload/plugin-development/better-fields/gitroot/node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js\");\n    const dirname = path__WEBPACK_IMPORTED_MODULE_1__.dirname(filename);\n    const dir = payload.db.migrationDir;\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0__.mkdirSync(dir);\n    }\n    const predefinedMigration = await (0,payload__WEBPACK_IMPORTED_MODULE_3__.getPredefinedMigration)({\n        dirname,\n        file,\n        migrationName,\n        payload\n    });\n    const migrationFileContent = migrationTemplate(predefinedMigration);\n    const [yyymmdd, hhmmss] = new Date().toISOString().split('T');\n    const formattedDate = yyymmdd.replace(/\\D/g, '');\n    const formattedTime = hhmmss.split('.')[0].replace(/\\D/g, '');\n    const timestamp = `${formattedDate}_${formattedTime}`;\n    const formattedName = migrationName?.replace(/\\W/g, '_');\n    const fileName = migrationName ? `${timestamp}_${formattedName}.ts` : `${timestamp}_migration.ts`;\n    const filePath = `${dir}/${fileName}`;\n    if (!skipEmpty) {\n        fs__WEBPACK_IMPORTED_MODULE_0__.writeFileSync(filePath, migrationFileContent);\n    }\n    (0,payload__WEBPACK_IMPORTED_MODULE_4__.writeMigrationIndex)({\n        migrationsDir: payload.db.migrationDir\n    });\n    payload.logger.info({\n        msg: `Migration created at ${filePath}`\n    });\n};\n\n//# sourceMappingURL=createMigration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZU1pZ3JhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0I7QUFDSTtBQUM4QztBQUNsQztBQUNwQyw2QkFBNkIseUJBQXlCO0FBQ3REO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsRUFBRTtBQUNGLDJCQUEyQix1QkFBdUI7QUFDbEQsRUFBRTtBQUNGOztBQUVBLDZCQUE2Qix1QkFBdUI7QUFDcEQsRUFBRTtBQUNGO0FBQ0E7QUFDTyx5REFBeUQseUNBQXlDO0FBQ3pHLHFCQUFxQixrREFBYSxDQUFDLHFSQUFlO0FBQ2xELG9CQUFvQix5Q0FBWTtBQUNoQztBQUNBLFNBQVMsMENBQWE7QUFDdEIsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLHNDQUFzQywrREFBc0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsY0FBYyxHQUFHLGNBQWM7QUFDeEQ7QUFDQSx3Q0FBd0MsVUFBVSxHQUFHLGNBQWMsVUFBVSxVQUFVO0FBQ3ZGLHdCQUF3QixJQUFJLEdBQUcsU0FBUztBQUN4QztBQUNBLFFBQVEsNkNBQWdCO0FBQ3hCO0FBQ0EsSUFBSSw0REFBbUI7QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMsU0FBUztBQUM5QyxLQUFLO0FBQ0w7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9jcmVhdGVNaWdyYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgZ2V0UHJlZGVmaW5lZE1pZ3JhdGlvbiwgd3JpdGVNaWdyYXRpb25JbmRleCB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ3VybCc7XG5jb25zdCBtaWdyYXRpb25UZW1wbGF0ZSA9ICh7IGRvd25TUUwsIGltcG9ydHMsIHVwU1FMIH0pPT5gaW1wb3J0IHtcbiAgTWlncmF0ZURvd25BcmdzLFxuICBNaWdyYXRlVXBBcmdzLFxufSBmcm9tICdAcGF5bG9hZGNtcy9kYi1tb25nb2RiJ1xuJHtpbXBvcnRzID8/ICcnfVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwKHsgcGF5bG9hZCwgcmVxLCBzZXNzaW9uIH06IE1pZ3JhdGVVcEFyZ3MpOiBQcm9taXNlPHZvaWQ+IHtcbiR7dXBTUUwgPz8gYCAgLy8gTWlncmF0aW9uIGNvZGVgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZG93bih7IHBheWxvYWQsIHJlcSwgc2Vzc2lvbiB9OiBNaWdyYXRlRG93bkFyZ3MpOiBQcm9taXNlPHZvaWQ+IHtcbiR7ZG93blNRTCA/PyBgICAvLyBNaWdyYXRpb24gY29kZWB9XG59XG5gO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU1pZ3JhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1pZ3JhdGlvbih7IGZpbGUsIG1pZ3JhdGlvbk5hbWUsIHBheWxvYWQsIHNraXBFbXB0eSB9KSB7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCk7XG4gICAgY29uc3QgZGlybmFtZSA9IHBhdGguZGlybmFtZShmaWxlbmFtZSk7XG4gICAgY29uc3QgZGlyID0gcGF5bG9hZC5kYi5taWdyYXRpb25EaXI7XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGRpcikpIHtcbiAgICAgICAgZnMubWtkaXJTeW5jKGRpcik7XG4gICAgfVxuICAgIGNvbnN0IHByZWRlZmluZWRNaWdyYXRpb24gPSBhd2FpdCBnZXRQcmVkZWZpbmVkTWlncmF0aW9uKHtcbiAgICAgICAgZGlybmFtZSxcbiAgICAgICAgZmlsZSxcbiAgICAgICAgbWlncmF0aW9uTmFtZSxcbiAgICAgICAgcGF5bG9hZFxuICAgIH0pO1xuICAgIGNvbnN0IG1pZ3JhdGlvbkZpbGVDb250ZW50ID0gbWlncmF0aW9uVGVtcGxhdGUocHJlZGVmaW5lZE1pZ3JhdGlvbik7XG4gICAgY29uc3QgW3l5eW1tZGQsIGhobW1zc10gPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKTtcbiAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0geXl5bW1kZC5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIGNvbnN0IGZvcm1hdHRlZFRpbWUgPSBoaG1tc3Muc3BsaXQoJy4nKVswXS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGAke2Zvcm1hdHRlZERhdGV9XyR7Zm9ybWF0dGVkVGltZX1gO1xuICAgIGNvbnN0IGZvcm1hdHRlZE5hbWUgPSBtaWdyYXRpb25OYW1lPy5yZXBsYWNlKC9cXFcvZywgJ18nKTtcbiAgICBjb25zdCBmaWxlTmFtZSA9IG1pZ3JhdGlvbk5hbWUgPyBgJHt0aW1lc3RhbXB9XyR7Zm9ybWF0dGVkTmFtZX0udHNgIDogYCR7dGltZXN0YW1wfV9taWdyYXRpb24udHNgO1xuICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7ZGlyfS8ke2ZpbGVOYW1lfWA7XG4gICAgaWYgKCFza2lwRW1wdHkpIHtcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhmaWxlUGF0aCwgbWlncmF0aW9uRmlsZUNvbnRlbnQpO1xuICAgIH1cbiAgICB3cml0ZU1pZ3JhdGlvbkluZGV4KHtcbiAgICAgICAgbWlncmF0aW9uc0RpcjogcGF5bG9hZC5kYi5taWdyYXRpb25EaXJcbiAgICB9KTtcbiAgICBwYXlsb2FkLmxvZ2dlci5pbmZvKHtcbiAgICAgICAgbXNnOiBgTWlncmF0aW9uIGNyZWF0ZWQgYXQgJHtmaWxlUGF0aH1gXG4gICAgfSk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVNaWdyYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createVersion.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createVersion.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createVersion: () => (/* binding */ createVersion)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\nconst createVersion = async function createVersion({ autosave, collectionSlug, createdAt, parent, publishedLocale, req, snapshot, updatedAt, versionData }) {\n    const VersionModel = this.versions[collectionSlug];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const data = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: {\n            autosave,\n            createdAt,\n            latest: true,\n            parent,\n            publishedLocale,\n            snapshot,\n            updatedAt,\n            version: versionData\n        },\n        fields: (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionCollectionFields)(this.payload.config, this.payload.collections[collectionSlug].config)\n    });\n    const [doc] = await VersionModel.create([\n        data\n    ], options, req);\n    const parentQuery = {\n        $or: [\n            {\n                parent: {\n                    $eq: data.parent\n                }\n            }\n        ]\n    };\n    if (data.parent instanceof mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId) {\n        parentQuery.$or.push({\n            parent: {\n                $eq: data.parent.toString()\n            }\n        });\n    }\n    await VersionModel.updateMany({\n        $and: [\n            {\n                _id: {\n                    $ne: doc._id\n                }\n            },\n            parentQuery,\n            {\n                latest: {\n                    $eq: true\n                }\n            },\n            {\n                updatedAt: {\n                    $lt: new Date(doc.updatedAt)\n                }\n            }\n        ]\n    }, {\n        $unset: {\n            latest: 1\n        }\n    }, options);\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n};\n\n//# sourceMappingURL=createVersion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2NyZWF0ZVZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUM7QUFDc0I7QUFDQTtBQUMwQjtBQUMxRSxxREFBcUQscUdBQXFHO0FBQ2pLO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQSxpQkFBaUIsOEZBQXVCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdCQUFnQixxRUFBNEI7QUFDNUMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyQ0FBSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvY3JlYXRlVmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlcyB9IGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB7IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplUmVsYXRpb25zaGlwSURzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMuanMnO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlcnNpb24gPSBhc3luYyBmdW5jdGlvbiBjcmVhdGVWZXJzaW9uKHsgYXV0b3NhdmUsIGNvbGxlY3Rpb25TbHVnLCBjcmVhdGVkQXQsIHBhcmVudCwgcHVibGlzaGVkTG9jYWxlLCByZXEsIHNuYXBzaG90LCB1cGRhdGVkQXQsIHZlcnNpb25EYXRhIH0pIHtcbiAgICBjb25zdCBWZXJzaW9uTW9kZWwgPSB0aGlzLnZlcnNpb25zW2NvbGxlY3Rpb25TbHVnXTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGNvbnN0IGRhdGEgPSBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyh7XG4gICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgYXV0b3NhdmUsXG4gICAgICAgICAgICBjcmVhdGVkQXQsXG4gICAgICAgICAgICBsYXRlc3Q6IHRydWUsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBwdWJsaXNoZWRMb2NhbGUsXG4gICAgICAgICAgICBzbmFwc2hvdCxcbiAgICAgICAgICAgIHVwZGF0ZWRBdCxcbiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb25EYXRhXG4gICAgICAgIH0sXG4gICAgICAgIGZpZWxkczogYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyh0aGlzLnBheWxvYWQuY29uZmlnLCB0aGlzLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvblNsdWddLmNvbmZpZylcbiAgICB9KTtcbiAgICBjb25zdCBbZG9jXSA9IGF3YWl0IFZlcnNpb25Nb2RlbC5jcmVhdGUoW1xuICAgICAgICBkYXRhXG4gICAgXSwgb3B0aW9ucywgcmVxKTtcbiAgICBjb25zdCBwYXJlbnRRdWVyeSA9IHtcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICRlcTogZGF0YS5wYXJlbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xuICAgIGlmIChkYXRhLnBhcmVudCBpbnN0YW5jZW9mIFR5cGVzLk9iamVjdElkKSB7XG4gICAgICAgIHBhcmVudFF1ZXJ5LiRvci5wdXNoKHtcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgICRlcTogZGF0YS5wYXJlbnQudG9TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXdhaXQgVmVyc2lvbk1vZGVsLnVwZGF0ZU1hbnkoe1xuICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICAgICAgICAgICRuZTogZG9jLl9pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJlbnRRdWVyeSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXRlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgJGVxOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJGx0OiBuZXcgRGF0ZShkb2MudXBkYXRlZEF0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0sIHtcbiAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICBsYXRlc3Q6IDFcbiAgICAgICAgfVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZG9jKSk7XG4gICAgY29uc3QgdmVyaWZpY2F0aW9uVG9rZW4gPSBkb2MuX3ZlcmlmaWNhdGlvblRva2VuO1xuICAgIC8vIGN1c3RvbSBpZCB0eXBlIHJlc2V0XG4gICAgcmVzdWx0LmlkID0gcmVzdWx0Ll9pZDtcbiAgICBpZiAodmVyaWZpY2F0aW9uVG9rZW4pIHtcbiAgICAgICAgcmVzdWx0Ll92ZXJpZmljYXRpb25Ub2tlbiA9IHZlcmlmaWNhdGlvblRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlVmVyc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createVersion.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteMany.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteMany.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteMany: () => (/* binding */ deleteMany)\n/* harmony export */ });\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\nconst deleteMany = async function deleteMany({ collection, req, where }) {\n    const Model = this.collections[collection];\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req)\n    };\n    const query = await Model.buildQuery({\n        payload: this.payload,\n        where\n    });\n    await Model.deleteMany(query, options);\n};\n\n//# sourceMappingURL=deleteMany.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2RlbGV0ZU1hbnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUQ7QUFDaEQsK0NBQStDLHdCQUF3QjtBQUM5RTtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9kZWxldGVNYW55LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmV4cG9ydCBjb25zdCBkZWxldGVNYW55ID0gYXN5bmMgZnVuY3Rpb24gZGVsZXRlTWFueSh7IGNvbGxlY3Rpb24sIHJlcSwgd2hlcmUgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzZXNzaW9uOiBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSlcbiAgICB9O1xuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICBhd2FpdCBNb2RlbC5kZWxldGVNYW55KHF1ZXJ5LCBvcHRpb25zKTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGV0ZU1hbnkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteMany.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteOne.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteOne.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteOne: () => (/* binding */ deleteOne)\n/* harmony export */ });\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\nconst deleteOne = async function deleteOne({ collection, req, select, where }) {\n    const Model = this.collections[collection];\n    const options = {\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: this.payload.collections[collection].config.flattenedFields,\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await Model.buildQuery({\n        payload: this.payload,\n        where\n    });\n    const doc = await Model.findOneAndDelete(query, options).lean();\n    let result = JSON.parse(JSON.stringify(doc));\n    // custom id type reset\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=deleteOne.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2RlbGV0ZU9uZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFGO0FBQzlCO0FBQ3dCO0FBQ3hFLDZDQUE2QyxnQ0FBZ0M7QUFDcEY7QUFDQTtBQUNBLG9CQUFvQixrR0FBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVCQUF1QixvRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEZBQXNCO0FBQ25DO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9kZWxldGVPbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplSW50ZXJuYWxGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGRlbGV0ZU9uZSA9IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZU9uZSh7IGNvbGxlY3Rpb24sIHJlcSwgc2VsZWN0LCB3aGVyZSB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHByb2plY3Rpb246IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3Qoe1xuICAgICAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgICAgIGZpZWxkczogdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dLmNvbmZpZy5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgfSksXG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZVxuICAgIH0pO1xuICAgIGNvbnN0IGRvYyA9IGF3YWl0IE1vZGVsLmZpbmRPbmVBbmREZWxldGUocXVlcnksIG9wdGlvbnMpLmxlYW4oKTtcbiAgICBsZXQgcmVzdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkb2MpKTtcbiAgICAvLyBjdXN0b20gaWQgdHlwZSByZXNldFxuICAgIHJlc3VsdC5pZCA9IHJlc3VsdC5faWQ7XG4gICAgcmVzdWx0ID0gc2FuaXRpemVJbnRlcm5hbEZpZWxkcyhyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxldGVPbmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteOne.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteVersions.js":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteVersions.js ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteVersions: () => (/* binding */ deleteVersions)\n/* harmony export */ });\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n\nconst deleteVersions = async function deleteVersions({ collection, locale, req, where }) {\n    const VersionsModel = this.versions[collection];\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_0__.getSession)(this, req);\n    const query = await VersionsModel.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    await VersionsModel.deleteMany(query, {\n        session\n    });\n};\n\n//# sourceMappingURL=deleteVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2RlbGV0ZVZlcnNpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVEO0FBQ2hELHVEQUF1RCxnQ0FBZ0M7QUFDOUY7QUFDQSwwQkFBMEIsb0VBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2RlbGV0ZVZlcnNpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmV4cG9ydCBjb25zdCBkZWxldGVWZXJzaW9ucyA9IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVZlcnNpb25zKHsgY29sbGVjdGlvbiwgbG9jYWxlLCByZXEsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBWZXJzaW9uc01vZGVsID0gdGhpcy52ZXJzaW9uc1tjb2xsZWN0aW9uXTtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgVmVyc2lvbnNNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBwYXlsb2FkOiB0aGlzLnBheWxvYWQsXG4gICAgICAgIHdoZXJlXG4gICAgfSk7XG4gICAgYXdhaXQgVmVyc2lvbnNNb2RlbC5kZWxldGVNYW55KHF1ZXJ5LCB7XG4gICAgICAgIHNlc3Npb25cbiAgICB9KTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGV0ZVZlcnNpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/destroy.js":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/destroy.js ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   destroy: () => (/* binding */ destroy)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n\nconst destroy = async function destroy() {\n    if (this.mongoMemoryServer) {\n        await this.mongoMemoryServer.stop();\n    } else {\n        await mongoose__WEBPACK_IMPORTED_MODULE_0__.disconnect();\n    }\n    Object.keys(mongoose__WEBPACK_IMPORTED_MODULE_0__.models).map((model)=>mongoose__WEBPACK_IMPORTED_MODULE_0__.deleteModel(model));\n};\n\n//# sourceMappingURL=destroy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2Rlc3Ryb3kuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0M7QUFDekI7QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOLGNBQWMsZ0RBQW1CO0FBQ2pDO0FBQ0EsZ0JBQWdCLDRDQUFlLGVBQWUsaURBQW9CO0FBQ2xFOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvZGVzdHJveS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuZXhwb3J0IGNvbnN0IGRlc3Ryb3kgPSBhc3luYyBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLm1vbmdvTWVtb3J5U2VydmVyKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubW9uZ29NZW1vcnlTZXJ2ZXIuc3RvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IG1vbmdvb3NlLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gICAgT2JqZWN0LmtleXMobW9uZ29vc2UubW9kZWxzKS5tYXAoKG1vZGVsKT0+bW9uZ29vc2UuZGVsZXRlTW9kZWwobW9kZWwpKTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlc3Ryb3kuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/destroy.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/find.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/find.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   find: () => (/* binding */ find)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n/* harmony import */ var _utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildJoinAggregation.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\n\n\nconst find = async function find({ collection, joins = {}, limit = 0, locale, page, pagination, projection, req, select, sort: sortArg, where }) {\n    const Model = this.collections[collection];\n    const collectionConfig = this.payload.collections[collection].config;\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_3__.getSession)(this, req);\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    let sort;\n    if (!hasNearConstraint) {\n        sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n            config: this.payload.config,\n            fields: collectionConfig.flattenedFields,\n            locale,\n            sort: sortArg || collectionConfig.defaultSort,\n            timestamps: true\n        });\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    const paginationOptions = {\n        lean: true,\n        leanWithId: true,\n        options: {\n            session\n        },\n        page,\n        pagination,\n        projection,\n        sort,\n        useEstimatedCount\n    };\n    if (select) {\n        paginationOptions.projection = (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_2__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: collectionConfig.flattenedFields,\n            select\n        });\n    }\n    if (this.collation) {\n        const defaultLocale = 'en';\n        paginationOptions.collation = {\n            locale: locale && locale !== 'all' && locale !== '*' ? locale : defaultLocale,\n            ...this.collation\n        };\n    }\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        paginationOptions.useCustomCountFn = ()=>{\n            return Promise.resolve(Model.countDocuments(query, {\n                hint: {\n                    _id: 1\n                },\n                session\n            }));\n        };\n    }\n    if (limit >= 0) {\n        paginationOptions.limit = limit;\n        // limit must also be set here, it's ignored when pagination is false\n        paginationOptions.options.limit = limit;\n        // Disable pagination if limit is 0\n        if (limit === 0) {\n            paginationOptions.pagination = false;\n        }\n    }\n    let result;\n    const aggregate = await (0,_utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_1__.buildJoinAggregation)({\n        adapter: this,\n        collection,\n        collectionConfig,\n        joins,\n        locale,\n        query\n    });\n    // build join aggregation\n    if (aggregate) {\n        result = await Model.aggregatePaginate(Model.aggregate(aggregate), paginationOptions);\n    } else {\n        result = await Model.paginate(query, paginationOptions);\n    }\n    const docs = JSON.parse(JSON.stringify(result.docs));\n    return {\n        ...result,\n        docs: docs.map((doc)=>{\n            doc.id = doc._id;\n            return (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_4__.sanitizeInternalFields)(doc);\n        })\n    };\n};\n\n//# sourceMappingURL=find.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrRDtBQUNXO0FBQ2M7QUFDVTtBQUM5QjtBQUN3QjtBQUN4RSxtQ0FBbUMsc0JBQXNCLHNGQUFzRjtBQUN0SjtBQUNBO0FBQ0EsMEJBQTBCLG9FQUFVO0FBQ3BDO0FBQ0E7QUFDQSw0QkFBNEIsbURBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwRUFBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsa0dBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix3RkFBb0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RkFBc0I7QUFDekMsU0FBUztBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9maW5kLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBidWlsZFNvcnRQYXJhbSB9IGZyb20gJy4vcXVlcmllcy9idWlsZFNvcnRQYXJhbS5qcyc7XG5pbXBvcnQgeyBidWlsZEpvaW5BZ2dyZWdhdGlvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkSm9pbkFnZ3JlZ2F0aW9uLmpzJztcbmltcG9ydCB7IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QgfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplSW50ZXJuYWxGaWVsZHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzJztcbmV4cG9ydCBjb25zdCBmaW5kID0gYXN5bmMgZnVuY3Rpb24gZmluZCh7IGNvbGxlY3Rpb24sIGpvaW5zID0ge30sIGxpbWl0ID0gMCwgbG9jYWxlLCBwYWdlLCBwYWdpbmF0aW9uLCBwcm9qZWN0aW9uLCByZXEsIHNlbGVjdCwgc29ydDogc29ydEFyZywgd2hlcmUgfSkge1xuICAgIGNvbnN0IE1vZGVsID0gdGhpcy5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXTtcbiAgICBjb25zdCBjb2xsZWN0aW9uQ29uZmlnID0gdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dLmNvbmZpZztcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpO1xuICAgIGxldCBoYXNOZWFyQ29uc3RyYWludCA9IGZhbHNlO1xuICAgIGlmICh3aGVyZSkge1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzKHdoZXJlKTtcbiAgICAgICAgaGFzTmVhckNvbnN0cmFpbnQgPSBjb25zdHJhaW50cy5zb21lKChwcm9wKT0+T2JqZWN0LmtleXMocHJvcCkuc29tZSgoa2V5KT0+a2V5ID09PSAnbmVhcicpKTtcbiAgICB9XG4gICAgbGV0IHNvcnQ7XG4gICAgaWYgKCFoYXNOZWFyQ29uc3RyYWludCkge1xuICAgICAgICBzb3J0ID0gYnVpbGRTb3J0UGFyYW0oe1xuICAgICAgICAgICAgY29uZmlnOiB0aGlzLnBheWxvYWQuY29uZmlnLFxuICAgICAgICAgICAgZmllbGRzOiBjb2xsZWN0aW9uQ29uZmlnLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHNvcnQ6IHNvcnRBcmcgfHwgY29sbGVjdGlvbkNvbmZpZy5kZWZhdWx0U29ydCxcbiAgICAgICAgICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZVxuICAgIH0pO1xuICAgIC8vIHVzZUVzdGltYXRlZENvdW50IGlzIGZhc3RlciwgYnV0IG5vdCBhY2N1cmF0ZSwgYXMgaXQgaWdub3JlcyBhbnkgZmlsdGVycy4gSXQgaXMgdGh1cyBzZXQgdG8gdHJ1ZSBpZiB0aGVyZSBhcmUgbm8gZmlsdGVycy5cbiAgICBjb25zdCB1c2VFc3RpbWF0ZWRDb3VudCA9IGhhc05lYXJDb25zdHJhaW50IHx8ICFxdWVyeSB8fCBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAwO1xuICAgIGNvbnN0IHBhZ2luYXRpb25PcHRpb25zID0ge1xuICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICBsZWFuV2l0aElkOiB0cnVlLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzZXNzaW9uXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2UsXG4gICAgICAgIHBhZ2luYXRpb24sXG4gICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgIHNvcnQsXG4gICAgICAgIHVzZUVzdGltYXRlZENvdW50XG4gICAgfTtcbiAgICBpZiAoc2VsZWN0KSB7XG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLnByb2plY3Rpb24gPSBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0KHtcbiAgICAgICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgICAgICBmaWVsZHM6IGNvbGxlY3Rpb25Db25maWcuZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICAgICAgc2VsZWN0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb2xsYXRpb24pIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdExvY2FsZSA9ICdlbic7XG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLmNvbGxhdGlvbiA9IHtcbiAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlICYmIGxvY2FsZSAhPT0gJ2FsbCcgJiYgbG9jYWxlICE9PSAnKicgPyBsb2NhbGUgOiBkZWZhdWx0TG9jYWxlLFxuICAgICAgICAgICAgLi4udGhpcy5jb2xsYXRpb25cbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCF1c2VFc3RpbWF0ZWRDb3VudCAmJiBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAwICYmIHRoaXMuZGlzYWJsZUluZGV4SGludHMgIT09IHRydWUpIHtcbiAgICAgICAgLy8gSW1wcm92ZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGNvdW50RG9jdW1lbnRzIHF1ZXJ5IHdoaWNoIGlzIHVzZWQgaWYgdXNlRXN0aW1hdGVkQ291bnQgaXMgc2V0IHRvIGZhbHNlIGJ5IGFkZGluZ1xuICAgICAgICAvLyBhIGhpbnQuIEJ5IGRlZmF1bHQsIGlmIG5vIGhpbnQgaXMgcHJvdmlkZWQsIE1vbmdvREIgZG9lcyBub3QgdXNlIGFuIGluZGV4ZWQgZmllbGQgdG8gY291bnQgdGhlIHJldHVybmVkIGRvY3VtZW50cyxcbiAgICAgICAgLy8gd2hpY2ggbWFrZXMgcXVlcmllcyB2ZXJ5IHNsb3cuIFRoaXMgb25seSBoYXBwZW5zIHdoZW4gbm8gcXVlcnkgKGZpbHRlcikgaXMgcHJvdmlkZWQuIElmIG9uZSBpcyBwcm92aWRlZCwgaXQgdXNlc1xuICAgICAgICAvLyB0aGUgY29ycmVjdCBpbmRleGVkIGZpZWxkXG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLnVzZUN1c3RvbUNvdW50Rm4gPSAoKT0+e1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShNb2RlbC5jb3VudERvY3VtZW50cyhxdWVyeSwge1xuICAgICAgICAgICAgICAgIGhpbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXNzaW9uXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChsaW1pdCA+PSAwKSB7XG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLmxpbWl0ID0gbGltaXQ7XG4gICAgICAgIC8vIGxpbWl0IG11c3QgYWxzbyBiZSBzZXQgaGVyZSwgaXQncyBpZ25vcmVkIHdoZW4gcGFnaW5hdGlvbiBpcyBmYWxzZVxuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5vcHRpb25zLmxpbWl0ID0gbGltaXQ7XG4gICAgICAgIC8vIERpc2FibGUgcGFnaW5hdGlvbiBpZiBsaW1pdCBpcyAwXG4gICAgICAgIGlmIChsaW1pdCA9PT0gMCkge1xuICAgICAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMucGFnaW5hdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByZXN1bHQ7XG4gICAgY29uc3QgYWdncmVnYXRlID0gYXdhaXQgYnVpbGRKb2luQWdncmVnYXRpb24oe1xuICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICBjb2xsZWN0aW9uQ29uZmlnLFxuICAgICAgICBqb2lucyxcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBxdWVyeVxuICAgIH0pO1xuICAgIC8vIGJ1aWxkIGpvaW4gYWdncmVnYXRpb25cbiAgICBpZiAoYWdncmVnYXRlKSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IE1vZGVsLmFnZ3JlZ2F0ZVBhZ2luYXRlKE1vZGVsLmFnZ3JlZ2F0ZShhZ2dyZWdhdGUpLCBwYWdpbmF0aW9uT3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgTW9kZWwucGFnaW5hdGUocXVlcnksIHBhZ2luYXRpb25PcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgZG9jcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0LmRvY3MpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGRvY3M6IGRvY3MubWFwKChkb2MpPT57XG4gICAgICAgICAgICBkb2MuaWQgPSBkb2MuX2lkO1xuICAgICAgICAgICAgcmV0dXJuIHNhbml0aXplSW50ZXJuYWxGaWVsZHMoZG9jKTtcbiAgICAgICAgfSlcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/find.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobal.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobal.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findGlobal: () => (/* binding */ findGlobal)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/combineQueries.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\nconst findGlobal = async function findGlobal({ slug, locale, req, select, where }) {\n    const Model = this.globals;\n    const options = {\n        lean: true,\n        select: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: this.payload.globals.config.find((each)=>each.slug === slug).flattenedFields,\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await Model.buildQuery({\n        globalSlug: slug,\n        locale,\n        payload: this.payload,\n        where: (0,payload__WEBPACK_IMPORTED_MODULE_3__.combineQueries)({\n            globalType: {\n                equals: slug\n            }\n        }, where)\n    });\n    let doc = await Model.findOne(query, {}, options);\n    if (!doc) {\n        return null;\n    }\n    if (doc._id) {\n        doc.id = doc._id;\n        delete doc._id;\n    }\n    doc = JSON.parse(JSON.stringify(doc));\n    doc = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeInternalFields)(doc);\n    return doc;\n};\n\n//# sourceMappingURL=findGlobal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmRHbG9iYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBeUM7QUFDNEM7QUFDOUI7QUFDd0I7QUFDeEUsK0NBQStDLGtDQUFrQztBQUN4RjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0dBQXlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdURBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNEZBQXNCO0FBQ2hDO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9maW5kR2xvYmFsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbWJpbmVRdWVyaWVzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0IH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdC5qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUludGVybmFsRmllbGRzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVJbnRlcm5hbEZpZWxkcy5qcyc7XG5leHBvcnQgY29uc3QgZmluZEdsb2JhbCA9IGFzeW5jIGZ1bmN0aW9uIGZpbmRHbG9iYWwoeyBzbHVnLCBsb2NhbGUsIHJlcSwgc2VsZWN0LCB3aGVyZSB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLmdsb2JhbHM7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgbGVhbjogdHJ1ZSxcbiAgICAgICAgc2VsZWN0OiBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0KHtcbiAgICAgICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgICAgICBmaWVsZHM6IHRoaXMucGF5bG9hZC5nbG9iYWxzLmNvbmZpZy5maW5kKChlYWNoKT0+ZWFjaC5zbHVnID09PSBzbHVnKS5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgfSksXG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgZ2xvYmFsU2x1Zzogc2x1ZyxcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBwYXlsb2FkOiB0aGlzLnBheWxvYWQsXG4gICAgICAgIHdoZXJlOiBjb21iaW5lUXVlcmllcyh7XG4gICAgICAgICAgICBnbG9iYWxUeXBlOiB7XG4gICAgICAgICAgICAgICAgZXF1YWxzOiBzbHVnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHdoZXJlKVxuICAgIH0pO1xuICAgIGxldCBkb2MgPSBhd2FpdCBNb2RlbC5maW5kT25lKHF1ZXJ5LCB7fSwgb3B0aW9ucyk7XG4gICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChkb2MuX2lkKSB7XG4gICAgICAgIGRvYy5pZCA9IGRvYy5faWQ7XG4gICAgICAgIGRlbGV0ZSBkb2MuX2lkO1xuICAgIH1cbiAgICBkb2MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRvYykpO1xuICAgIGRvYyA9IHNhbml0aXplSW50ZXJuYWxGaWVsZHMoZG9jKTtcbiAgICByZXR1cm4gZG9jO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZEdsb2JhbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobal.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobalVersions.js":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobalVersions.js ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findGlobalVersions: () => (/* binding */ findGlobalVersions)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildGlobalFields.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\n\nconst findGlobalVersions = async function findGlobalVersions({ global, limit, locale, page, pagination, req, select, skip, sort: sortArg, where }) {\n    const Model = this.versions[global];\n    const versionFields = (0,payload__WEBPACK_IMPORTED_MODULE_4__.buildVersionGlobalFields)(this.payload.config, this.payload.globals.config.find(({ slug })=>slug === global), true);\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__.getSession)(this, req);\n    const options = {\n        limit,\n        session,\n        skip\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    let sort;\n    if (!hasNearConstraint) {\n        sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n            config: this.payload.config,\n            fields: versionFields,\n            locale,\n            sort: sortArg || '-updatedAt',\n            timestamps: true\n        });\n    }\n    const query = await Model.buildQuery({\n        globalSlug: global,\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    const paginationOptions = {\n        lean: true,\n        leanWithId: true,\n        limit,\n        options,\n        page,\n        pagination,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: versionFields,\n            select\n        }),\n        sort,\n        useEstimatedCount\n    };\n    if (this.collation) {\n        const defaultLocale = 'en';\n        paginationOptions.collation = {\n            locale: locale && locale !== 'all' && locale !== '*' ? locale : defaultLocale,\n            ...this.collation\n        };\n    }\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        paginationOptions.useCustomCountFn = ()=>{\n            return Promise.resolve(Model.countDocuments(query, {\n                hint: {\n                    _id: 1\n                },\n                session\n            }));\n        };\n    }\n    if (limit >= 0) {\n        paginationOptions.limit = limit;\n        // limit must also be set here, it's ignored when pagination is false\n        paginationOptions.options.limit = limit;\n        // Disable pagination if limit is 0\n        if (limit === 0) {\n            paginationOptions.pagination = false;\n        }\n    }\n    const result = await Model.paginate(query, paginationOptions);\n    const docs = JSON.parse(JSON.stringify(result.docs));\n    return {\n        ...result,\n        docs: docs.map((doc)=>{\n            doc.id = doc._id;\n            return (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeInternalFields)(doc);\n        })\n    };\n};\n\n//# sourceMappingURL=findGlobalVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmRHbG9iYWxWZXJzaW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRFO0FBQ2Y7QUFDd0I7QUFDOUI7QUFDd0I7QUFDeEUsK0RBQStELGtGQUFrRjtBQUN4SjtBQUNBLDBCQUEwQixpRUFBd0IsMERBQTBELE1BQU07QUFDbEgsMEJBQTBCLG9FQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1EQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEVBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtHQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RkFBc0I7QUFDekMsU0FBUztBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9maW5kR2xvYmFsVmVyc2lvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRWZXJzaW9uR2xvYmFsRmllbGRzLCBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgYnVpbGRTb3J0UGFyYW0gfSBmcm9tICcuL3F1ZXJpZXMvYnVpbGRTb3J0UGFyYW0uanMnO1xuaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplSW50ZXJuYWxGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGZpbmRHbG9iYWxWZXJzaW9ucyA9IGFzeW5jIGZ1bmN0aW9uIGZpbmRHbG9iYWxWZXJzaW9ucyh7IGdsb2JhbCwgbGltaXQsIGxvY2FsZSwgcGFnZSwgcGFnaW5hdGlvbiwgcmVxLCBzZWxlY3QsIHNraXAsIHNvcnQ6IHNvcnRBcmcsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBNb2RlbCA9IHRoaXMudmVyc2lvbnNbZ2xvYmFsXTtcbiAgICBjb25zdCB2ZXJzaW9uRmllbGRzID0gYnVpbGRWZXJzaW9uR2xvYmFsRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIHRoaXMucGF5bG9hZC5nbG9iYWxzLmNvbmZpZy5maW5kKCh7IHNsdWcgfSk9PnNsdWcgPT09IGdsb2JhbCksIHRydWUpO1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIHNlc3Npb24sXG4gICAgICAgIHNraXBcbiAgICB9O1xuICAgIGxldCBoYXNOZWFyQ29uc3RyYWludCA9IGZhbHNlO1xuICAgIGlmICh3aGVyZSkge1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzKHdoZXJlKTtcbiAgICAgICAgaGFzTmVhckNvbnN0cmFpbnQgPSBjb25zdHJhaW50cy5zb21lKChwcm9wKT0+T2JqZWN0LmtleXMocHJvcCkuc29tZSgoa2V5KT0+a2V5ID09PSAnbmVhcicpKTtcbiAgICB9XG4gICAgbGV0IHNvcnQ7XG4gICAgaWYgKCFoYXNOZWFyQ29uc3RyYWludCkge1xuICAgICAgICBzb3J0ID0gYnVpbGRTb3J0UGFyYW0oe1xuICAgICAgICAgICAgY29uZmlnOiB0aGlzLnBheWxvYWQuY29uZmlnLFxuICAgICAgICAgICAgZmllbGRzOiB2ZXJzaW9uRmllbGRzLFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgc29ydDogc29ydEFyZyB8fCAnLXVwZGF0ZWRBdCcsXG4gICAgICAgICAgICB0aW1lc3RhbXBzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IE1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBnbG9iYWxTbHVnOiBnbG9iYWwsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZVxuICAgIH0pO1xuICAgIC8vIHVzZUVzdGltYXRlZENvdW50IGlzIGZhc3RlciwgYnV0IG5vdCBhY2N1cmF0ZSwgYXMgaXQgaWdub3JlcyBhbnkgZmlsdGVycy4gSXQgaXMgdGh1cyBzZXQgdG8gdHJ1ZSBpZiB0aGVyZSBhcmUgbm8gZmlsdGVycy5cbiAgICBjb25zdCB1c2VFc3RpbWF0ZWRDb3VudCA9IGhhc05lYXJDb25zdHJhaW50IHx8ICFxdWVyeSB8fCBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAwO1xuICAgIGNvbnN0IHBhZ2luYXRpb25PcHRpb25zID0ge1xuICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICBsZWFuV2l0aElkOiB0cnVlLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgcGFnaW5hdGlvbixcbiAgICAgICAgcHJvamVjdGlvbjogYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICAgICAgZmllbGRzOiB2ZXJzaW9uRmllbGRzLFxuICAgICAgICAgICAgc2VsZWN0XG4gICAgICAgIH0pLFxuICAgICAgICBzb3J0LFxuICAgICAgICB1c2VFc3RpbWF0ZWRDb3VudFxuICAgIH07XG4gICAgaWYgKHRoaXMuY29sbGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRMb2NhbGUgPSAnZW4nO1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5jb2xsYXRpb24gPSB7XG4gICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSAmJiBsb2NhbGUgIT09ICdhbGwnICYmIGxvY2FsZSAhPT0gJyonID8gbG9jYWxlIDogZGVmYXVsdExvY2FsZSxcbiAgICAgICAgICAgIC4uLnRoaXMuY29sbGF0aW9uXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghdXNlRXN0aW1hdGVkQ291bnQgJiYgT2JqZWN0LmtleXMocXVlcnkpLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmRpc2FibGVJbmRleEhpbnRzICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIEltcHJvdmUgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBjb3VudERvY3VtZW50cyBxdWVyeSB3aGljaCBpcyB1c2VkIGlmIHVzZUVzdGltYXRlZENvdW50IGlzIHNldCB0byBmYWxzZSBieSBhZGRpbmdcbiAgICAgICAgLy8gYSBoaW50LiBCeSBkZWZhdWx0LCBpZiBubyBoaW50IGlzIHByb3ZpZGVkLCBNb25nb0RCIGRvZXMgbm90IHVzZSBhbiBpbmRleGVkIGZpZWxkIHRvIGNvdW50IHRoZSByZXR1cm5lZCBkb2N1bWVudHMsXG4gICAgICAgIC8vIHdoaWNoIG1ha2VzIHF1ZXJpZXMgdmVyeSBzbG93LiBUaGlzIG9ubHkgaGFwcGVucyB3aGVuIG5vIHF1ZXJ5IChmaWx0ZXIpIGlzIHByb3ZpZGVkLiBJZiBvbmUgaXMgcHJvdmlkZWQsIGl0IHVzZXNcbiAgICAgICAgLy8gdGhlIGNvcnJlY3QgaW5kZXhlZCBmaWVsZFxuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy51c2VDdXN0b21Db3VudEZuID0gKCk9PntcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoTW9kZWwuY291bnREb2N1bWVudHMocXVlcnksIHtcbiAgICAgICAgICAgICAgICBoaW50OiB7XG4gICAgICAgICAgICAgICAgICAgIF9pZDogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vzc2lvblxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAobGltaXQgPj0gMCkge1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgICAgICAvLyBsaW1pdCBtdXN0IGFsc28gYmUgc2V0IGhlcmUsIGl0J3MgaWdub3JlZCB3aGVuIHBhZ2luYXRpb24gaXMgZmFsc2VcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMub3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgICAgICAvLyBEaXNhYmxlIHBhZ2luYXRpb24gaWYgbGltaXQgaXMgMFxuICAgICAgICBpZiAobGltaXQgPT09IDApIHtcbiAgICAgICAgICAgIHBhZ2luYXRpb25PcHRpb25zLnBhZ2luYXRpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBNb2RlbC5wYWdpbmF0ZShxdWVyeSwgcGFnaW5hdGlvbk9wdGlvbnMpO1xuICAgIGNvbnN0IGRvY3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdC5kb2NzKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICBkb2NzOiBkb2NzLm1hcCgoZG9jKT0+e1xuICAgICAgICAgICAgZG9jLmlkID0gZG9jLl9pZDtcbiAgICAgICAgICAgIHJldHVybiBzYW5pdGl6ZUludGVybmFsRmllbGRzKGRvYyk7XG4gICAgICAgIH0pXG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmRHbG9iYWxWZXJzaW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobalVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findOne.js":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findOne.js ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findOne: () => (/* binding */ findOne)\n/* harmony export */ });\n/* harmony import */ var _utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildJoinAggregation.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\nconst findOne = async function findOne({ collection, joins, locale, req, select, where }) {\n    const Model = this.collections[collection];\n    const collectionConfig = this.payload.collections[collection].config;\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__.getSession)(this, req);\n    const options = {\n        lean: true,\n        session\n    };\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    const projection = (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__.buildProjectionFromSelect)({\n        adapter: this,\n        fields: collectionConfig.flattenedFields,\n        select\n    });\n    const aggregate = await (0,_utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_0__.buildJoinAggregation)({\n        adapter: this,\n        collection,\n        collectionConfig,\n        joins,\n        limit: 1,\n        locale,\n        projection,\n        query\n    });\n    let doc;\n    if (aggregate) {\n        ;\n        [doc] = await Model.aggregate(aggregate, {\n            session\n        });\n    } else {\n        ;\n        options.projection = projection;\n        doc = await Model.findOne(query, {}, options);\n    }\n    if (!doc) {\n        return null;\n    }\n    let result = JSON.parse(JSON.stringify(doc));\n    // custom id type reset\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=findOne.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmRPbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkU7QUFDVTtBQUM5QjtBQUN3QjtBQUN4RSx5Q0FBeUMsK0NBQStDO0FBQy9GO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx1QkFBdUIsa0dBQXlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw0QkFBNEIsd0ZBQW9CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEZBQXNCO0FBQ25DO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9maW5kT25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkSm9pbkFnZ3JlZ2F0aW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRKb2luQWdncmVnYXRpb24uanMnO1xuaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplSW50ZXJuYWxGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGZpbmRPbmUgPSBhc3luYyBmdW5jdGlvbiBmaW5kT25lKHsgY29sbGVjdGlvbiwgam9pbnMsIGxvY2FsZSwgcmVxLCBzZWxlY3QsIHdoZXJlIH0pIHtcbiAgICBjb25zdCBNb2RlbCA9IHRoaXMuY29sbGVjdGlvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3QgY29sbGVjdGlvbkNvbmZpZyA9IHRoaXMucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jb25maWc7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICBzZXNzaW9uXG4gICAgfTtcbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IE1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgIGZpZWxkczogY29sbGVjdGlvbkNvbmZpZy5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgIHNlbGVjdFxuICAgIH0pO1xuICAgIGNvbnN0IGFnZ3JlZ2F0ZSA9IGF3YWl0IGJ1aWxkSm9pbkFnZ3JlZ2F0aW9uKHtcbiAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgY29sbGVjdGlvbkNvbmZpZyxcbiAgICAgICAgam9pbnMsXG4gICAgICAgIGxpbWl0OiAxLFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgIHF1ZXJ5XG4gICAgfSk7XG4gICAgbGV0IGRvYztcbiAgICBpZiAoYWdncmVnYXRlKSB7XG4gICAgICAgIDtcbiAgICAgICAgW2RvY10gPSBhd2FpdCBNb2RlbC5hZ2dyZWdhdGUoYWdncmVnYXRlLCB7XG4gICAgICAgICAgICBzZXNzaW9uXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIDtcbiAgICAgICAgb3B0aW9ucy5wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgZG9jID0gYXdhaXQgTW9kZWwuZmluZE9uZShxdWVyeSwge30sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZG9jKSk7XG4gICAgLy8gY3VzdG9tIGlkIHR5cGUgcmVzZXRcbiAgICByZXN1bHQuaWQgPSByZXN1bHQuX2lkO1xuICAgIHJlc3VsdCA9IHNhbml0aXplSW50ZXJuYWxGaWVsZHMocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZE9uZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findOne.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findVersions.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findVersions.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findVersions: () => (/* binding */ findVersions)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\n\nconst findVersions = async function findVersions({ collection, limit, locale, page, pagination, req = {}, select, skip, sort: sortArg, where }) {\n    const Model = this.versions[collection];\n    const collectionConfig = this.payload.collections[collection].config;\n    const session = await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_2__.getSession)(this, req);\n    const options = {\n        limit,\n        session,\n        skip\n    };\n    let hasNearConstraint = false;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    let sort;\n    if (!hasNearConstraint) {\n        sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n            config: this.payload.config,\n            fields: collectionConfig.flattenedFields,\n            locale,\n            sort: sortArg || '-updatedAt',\n            timestamps: true\n        });\n    }\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !query || Object.keys(query).length === 0;\n    const paginationOptions = {\n        lean: true,\n        leanWithId: true,\n        limit,\n        options,\n        page,\n        pagination,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_1__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: (0,payload__WEBPACK_IMPORTED_MODULE_5__.buildVersionCollectionFields)(this.payload.config, collectionConfig, true),\n            select\n        }),\n        sort,\n        useEstimatedCount\n    };\n    if (this.collation) {\n        const defaultLocale = 'en';\n        paginationOptions.collation = {\n            locale: locale && locale !== 'all' && locale !== '*' ? locale : defaultLocale,\n            ...this.collation\n        };\n    }\n    if (!useEstimatedCount && Object.keys(query).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        paginationOptions.useCustomCountFn = ()=>{\n            return Promise.resolve(Model.countDocuments(query, {\n                hint: {\n                    _id: 1\n                },\n                session\n            }));\n        };\n    }\n    if (limit >= 0) {\n        paginationOptions.limit = limit;\n        // limit must also be set here, it's ignored when pagination is false\n        paginationOptions.options.limit = limit;\n        // Disable pagination if limit is 0\n        if (limit === 0) {\n            paginationOptions.pagination = false;\n        }\n    }\n    const result = await Model.paginate(query, paginationOptions);\n    const docs = JSON.parse(JSON.stringify(result.docs));\n    return {\n        ...result,\n        docs: docs.map((doc)=>{\n            doc.id = doc._id;\n            return (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeInternalFields)(doc);\n        })\n    };\n};\n\n//# sourceMappingURL=findVersions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2ZpbmRWZXJzaW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdGO0FBQ25CO0FBQ3dCO0FBQzlCO0FBQ3dCO0FBQ3hFLG1EQUFtRCxxREFBcUQsc0NBQXNDO0FBQ3JKO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwRUFBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtHQUF5QjtBQUM3QztBQUNBLG9CQUFvQixxRUFBNEI7QUFDaEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0RkFBc0I7QUFDekMsU0FBUztBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9maW5kVmVyc2lvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcywgZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IGJ1aWxkU29ydFBhcmFtIH0gZnJvbSAnLi9xdWVyaWVzL2J1aWxkU29ydFBhcmFtLmpzJztcbmltcG9ydCB7IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QgfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IHNhbml0aXplSW50ZXJuYWxGaWVsZHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzJztcbmV4cG9ydCBjb25zdCBmaW5kVmVyc2lvbnMgPSBhc3luYyBmdW5jdGlvbiBmaW5kVmVyc2lvbnMoeyBjb2xsZWN0aW9uLCBsaW1pdCwgbG9jYWxlLCBwYWdlLCBwYWdpbmF0aW9uLCByZXEgPSB7fSwgc2VsZWN0LCBza2lwLCBzb3J0OiBzb3J0QXJnLCB3aGVyZSB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLnZlcnNpb25zW2NvbGxlY3Rpb25dO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Db25maWcgPSB0aGlzLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvbl0uY29uZmlnO1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKHRoaXMsIHJlcSk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIHNlc3Npb24sXG4gICAgICAgIHNraXBcbiAgICB9O1xuICAgIGxldCBoYXNOZWFyQ29uc3RyYWludCA9IGZhbHNlO1xuICAgIGlmICh3aGVyZSkge1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGZsYXR0ZW5XaGVyZVRvT3BlcmF0b3JzKHdoZXJlKTtcbiAgICAgICAgaGFzTmVhckNvbnN0cmFpbnQgPSBjb25zdHJhaW50cy5zb21lKChwcm9wKT0+T2JqZWN0LmtleXMocHJvcCkuc29tZSgoa2V5KT0+a2V5ID09PSAnbmVhcicpKTtcbiAgICB9XG4gICAgbGV0IHNvcnQ7XG4gICAgaWYgKCFoYXNOZWFyQ29uc3RyYWludCkge1xuICAgICAgICBzb3J0ID0gYnVpbGRTb3J0UGFyYW0oe1xuICAgICAgICAgICAgY29uZmlnOiB0aGlzLnBheWxvYWQuY29uZmlnLFxuICAgICAgICAgICAgZmllbGRzOiBjb2xsZWN0aW9uQ29uZmlnLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHNvcnQ6IHNvcnRBcmcgfHwgJy11cGRhdGVkQXQnLFxuICAgICAgICAgICAgdGltZXN0YW1wczogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBwYXlsb2FkOiB0aGlzLnBheWxvYWQsXG4gICAgICAgIHdoZXJlXG4gICAgfSk7XG4gICAgLy8gdXNlRXN0aW1hdGVkQ291bnQgaXMgZmFzdGVyLCBidXQgbm90IGFjY3VyYXRlLCBhcyBpdCBpZ25vcmVzIGFueSBmaWx0ZXJzLiBJdCBpcyB0aHVzIHNldCB0byB0cnVlIGlmIHRoZXJlIGFyZSBubyBmaWx0ZXJzLlxuICAgIGNvbnN0IHVzZUVzdGltYXRlZENvdW50ID0gaGFzTmVhckNvbnN0cmFpbnQgfHwgIXF1ZXJ5IHx8IE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPT09IDA7XG4gICAgY29uc3QgcGFnaW5hdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgIGxlYW46IHRydWUsXG4gICAgICAgIGxlYW5XaXRoSWQ6IHRydWUsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBwYWdlLFxuICAgICAgICBwYWdpbmF0aW9uLFxuICAgICAgICBwcm9qZWN0aW9uOiBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0KHtcbiAgICAgICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgICAgICBmaWVsZHM6IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHModGhpcy5wYXlsb2FkLmNvbmZpZywgY29sbGVjdGlvbkNvbmZpZywgdHJ1ZSksXG4gICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgfSksXG4gICAgICAgIHNvcnQsXG4gICAgICAgIHVzZUVzdGltYXRlZENvdW50XG4gICAgfTtcbiAgICBpZiAodGhpcy5jb2xsYXRpb24pIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdExvY2FsZSA9ICdlbic7XG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLmNvbGxhdGlvbiA9IHtcbiAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlICYmIGxvY2FsZSAhPT0gJ2FsbCcgJiYgbG9jYWxlICE9PSAnKicgPyBsb2NhbGUgOiBkZWZhdWx0TG9jYWxlLFxuICAgICAgICAgICAgLi4udGhpcy5jb2xsYXRpb25cbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCF1c2VFc3RpbWF0ZWRDb3VudCAmJiBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAwICYmIHRoaXMuZGlzYWJsZUluZGV4SGludHMgIT09IHRydWUpIHtcbiAgICAgICAgLy8gSW1wcm92ZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGNvdW50RG9jdW1lbnRzIHF1ZXJ5IHdoaWNoIGlzIHVzZWQgaWYgdXNlRXN0aW1hdGVkQ291bnQgaXMgc2V0IHRvIGZhbHNlIGJ5IGFkZGluZ1xuICAgICAgICAvLyBhIGhpbnQuIEJ5IGRlZmF1bHQsIGlmIG5vIGhpbnQgaXMgcHJvdmlkZWQsIE1vbmdvREIgZG9lcyBub3QgdXNlIGFuIGluZGV4ZWQgZmllbGQgdG8gY291bnQgdGhlIHJldHVybmVkIGRvY3VtZW50cyxcbiAgICAgICAgLy8gd2hpY2ggbWFrZXMgcXVlcmllcyB2ZXJ5IHNsb3cuIFRoaXMgb25seSBoYXBwZW5zIHdoZW4gbm8gcXVlcnkgKGZpbHRlcikgaXMgcHJvdmlkZWQuIElmIG9uZSBpcyBwcm92aWRlZCwgaXQgdXNlc1xuICAgICAgICAvLyB0aGUgY29ycmVjdCBpbmRleGVkIGZpZWxkXG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLnVzZUN1c3RvbUNvdW50Rm4gPSAoKT0+e1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShNb2RlbC5jb3VudERvY3VtZW50cyhxdWVyeSwge1xuICAgICAgICAgICAgICAgIGhpbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXNzaW9uXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChsaW1pdCA+PSAwKSB7XG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLmxpbWl0ID0gbGltaXQ7XG4gICAgICAgIC8vIGxpbWl0IG11c3QgYWxzbyBiZSBzZXQgaGVyZSwgaXQncyBpZ25vcmVkIHdoZW4gcGFnaW5hdGlvbiBpcyBmYWxzZVxuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5vcHRpb25zLmxpbWl0ID0gbGltaXQ7XG4gICAgICAgIC8vIERpc2FibGUgcGFnaW5hdGlvbiBpZiBsaW1pdCBpcyAwXG4gICAgICAgIGlmIChsaW1pdCA9PT0gMCkge1xuICAgICAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMucGFnaW5hdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE1vZGVsLnBhZ2luYXRlKHF1ZXJ5LCBwYWdpbmF0aW9uT3B0aW9ucyk7XG4gICAgY29uc3QgZG9jcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0LmRvY3MpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGRvY3M6IGRvY3MubWFwKChkb2MpPT57XG4gICAgICAgICAgICBkb2MuaWQgPSBkb2MuX2lkO1xuICAgICAgICAgICAgcmV0dXJuIHNhbml0aXplSW50ZXJuYWxGaWVsZHMoZG9jKTtcbiAgICAgICAgfSlcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZFZlcnNpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findVersions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/index.js":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/index.js ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mongooseAdapter: () => (/* binding */ mongooseAdapter)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/createDatabaseAdapter.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/defaultBeginTransaction.js\");\n/* harmony import */ var _connect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./connect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/connect.js\");\n/* harmony import */ var _count_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./count.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/count.js\");\n/* harmony import */ var _countGlobalVersions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./countGlobalVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countGlobalVersions.js\");\n/* harmony import */ var _countVersions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./countVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/countVersions.js\");\n/* harmony import */ var _create_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./create.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/create.js\");\n/* harmony import */ var _createGlobal_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./createGlobal.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobal.js\");\n/* harmony import */ var _createGlobalVersion_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./createGlobalVersion.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createGlobalVersion.js\");\n/* harmony import */ var _createMigration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./createMigration.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createMigration.js\");\n/* harmony import */ var _createVersion_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./createVersion.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/createVersion.js\");\n/* harmony import */ var _deleteMany_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./deleteMany.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteMany.js\");\n/* harmony import */ var _deleteOne_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./deleteOne.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteOne.js\");\n/* harmony import */ var _deleteVersions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./deleteVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/deleteVersions.js\");\n/* harmony import */ var _destroy_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./destroy.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/destroy.js\");\n/* harmony import */ var _find_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./find.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/find.js\");\n/* harmony import */ var _findGlobal_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./findGlobal.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobal.js\");\n/* harmony import */ var _findGlobalVersions_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./findGlobalVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findGlobalVersions.js\");\n/* harmony import */ var _findOne_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./findOne.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findOne.js\");\n/* harmony import */ var _findVersions_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./findVersions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/findVersions.js\");\n/* harmony import */ var _init_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./init.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/init.js\");\n/* harmony import */ var _migrateFresh_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./migrateFresh.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/migrateFresh.js\");\n/* harmony import */ var _queryDrafts_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./queryDrafts.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queryDrafts.js\");\n/* harmony import */ var _transactions_beginTransaction_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./transactions/beginTransaction.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/beginTransaction.js\");\n/* harmony import */ var _transactions_commitTransaction_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./transactions/commitTransaction.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/commitTransaction.js\");\n/* harmony import */ var _transactions_rollbackTransaction_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./transactions/rollbackTransaction.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/rollbackTransaction.js\");\n/* harmony import */ var _updateGlobal_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./updateGlobal.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobal.js\");\n/* harmony import */ var _updateGlobalVersion_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./updateGlobalVersion.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobalVersion.js\");\n/* harmony import */ var _updateOne_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./updateOne.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateOne.js\");\n/* harmony import */ var _updateVersion_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./updateVersion.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateVersion.js\");\n/* harmony import */ var _upsert_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./upsert.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/upsert.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction mongooseAdapter({ autoPluralization = true, collectionsSchemaOptions = {}, connectOptions, disableIndexHints = false, ensureIndexes, migrationDir: migrationDirArg, mongoMemoryServer, prodMigrations, transactionOptions = {}, url }) {\n    function adapter({ payload }) {\n        const migrationDir = findMigrationDir(migrationDirArg);\n        mongoose__WEBPACK_IMPORTED_MODULE_1__.set('strictQuery', false);\n        return (0,payload__WEBPACK_IMPORTED_MODULE_32__.createDatabaseAdapter)({\n            name: 'mongoose',\n            // Mongoose-specific\n            autoPluralization,\n            collections: {},\n            connection: undefined,\n            connectOptions: connectOptions || {},\n            disableIndexHints,\n            ensureIndexes,\n            globals: undefined,\n            mongoMemoryServer,\n            sessions: {},\n            transactionOptions: transactionOptions === false ? undefined : transactionOptions,\n            url,\n            versions: {},\n            // DatabaseAdapter\n            beginTransaction: transactionOptions === false ? (0,payload__WEBPACK_IMPORTED_MODULE_33__.defaultBeginTransaction)() : _transactions_beginTransaction_js__WEBPACK_IMPORTED_MODULE_24__.beginTransaction,\n            collectionsSchemaOptions,\n            commitTransaction: _transactions_commitTransaction_js__WEBPACK_IMPORTED_MODULE_25__.commitTransaction,\n            connect: _connect_js__WEBPACK_IMPORTED_MODULE_3__.connect,\n            count: _count_js__WEBPACK_IMPORTED_MODULE_4__.count,\n            countGlobalVersions: _countGlobalVersions_js__WEBPACK_IMPORTED_MODULE_5__.countGlobalVersions,\n            countVersions: _countVersions_js__WEBPACK_IMPORTED_MODULE_6__.countVersions,\n            create: _create_js__WEBPACK_IMPORTED_MODULE_7__.create,\n            createGlobal: _createGlobal_js__WEBPACK_IMPORTED_MODULE_8__.createGlobal,\n            createGlobalVersion: _createGlobalVersion_js__WEBPACK_IMPORTED_MODULE_9__.createGlobalVersion,\n            createMigration: _createMigration_js__WEBPACK_IMPORTED_MODULE_10__.createMigration,\n            createVersion: _createVersion_js__WEBPACK_IMPORTED_MODULE_11__.createVersion,\n            defaultIDType: 'text',\n            deleteMany: _deleteMany_js__WEBPACK_IMPORTED_MODULE_12__.deleteMany,\n            deleteOne: _deleteOne_js__WEBPACK_IMPORTED_MODULE_13__.deleteOne,\n            deleteVersions: _deleteVersions_js__WEBPACK_IMPORTED_MODULE_14__.deleteVersions,\n            destroy: _destroy_js__WEBPACK_IMPORTED_MODULE_15__.destroy,\n            find: _find_js__WEBPACK_IMPORTED_MODULE_16__.find,\n            findGlobal: _findGlobal_js__WEBPACK_IMPORTED_MODULE_17__.findGlobal,\n            findGlobalVersions: _findGlobalVersions_js__WEBPACK_IMPORTED_MODULE_18__.findGlobalVersions,\n            findOne: _findOne_js__WEBPACK_IMPORTED_MODULE_19__.findOne,\n            findVersions: _findVersions_js__WEBPACK_IMPORTED_MODULE_20__.findVersions,\n            init: _init_js__WEBPACK_IMPORTED_MODULE_21__.init,\n            migrateFresh: _migrateFresh_js__WEBPACK_IMPORTED_MODULE_22__.migrateFresh,\n            migrationDir,\n            packageName: '@payloadcms/db-mongodb',\n            payload,\n            prodMigrations,\n            queryDrafts: _queryDrafts_js__WEBPACK_IMPORTED_MODULE_23__.queryDrafts,\n            rollbackTransaction: _transactions_rollbackTransaction_js__WEBPACK_IMPORTED_MODULE_26__.rollbackTransaction,\n            updateGlobal: _updateGlobal_js__WEBPACK_IMPORTED_MODULE_27__.updateGlobal,\n            updateGlobalVersion: _updateGlobalVersion_js__WEBPACK_IMPORTED_MODULE_28__.updateGlobalVersion,\n            updateOne: _updateOne_js__WEBPACK_IMPORTED_MODULE_29__.updateOne,\n            updateVersion: _updateVersion_js__WEBPACK_IMPORTED_MODULE_30__.updateVersion,\n            upsert: _upsert_js__WEBPACK_IMPORTED_MODULE_31__.upsert\n        });\n    }\n    return {\n        defaultIDType: 'text',\n        init: adapter\n    };\n}\n/**\n * Attempt to find migrations directory.\n *\n * Checks for the following directories in order:\n * - `migrationDir` argument from Payload config\n * - `src/migrations`\n * - `dist/migrations`\n * - `migrations`\n *\n * Defaults to `src/migrations`\n *\n * @param migrationDir\n * @returns\n */ function findMigrationDir(migrationDir) {\n    const cwd = process.cwd();\n    const srcDir = path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd, 'src/migrations');\n    const distDir = path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd, 'dist/migrations');\n    const relativeMigrations = path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd, 'migrations');\n    // Use arg if provided\n    if (migrationDir) {\n        return migrationDir;\n    }\n    // Check other common locations\n    if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(srcDir)) {\n        return srcDir;\n    }\n    if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(distDir)) {\n        return distDir;\n    }\n    if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(relativeMigrations)) {\n        return relativeMigrations;\n    }\n    return srcDir;\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9CO0FBQ1k7QUFDUjtBQUNpRDtBQUNsQztBQUNKO0FBQzRCO0FBQ1o7QUFDZDtBQUNZO0FBQ2M7QUFDUjtBQUNKO0FBQ047QUFDRjtBQUNVO0FBQ2Q7QUFDTjtBQUNZO0FBQ2dCO0FBQ3RCO0FBQ1U7QUFDaEI7QUFDZ0I7QUFDRjtBQUN1QjtBQUNFO0FBQ0k7QUFDM0I7QUFDYztBQUNwQjtBQUNRO0FBQ2Q7QUFDOUIsMkJBQTJCLHVEQUF1RCxxSkFBcUosT0FBTztBQUNyUCx1QkFBdUIsU0FBUztBQUNoQztBQUNBLFFBQVEseUNBQVk7QUFDcEIsZUFBZSwrREFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSw2REFBNkQsaUVBQXVCLEtBQUssZ0ZBQWdCO0FBQ3pHO0FBQ0EsNkJBQTZCO0FBQzdCLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakIsK0JBQStCO0FBQy9CLHlCQUF5QjtBQUN6QixrQkFBa0I7QUFDbEIsd0JBQXdCO0FBQ3hCLCtCQUErQjtBQUMvQiwyQkFBMkI7QUFDM0IseUJBQXlCO0FBQ3pCO0FBQ0Esc0JBQXNCO0FBQ3RCLHFCQUFxQjtBQUNyQiwwQkFBMEI7QUFDMUIsbUJBQW1CO0FBQ25CLGdCQUFnQjtBQUNoQixzQkFBc0I7QUFDdEIsOEJBQThCO0FBQzlCLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDeEIsZ0JBQWdCO0FBQ2hCLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiwrQkFBK0I7QUFDL0Isd0JBQXdCO0FBQ3hCLCtCQUErQjtBQUMvQixxQkFBcUI7QUFDckIseUJBQXlCO0FBQ3pCLGtCQUFrQjtBQUNsQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlDQUFZO0FBQy9CLG9CQUFvQix5Q0FBWTtBQUNoQywrQkFBK0IseUNBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMENBQWE7QUFDckI7QUFDQTtBQUNBLFFBQVEsMENBQWE7QUFDckI7QUFDQTtBQUNBLFFBQVEsMENBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgY3JlYXRlRGF0YWJhc2VBZGFwdGVyLCBkZWZhdWx0QmVnaW5UcmFuc2FjdGlvbiB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJy4vY29ubmVjdC5qcyc7XG5pbXBvcnQgeyBjb3VudCB9IGZyb20gJy4vY291bnQuanMnO1xuaW1wb3J0IHsgY291bnRHbG9iYWxWZXJzaW9ucyB9IGZyb20gJy4vY291bnRHbG9iYWxWZXJzaW9ucy5qcyc7XG5pbXBvcnQgeyBjb3VudFZlcnNpb25zIH0gZnJvbSAnLi9jb3VudFZlcnNpb25zLmpzJztcbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJy4vY3JlYXRlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUdsb2JhbCB9IGZyb20gJy4vY3JlYXRlR2xvYmFsLmpzJztcbmltcG9ydCB7IGNyZWF0ZUdsb2JhbFZlcnNpb24gfSBmcm9tICcuL2NyZWF0ZUdsb2JhbFZlcnNpb24uanMnO1xuaW1wb3J0IHsgY3JlYXRlTWlncmF0aW9uIH0gZnJvbSAnLi9jcmVhdGVNaWdyYXRpb24uanMnO1xuaW1wb3J0IHsgY3JlYXRlVmVyc2lvbiB9IGZyb20gJy4vY3JlYXRlVmVyc2lvbi5qcyc7XG5pbXBvcnQgeyBkZWxldGVNYW55IH0gZnJvbSAnLi9kZWxldGVNYW55LmpzJztcbmltcG9ydCB7IGRlbGV0ZU9uZSB9IGZyb20gJy4vZGVsZXRlT25lLmpzJztcbmltcG9ydCB7IGRlbGV0ZVZlcnNpb25zIH0gZnJvbSAnLi9kZWxldGVWZXJzaW9ucy5qcyc7XG5pbXBvcnQgeyBkZXN0cm95IH0gZnJvbSAnLi9kZXN0cm95LmpzJztcbmltcG9ydCB7IGZpbmQgfSBmcm9tICcuL2ZpbmQuanMnO1xuaW1wb3J0IHsgZmluZEdsb2JhbCB9IGZyb20gJy4vZmluZEdsb2JhbC5qcyc7XG5pbXBvcnQgeyBmaW5kR2xvYmFsVmVyc2lvbnMgfSBmcm9tICcuL2ZpbmRHbG9iYWxWZXJzaW9ucy5qcyc7XG5pbXBvcnQgeyBmaW5kT25lIH0gZnJvbSAnLi9maW5kT25lLmpzJztcbmltcG9ydCB7IGZpbmRWZXJzaW9ucyB9IGZyb20gJy4vZmluZFZlcnNpb25zLmpzJztcbmltcG9ydCB7IGluaXQgfSBmcm9tICcuL2luaXQuanMnO1xuaW1wb3J0IHsgbWlncmF0ZUZyZXNoIH0gZnJvbSAnLi9taWdyYXRlRnJlc2guanMnO1xuaW1wb3J0IHsgcXVlcnlEcmFmdHMgfSBmcm9tICcuL3F1ZXJ5RHJhZnRzLmpzJztcbmltcG9ydCB7IGJlZ2luVHJhbnNhY3Rpb24gfSBmcm9tICcuL3RyYW5zYWN0aW9ucy9iZWdpblRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IGNvbW1pdFRyYW5zYWN0aW9uIH0gZnJvbSAnLi90cmFuc2FjdGlvbnMvY29tbWl0VHJhbnNhY3Rpb24uanMnO1xuaW1wb3J0IHsgcm9sbGJhY2tUcmFuc2FjdGlvbiB9IGZyb20gJy4vdHJhbnNhY3Rpb25zL3JvbGxiYWNrVHJhbnNhY3Rpb24uanMnO1xuaW1wb3J0IHsgdXBkYXRlR2xvYmFsIH0gZnJvbSAnLi91cGRhdGVHbG9iYWwuanMnO1xuaW1wb3J0IHsgdXBkYXRlR2xvYmFsVmVyc2lvbiB9IGZyb20gJy4vdXBkYXRlR2xvYmFsVmVyc2lvbi5qcyc7XG5pbXBvcnQgeyB1cGRhdGVPbmUgfSBmcm9tICcuL3VwZGF0ZU9uZS5qcyc7XG5pbXBvcnQgeyB1cGRhdGVWZXJzaW9uIH0gZnJvbSAnLi91cGRhdGVWZXJzaW9uLmpzJztcbmltcG9ydCB7IHVwc2VydCB9IGZyb20gJy4vdXBzZXJ0LmpzJztcbmV4cG9ydCBmdW5jdGlvbiBtb25nb29zZUFkYXB0ZXIoeyBhdXRvUGx1cmFsaXphdGlvbiA9IHRydWUsIGNvbGxlY3Rpb25zU2NoZW1hT3B0aW9ucyA9IHt9LCBjb25uZWN0T3B0aW9ucywgZGlzYWJsZUluZGV4SGludHMgPSBmYWxzZSwgZW5zdXJlSW5kZXhlcywgbWlncmF0aW9uRGlyOiBtaWdyYXRpb25EaXJBcmcsIG1vbmdvTWVtb3J5U2VydmVyLCBwcm9kTWlncmF0aW9ucywgdHJhbnNhY3Rpb25PcHRpb25zID0ge30sIHVybCB9KSB7XG4gICAgZnVuY3Rpb24gYWRhcHRlcih7IHBheWxvYWQgfSkge1xuICAgICAgICBjb25zdCBtaWdyYXRpb25EaXIgPSBmaW5kTWlncmF0aW9uRGlyKG1pZ3JhdGlvbkRpckFyZyk7XG4gICAgICAgIG1vbmdvb3NlLnNldCgnc3RyaWN0UXVlcnknLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVEYXRhYmFzZUFkYXB0ZXIoe1xuICAgICAgICAgICAgbmFtZTogJ21vbmdvb3NlJyxcbiAgICAgICAgICAgIC8vIE1vbmdvb3NlLXNwZWNpZmljXG4gICAgICAgICAgICBhdXRvUGx1cmFsaXphdGlvbixcbiAgICAgICAgICAgIGNvbGxlY3Rpb25zOiB7fSxcbiAgICAgICAgICAgIGNvbm5lY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbm5lY3RPcHRpb25zOiBjb25uZWN0T3B0aW9ucyB8fCB7fSxcbiAgICAgICAgICAgIGRpc2FibGVJbmRleEhpbnRzLFxuICAgICAgICAgICAgZW5zdXJlSW5kZXhlcyxcbiAgICAgICAgICAgIGdsb2JhbHM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1vbmdvTWVtb3J5U2VydmVyLFxuICAgICAgICAgICAgc2Vzc2lvbnM6IHt9LFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25PcHRpb25zOiB0cmFuc2FjdGlvbk9wdGlvbnMgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogdHJhbnNhY3Rpb25PcHRpb25zLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgdmVyc2lvbnM6IHt9LFxuICAgICAgICAgICAgLy8gRGF0YWJhc2VBZGFwdGVyXG4gICAgICAgICAgICBiZWdpblRyYW5zYWN0aW9uOiB0cmFuc2FjdGlvbk9wdGlvbnMgPT09IGZhbHNlID8gZGVmYXVsdEJlZ2luVHJhbnNhY3Rpb24oKSA6IGJlZ2luVHJhbnNhY3Rpb24sXG4gICAgICAgICAgICBjb2xsZWN0aW9uc1NjaGVtYU9wdGlvbnMsXG4gICAgICAgICAgICBjb21taXRUcmFuc2FjdGlvbixcbiAgICAgICAgICAgIGNvbm5lY3QsXG4gICAgICAgICAgICBjb3VudCxcbiAgICAgICAgICAgIGNvdW50R2xvYmFsVmVyc2lvbnMsXG4gICAgICAgICAgICBjb3VudFZlcnNpb25zLFxuICAgICAgICAgICAgY3JlYXRlLFxuICAgICAgICAgICAgY3JlYXRlR2xvYmFsLFxuICAgICAgICAgICAgY3JlYXRlR2xvYmFsVmVyc2lvbixcbiAgICAgICAgICAgIGNyZWF0ZU1pZ3JhdGlvbixcbiAgICAgICAgICAgIGNyZWF0ZVZlcnNpb24sXG4gICAgICAgICAgICBkZWZhdWx0SURUeXBlOiAndGV4dCcsXG4gICAgICAgICAgICBkZWxldGVNYW55LFxuICAgICAgICAgICAgZGVsZXRlT25lLFxuICAgICAgICAgICAgZGVsZXRlVmVyc2lvbnMsXG4gICAgICAgICAgICBkZXN0cm95LFxuICAgICAgICAgICAgZmluZCxcbiAgICAgICAgICAgIGZpbmRHbG9iYWwsXG4gICAgICAgICAgICBmaW5kR2xvYmFsVmVyc2lvbnMsXG4gICAgICAgICAgICBmaW5kT25lLFxuICAgICAgICAgICAgZmluZFZlcnNpb25zLFxuICAgICAgICAgICAgaW5pdCxcbiAgICAgICAgICAgIG1pZ3JhdGVGcmVzaCxcbiAgICAgICAgICAgIG1pZ3JhdGlvbkRpcixcbiAgICAgICAgICAgIHBhY2thZ2VOYW1lOiAnQHBheWxvYWRjbXMvZGItbW9uZ29kYicsXG4gICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgcHJvZE1pZ3JhdGlvbnMsXG4gICAgICAgICAgICBxdWVyeURyYWZ0cyxcbiAgICAgICAgICAgIHJvbGxiYWNrVHJhbnNhY3Rpb24sXG4gICAgICAgICAgICB1cGRhdGVHbG9iYWwsXG4gICAgICAgICAgICB1cGRhdGVHbG9iYWxWZXJzaW9uLFxuICAgICAgICAgICAgdXBkYXRlT25lLFxuICAgICAgICAgICAgdXBkYXRlVmVyc2lvbixcbiAgICAgICAgICAgIHVwc2VydFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVmYXVsdElEVHlwZTogJ3RleHQnLFxuICAgICAgICBpbml0OiBhZGFwdGVyXG4gICAgfTtcbn1cbi8qKlxuICogQXR0ZW1wdCB0byBmaW5kIG1pZ3JhdGlvbnMgZGlyZWN0b3J5LlxuICpcbiAqIENoZWNrcyBmb3IgdGhlIGZvbGxvd2luZyBkaXJlY3RvcmllcyBpbiBvcmRlcjpcbiAqIC0gYG1pZ3JhdGlvbkRpcmAgYXJndW1lbnQgZnJvbSBQYXlsb2FkIGNvbmZpZ1xuICogLSBgc3JjL21pZ3JhdGlvbnNgXG4gKiAtIGBkaXN0L21pZ3JhdGlvbnNgXG4gKiAtIGBtaWdyYXRpb25zYFxuICpcbiAqIERlZmF1bHRzIHRvIGBzcmMvbWlncmF0aW9uc2BcbiAqXG4gKiBAcGFyYW0gbWlncmF0aW9uRGlyXG4gKiBAcmV0dXJuc1xuICovIGZ1bmN0aW9uIGZpbmRNaWdyYXRpb25EaXIobWlncmF0aW9uRGlyKSB7XG4gICAgY29uc3QgY3dkID0gcHJvY2Vzcy5jd2QoKTtcbiAgICBjb25zdCBzcmNEaXIgPSBwYXRoLnJlc29sdmUoY3dkLCAnc3JjL21pZ3JhdGlvbnMnKTtcbiAgICBjb25zdCBkaXN0RGlyID0gcGF0aC5yZXNvbHZlKGN3ZCwgJ2Rpc3QvbWlncmF0aW9ucycpO1xuICAgIGNvbnN0IHJlbGF0aXZlTWlncmF0aW9ucyA9IHBhdGgucmVzb2x2ZShjd2QsICdtaWdyYXRpb25zJyk7XG4gICAgLy8gVXNlIGFyZyBpZiBwcm92aWRlZFxuICAgIGlmIChtaWdyYXRpb25EaXIpIHtcbiAgICAgICAgcmV0dXJuIG1pZ3JhdGlvbkRpcjtcbiAgICB9XG4gICAgLy8gQ2hlY2sgb3RoZXIgY29tbW9uIGxvY2F0aW9uc1xuICAgIGlmIChmcy5leGlzdHNTeW5jKHNyY0RpcikpIHtcbiAgICAgICAgcmV0dXJuIHNyY0RpcjtcbiAgICB9XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoZGlzdERpcikpIHtcbiAgICAgICAgcmV0dXJuIGRpc3REaXI7XG4gICAgfVxuICAgIGlmIChmcy5leGlzdHNTeW5jKHJlbGF0aXZlTWlncmF0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIHJlbGF0aXZlTWlncmF0aW9ucztcbiAgICB9XG4gICAgcmV0dXJuIHNyY0Rpcjtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/index.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/init.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/init.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   init: () => (/* binding */ init)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var mongoose_aggregate_paginate_v2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose-aggregate-paginate-v2 */ \"(rsc)/../node_modules/.pnpm/mongoose-aggregate-paginate-v2@1.1.2/node_modules/mongoose-aggregate-paginate-v2/index.js\");\n/* harmony import */ var mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mongoose-paginate-v2 */ \"(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildGlobalFields.js\");\n/* harmony import */ var _models_buildCollectionSchema_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./models/buildCollectionSchema.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildCollectionSchema.js\");\n/* harmony import */ var _models_buildGlobalModel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/buildGlobalModel.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildGlobalModel.js\");\n/* harmony import */ var _models_buildSchema_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models/buildSchema.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js\");\n/* harmony import */ var _queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./queries/buildQuery.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js\");\n/* harmony import */ var _utilities_getDBName_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utilities/getDBName.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getDBName.js\");\n\n\n\n\n\n\n\n\n\nconst init = function init() {\n    this.payload.config.collections.forEach((collection)=>{\n        const schemaOptions = this.collectionsSchemaOptions[collection.slug];\n        const schema = (0,_models_buildCollectionSchema_js__WEBPACK_IMPORTED_MODULE_3__.buildCollectionSchema)(collection, this.payload, schemaOptions);\n        if (collection.versions) {\n            const versionModelName = (0,_utilities_getDBName_js__WEBPACK_IMPORTED_MODULE_7__.getDBName)({\n                config: collection,\n                versions: true\n            });\n            const versionCollectionFields = (0,payload__WEBPACK_IMPORTED_MODULE_8__.buildVersionCollectionFields)(this.payload.config, collection);\n            const versionSchema = (0,_models_buildSchema_js__WEBPACK_IMPORTED_MODULE_5__.buildSchema)(this.payload, versionCollectionFields, {\n                disableUnique: true,\n                draftsEnabled: true,\n                indexSortableFields: this.payload.config.indexSortableFields,\n                options: {\n                    minimize: false,\n                    timestamps: false\n                },\n                ...schemaOptions\n            });\n            versionSchema.plugin(mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_2__, {\n                useEstimatedCount: true\n            }).plugin((0,_queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_6__.getBuildQueryPlugin)({\n                collectionSlug: collection.slug,\n                versionsFields: (0,payload__WEBPACK_IMPORTED_MODULE_8__.buildVersionCollectionFields)(this.payload.config, collection, true)\n            }));\n            if (Object.keys(collection.joins).length > 0) {\n                versionSchema.plugin(mongoose_aggregate_paginate_v2__WEBPACK_IMPORTED_MODULE_1__);\n            }\n            const versionCollectionName = this.autoPluralization === true && !collection.dbName ? undefined : versionModelName;\n            this.versions[collection.slug] = mongoose__WEBPACK_IMPORTED_MODULE_0__.model(versionModelName, versionSchema, versionCollectionName);\n        }\n        const modelName = (0,_utilities_getDBName_js__WEBPACK_IMPORTED_MODULE_7__.getDBName)({\n            config: collection\n        });\n        const collectionName = this.autoPluralization === true && !collection.dbName ? undefined : modelName;\n        this.collections[collection.slug] = mongoose__WEBPACK_IMPORTED_MODULE_0__.model(modelName, schema, collectionName);\n    });\n    this.globals = (0,_models_buildGlobalModel_js__WEBPACK_IMPORTED_MODULE_4__.buildGlobalModel)(this.payload);\n    this.payload.config.globals.forEach((global)=>{\n        if (global.versions) {\n            const versionModelName = (0,_utilities_getDBName_js__WEBPACK_IMPORTED_MODULE_7__.getDBName)({\n                config: global,\n                versions: true\n            });\n            const versionGlobalFields = (0,payload__WEBPACK_IMPORTED_MODULE_9__.buildVersionGlobalFields)(this.payload.config, global);\n            const versionSchema = (0,_models_buildSchema_js__WEBPACK_IMPORTED_MODULE_5__.buildSchema)(this.payload, versionGlobalFields, {\n                disableUnique: true,\n                draftsEnabled: true,\n                indexSortableFields: this.payload.config.indexSortableFields,\n                options: {\n                    minimize: false,\n                    timestamps: false\n                }\n            });\n            versionSchema.plugin(mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_2__, {\n                useEstimatedCount: true\n            }).plugin((0,_queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_6__.getBuildQueryPlugin)({\n                versionsFields: (0,payload__WEBPACK_IMPORTED_MODULE_9__.buildVersionGlobalFields)(this.payload.config, global, true)\n            }));\n            this.versions[global.slug] = mongoose__WEBPACK_IMPORTED_MODULE_0__.model(versionModelName, versionSchema, versionModelName);\n        }\n    });\n};\n\n//# sourceMappingURL=init.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2luaXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDdUM7QUFDM0I7QUFDcUM7QUFDUDtBQUNWO0FBQ1Y7QUFDUTtBQUNUO0FBQzlDO0FBQ1A7QUFDQTtBQUNBLHVCQUF1Qix1RkFBcUI7QUFDNUM7QUFDQSxxQ0FBcUMsa0VBQVM7QUFDOUM7QUFDQTtBQUNBLGFBQWE7QUFDYiw0Q0FBNEMscUVBQTRCO0FBQ3hFLGtDQUFrQyxtRUFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2IsaUNBQWlDLGlEQUFRO0FBQ3pDO0FBQ0EsYUFBYSxTQUFTLDJFQUFtQjtBQUN6QztBQUNBLGdDQUFnQyxxRUFBNEI7QUFDNUQsYUFBYTtBQUNiO0FBQ0EscUNBQXFDLDJEQUF5QjtBQUM5RDtBQUNBO0FBQ0EsNkNBQTZDLDJDQUFjO0FBQzNEO0FBQ0EsMEJBQTBCLGtFQUFTO0FBQ25DO0FBQ0EsU0FBUztBQUNUO0FBQ0EsNENBQTRDLDJDQUFjO0FBQzFELEtBQUs7QUFDTCxtQkFBbUIsNkVBQWdCO0FBQ25DO0FBQ0E7QUFDQSxxQ0FBcUMsa0VBQVM7QUFDOUM7QUFDQTtBQUNBLGFBQWE7QUFDYix3Q0FBd0MsaUVBQXdCO0FBQ2hFLGtDQUFrQyxtRUFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixpQ0FBaUMsaURBQVE7QUFDekM7QUFDQSxhQUFhLFNBQVMsMkVBQW1CO0FBQ3pDLGdDQUFnQyxpRUFBd0I7QUFDeEQsYUFBYTtBQUNiLHlDQUF5QywyQ0FBYztBQUN2RDtBQUNBLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L2luaXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb25nb29zZUFnZ3JlZ2F0ZVBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLWFnZ3JlZ2F0ZS1wYWdpbmF0ZS12Mic7XG5pbXBvcnQgcGFnaW5hdGUgZnJvbSAnbW9uZ29vc2UtcGFnaW5hdGUtdjInO1xuaW1wb3J0IHsgYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcywgYnVpbGRWZXJzaW9uR2xvYmFsRmllbGRzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBidWlsZENvbGxlY3Rpb25TY2hlbWEgfSBmcm9tICcuL21vZGVscy9idWlsZENvbGxlY3Rpb25TY2hlbWEuanMnO1xuaW1wb3J0IHsgYnVpbGRHbG9iYWxNb2RlbCB9IGZyb20gJy4vbW9kZWxzL2J1aWxkR2xvYmFsTW9kZWwuanMnO1xuaW1wb3J0IHsgYnVpbGRTY2hlbWEgfSBmcm9tICcuL21vZGVscy9idWlsZFNjaGVtYS5qcyc7XG5pbXBvcnQgeyBnZXRCdWlsZFF1ZXJ5UGx1Z2luIH0gZnJvbSAnLi9xdWVyaWVzL2J1aWxkUXVlcnkuanMnO1xuaW1wb3J0IHsgZ2V0REJOYW1lIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0REJOYW1lLmpzJztcbmV4cG9ydCBjb25zdCBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB0aGlzLnBheWxvYWQuY29uZmlnLmNvbGxlY3Rpb25zLmZvckVhY2goKGNvbGxlY3Rpb24pPT57XG4gICAgICAgIGNvbnN0IHNjaGVtYU9wdGlvbnMgPSB0aGlzLmNvbGxlY3Rpb25zU2NoZW1hT3B0aW9uc1tjb2xsZWN0aW9uLnNsdWddO1xuICAgICAgICBjb25zdCBzY2hlbWEgPSBidWlsZENvbGxlY3Rpb25TY2hlbWEoY29sbGVjdGlvbiwgdGhpcy5wYXlsb2FkLCBzY2hlbWFPcHRpb25zKTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24udmVyc2lvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25Nb2RlbE5hbWUgPSBnZXREQk5hbWUoe1xuICAgICAgICAgICAgICAgIGNvbmZpZzogY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICB2ZXJzaW9uczogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyA9IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHModGhpcy5wYXlsb2FkLmNvbmZpZywgY29sbGVjdGlvbik7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uU2NoZW1hID0gYnVpbGRTY2hlbWEodGhpcy5wYXlsb2FkLCB2ZXJzaW9uQ29sbGVjdGlvbkZpZWxkcywge1xuICAgICAgICAgICAgICAgIGRpc2FibGVVbmlxdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgZHJhZnRzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbmRleFNvcnRhYmxlRmllbGRzOiB0aGlzLnBheWxvYWQuY29uZmlnLmluZGV4U29ydGFibGVGaWVsZHMsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBtaW5pbWl6ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHM6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi5zY2hlbWFPcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZlcnNpb25TY2hlbWEucGx1Z2luKHBhZ2luYXRlLCB7XG4gICAgICAgICAgICAgICAgdXNlRXN0aW1hdGVkQ291bnQ6IHRydWVcbiAgICAgICAgICAgIH0pLnBsdWdpbihnZXRCdWlsZFF1ZXJ5UGx1Z2luKHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZzogY29sbGVjdGlvbi5zbHVnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25zRmllbGRzOiBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIGNvbGxlY3Rpb24sIHRydWUpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoY29sbGVjdGlvbi5qb2lucykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZlcnNpb25TY2hlbWEucGx1Z2luKG1vbmdvb3NlQWdncmVnYXRlUGFnaW5hdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmVyc2lvbkNvbGxlY3Rpb25OYW1lID0gdGhpcy5hdXRvUGx1cmFsaXphdGlvbiA9PT0gdHJ1ZSAmJiAhY29sbGVjdGlvbi5kYk5hbWUgPyB1bmRlZmluZWQgOiB2ZXJzaW9uTW9kZWxOYW1lO1xuICAgICAgICAgICAgdGhpcy52ZXJzaW9uc1tjb2xsZWN0aW9uLnNsdWddID0gbW9uZ29vc2UubW9kZWwodmVyc2lvbk1vZGVsTmFtZSwgdmVyc2lvblNjaGVtYSwgdmVyc2lvbkNvbGxlY3Rpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2RlbE5hbWUgPSBnZXREQk5hbWUoe1xuICAgICAgICAgICAgY29uZmlnOiBjb2xsZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9IHRoaXMuYXV0b1BsdXJhbGl6YXRpb24gPT09IHRydWUgJiYgIWNvbGxlY3Rpb24uZGJOYW1lID8gdW5kZWZpbmVkIDogbW9kZWxOYW1lO1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb24uc2x1Z10gPSBtb25nb29zZS5tb2RlbChtb2RlbE5hbWUsIHNjaGVtYSwgY29sbGVjdGlvbk5hbWUpO1xuICAgIH0pO1xuICAgIHRoaXMuZ2xvYmFscyA9IGJ1aWxkR2xvYmFsTW9kZWwodGhpcy5wYXlsb2FkKTtcbiAgICB0aGlzLnBheWxvYWQuY29uZmlnLmdsb2JhbHMuZm9yRWFjaCgoZ2xvYmFsKT0+e1xuICAgICAgICBpZiAoZ2xvYmFsLnZlcnNpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uTW9kZWxOYW1lID0gZ2V0REJOYW1lKHtcbiAgICAgICAgICAgICAgICBjb25maWc6IGdsb2JhbCxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uczogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uR2xvYmFsRmllbGRzID0gYnVpbGRWZXJzaW9uR2xvYmFsRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIGdsb2JhbCk7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uU2NoZW1hID0gYnVpbGRTY2hlbWEodGhpcy5wYXlsb2FkLCB2ZXJzaW9uR2xvYmFsRmllbGRzLCB7XG4gICAgICAgICAgICAgICAgZGlzYWJsZVVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkcmFmdHNFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluZGV4U29ydGFibGVGaWVsZHM6IHRoaXMucGF5bG9hZC5jb25maWcuaW5kZXhTb3J0YWJsZUZpZWxkcyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIG1pbmltaXplOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wczogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZlcnNpb25TY2hlbWEucGx1Z2luKHBhZ2luYXRlLCB7XG4gICAgICAgICAgICAgICAgdXNlRXN0aW1hdGVkQ291bnQ6IHRydWVcbiAgICAgICAgICAgIH0pLnBsdWdpbihnZXRCdWlsZFF1ZXJ5UGx1Z2luKHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uc0ZpZWxkczogYnVpbGRWZXJzaW9uR2xvYmFsRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIGdsb2JhbCwgdHJ1ZSlcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbnNbZ2xvYmFsLnNsdWddID0gbW9uZ29vc2UubW9kZWwodmVyc2lvbk1vZGVsTmFtZSwgdmVyc2lvblNjaGVtYSwgdmVyc2lvbk1vZGVsTmFtZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/init.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/migrateFresh.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/migrateFresh.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   migrateFresh: () => (/* binding */ migrateFresh)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/migrations/readMigrationFiles.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/initTransaction.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/commitTransaction.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/killTransaction.js\");\n/* harmony import */ var prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prompts */ \"(rsc)/../node_modules/.pnpm/prompts@2.4.2/node_modules/prompts/index.js\");\n\n\n/**\n * Drop the current database and run all migrate up functions\n */ async function migrateFresh({ forceAcceptWarning = false }) {\n    const { payload } = this;\n    if (!forceAcceptWarning) {\n        const { confirm: acceptWarning } = await prompts__WEBPACK_IMPORTED_MODULE_0__({\n            name: 'confirm',\n            type: 'confirm',\n            initial: false,\n            message: `WARNING: This will drop your database and run all migrations. Are you sure you want to proceed?`\n        }, {\n            onCancel: ()=>{\n                process.exit(0);\n            }\n        });\n        if (!acceptWarning) {\n            process.exit(0);\n        }\n    }\n    payload.logger.info({\n        msg: `Dropping database.`\n    });\n    await this.connection.dropDatabase();\n    const migrationFiles = await (0,payload__WEBPACK_IMPORTED_MODULE_1__.readMigrationFiles)({\n        payload\n    });\n    payload.logger.debug({\n        msg: `Found ${migrationFiles.length} migration files.`\n    });\n    const req = {\n        payload\n    };\n    // Run all migrate up\n    for (const migration of migrationFiles){\n        payload.logger.info({\n            msg: `Migrating: ${migration.name}`\n        });\n        try {\n            const start = Date.now();\n            await (0,payload__WEBPACK_IMPORTED_MODULE_2__.initTransaction)(req);\n            await migration.up({\n                payload,\n                req\n            });\n            await payload.create({\n                collection: 'payload-migrations',\n                data: {\n                    name: migration.name,\n                    batch: 1\n                },\n                req\n            });\n            await (0,payload__WEBPACK_IMPORTED_MODULE_3__.commitTransaction)(req);\n            payload.logger.info({\n                msg: `Migrated:  ${migration.name} (${Date.now() - start}ms)`\n            });\n        } catch (err) {\n            await (0,payload__WEBPACK_IMPORTED_MODULE_4__.killTransaction)(req);\n            payload.logger.error({\n                err,\n                msg: `Error running migration ${migration.name}. Rolling back.`\n            });\n            throw err;\n        }\n    }\n}\n\n//# sourceMappingURL=migrateFresh.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21pZ3JhdGVGcmVzaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0c7QUFDcEU7QUFDOUI7QUFDQTtBQUNBLElBQVcsOEJBQThCLDRCQUE0QjtBQUNyRSxZQUFZLFVBQVU7QUFDdEI7QUFDQSxnQkFBZ0IseUJBQXlCLFFBQVEsb0NBQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGlDQUFpQywyREFBa0I7QUFDbkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsdUJBQXVCO0FBQzdDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZUFBZTtBQUM5QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQix3REFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYixrQkFBa0IsMERBQWlCO0FBQ25DO0FBQ0EsbUNBQW1DLGdCQUFnQixHQUFHLG1CQUFtQjtBQUN6RSxhQUFhO0FBQ2IsVUFBVTtBQUNWLGtCQUFrQix3REFBZTtBQUNqQztBQUNBO0FBQ0EsZ0RBQWdELGVBQWU7QUFDL0QsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvbWlncmF0ZUZyZXNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbW1pdFRyYW5zYWN0aW9uLCBpbml0VHJhbnNhY3Rpb24sIGtpbGxUcmFuc2FjdGlvbiwgcmVhZE1pZ3JhdGlvbkZpbGVzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgcHJvbXB0cyBmcm9tICdwcm9tcHRzJztcbi8qKlxuICogRHJvcCB0aGUgY3VycmVudCBkYXRhYmFzZSBhbmQgcnVuIGFsbCBtaWdyYXRlIHVwIGZ1bmN0aW9uc1xuICovIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBtaWdyYXRlRnJlc2goeyBmb3JjZUFjY2VwdFdhcm5pbmcgPSBmYWxzZSB9KSB7XG4gICAgY29uc3QgeyBwYXlsb2FkIH0gPSB0aGlzO1xuICAgIGlmICghZm9yY2VBY2NlcHRXYXJuaW5nKSB7XG4gICAgICAgIGNvbnN0IHsgY29uZmlybTogYWNjZXB0V2FybmluZyB9ID0gYXdhaXQgcHJvbXB0cyh7XG4gICAgICAgICAgICBuYW1lOiAnY29uZmlybScsXG4gICAgICAgICAgICB0eXBlOiAnY29uZmlybScsXG4gICAgICAgICAgICBpbml0aWFsOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBXQVJOSU5HOiBUaGlzIHdpbGwgZHJvcCB5b3VyIGRhdGFiYXNlIGFuZCBydW4gYWxsIG1pZ3JhdGlvbnMuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwcm9jZWVkP2BcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb25DYW5jZWw6ICgpPT57XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFhY2NlcHRXYXJuaW5nKSB7XG4gICAgICAgICAgICBwcm9jZXNzLmV4aXQoMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgIG1zZzogYERyb3BwaW5nIGRhdGFiYXNlLmBcbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3Rpb24uZHJvcERhdGFiYXNlKCk7XG4gICAgY29uc3QgbWlncmF0aW9uRmlsZXMgPSBhd2FpdCByZWFkTWlncmF0aW9uRmlsZXMoe1xuICAgICAgICBwYXlsb2FkXG4gICAgfSk7XG4gICAgcGF5bG9hZC5sb2dnZXIuZGVidWcoe1xuICAgICAgICBtc2c6IGBGb3VuZCAke21pZ3JhdGlvbkZpbGVzLmxlbmd0aH0gbWlncmF0aW9uIGZpbGVzLmBcbiAgICB9KTtcbiAgICBjb25zdCByZXEgPSB7XG4gICAgICAgIHBheWxvYWRcbiAgICB9O1xuICAgIC8vIFJ1biBhbGwgbWlncmF0ZSB1cFxuICAgIGZvciAoY29uc3QgbWlncmF0aW9uIG9mIG1pZ3JhdGlvbkZpbGVzKXtcbiAgICAgICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgICAgICBtc2c6IGBNaWdyYXRpbmc6ICR7bWlncmF0aW9uLm5hbWV9YFxuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGF3YWl0IGluaXRUcmFuc2FjdGlvbihyZXEpO1xuICAgICAgICAgICAgYXdhaXQgbWlncmF0aW9uLnVwKHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBwYXlsb2FkLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbjogJ3BheWxvYWQtbWlncmF0aW9ucycsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtaWdyYXRpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2g6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBjb21taXRUcmFuc2FjdGlvbihyZXEpO1xuICAgICAgICAgICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgICAgICAgICAgbXNnOiBgTWlncmF0ZWQ6ICAke21pZ3JhdGlvbi5uYW1lfSAoJHtEYXRlLm5vdygpIC0gc3RhcnR9bXMpYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgYXdhaXQga2lsbFRyYW5zYWN0aW9uKHJlcSk7XG4gICAgICAgICAgICBwYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgICAgIG1zZzogYEVycm9yIHJ1bm5pbmcgbWlncmF0aW9uICR7bWlncmF0aW9uLm5hbWV9LiBSb2xsaW5nIGJhY2suYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pZ3JhdGVGcmVzaC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/migrateFresh.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildCollectionSchema.js":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildCollectionSchema.js ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildCollectionSchema: () => (/* binding */ buildCollectionSchema)\n/* harmony export */ });\n/* harmony import */ var mongoose_aggregate_paginate_v2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose-aggregate-paginate-v2 */ \"(rsc)/../node_modules/.pnpm/mongoose-aggregate-paginate-v2@1.1.2/node_modules/mongoose-aggregate-paginate-v2/index.js\");\n/* harmony import */ var mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose-paginate-v2 */ \"(rsc)/../node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js\");\n/* harmony import */ var _queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../queries/buildQuery.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js\");\n/* harmony import */ var _buildSchema_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buildSchema.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js\");\n\n\n\n\nconst buildCollectionSchema = (collection, payload, schemaOptions = {})=>{\n    const schema = (0,_buildSchema_js__WEBPACK_IMPORTED_MODULE_3__.buildSchema)(payload, collection.fields, {\n        draftsEnabled: Boolean(typeof collection?.versions === 'object' && collection.versions.drafts),\n        indexSortableFields: payload.config.indexSortableFields,\n        options: {\n            minimize: false,\n            timestamps: collection.timestamps !== false,\n            ...schemaOptions\n        }\n    });\n    if (Array.isArray(collection.upload.filenameCompoundIndex)) {\n        const indexDefinition = collection.upload.filenameCompoundIndex.reduce((acc, index)=>{\n            acc[index] = 1;\n            return acc;\n        }, {});\n        schema.index(indexDefinition, {\n            unique: true\n        });\n    }\n    if (payload.config.indexSortableFields && collection.timestamps !== false) {\n        schema.index({\n            updatedAt: 1\n        });\n        schema.index({\n            createdAt: 1\n        });\n    }\n    schema.plugin(mongoose_paginate_v2__WEBPACK_IMPORTED_MODULE_1__, {\n        useEstimatedCount: true\n    }).plugin((0,_queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_2__.getBuildQueryPlugin)({\n        collectionSlug: collection.slug\n    }));\n    if (Object.keys(collection.joins).length > 0) {\n        schema.plugin(mongoose_aggregate_paginate_v2__WEBPACK_IMPORTED_MODULE_0__);\n    }\n    return schema;\n};\n\n//# sourceMappingURL=buildCollectionSchema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21vZGVscy9idWlsZENvbGxlY3Rpb25TY2hlbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUU7QUFDM0I7QUFDbUI7QUFDaEI7QUFDeEMsc0VBQXNFO0FBQzdFLG1CQUFtQiw0REFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtCQUFrQixpREFBUTtBQUMxQjtBQUNBLEtBQUssU0FBUywyRUFBbUI7QUFDakM7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsMkRBQXlCO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21vZGVscy9idWlsZENvbGxlY3Rpb25TY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlQWdncmVnYXRlUGFnaW5hdGUgZnJvbSAnbW9uZ29vc2UtYWdncmVnYXRlLXBhZ2luYXRlLXYyJztcbmltcG9ydCBwYWdpbmF0ZSBmcm9tICdtb25nb29zZS1wYWdpbmF0ZS12Mic7XG5pbXBvcnQgeyBnZXRCdWlsZFF1ZXJ5UGx1Z2luIH0gZnJvbSAnLi4vcXVlcmllcy9idWlsZFF1ZXJ5LmpzJztcbmltcG9ydCB7IGJ1aWxkU2NoZW1hIH0gZnJvbSAnLi9idWlsZFNjaGVtYS5qcyc7XG5leHBvcnQgY29uc3QgYnVpbGRDb2xsZWN0aW9uU2NoZW1hID0gKGNvbGxlY3Rpb24sIHBheWxvYWQsIHNjaGVtYU9wdGlvbnMgPSB7fSk9PntcbiAgICBjb25zdCBzY2hlbWEgPSBidWlsZFNjaGVtYShwYXlsb2FkLCBjb2xsZWN0aW9uLmZpZWxkcywge1xuICAgICAgICBkcmFmdHNFbmFibGVkOiBCb29sZWFuKHR5cGVvZiBjb2xsZWN0aW9uPy52ZXJzaW9ucyA9PT0gJ29iamVjdCcgJiYgY29sbGVjdGlvbi52ZXJzaW9ucy5kcmFmdHMpLFxuICAgICAgICBpbmRleFNvcnRhYmxlRmllbGRzOiBwYXlsb2FkLmNvbmZpZy5pbmRleFNvcnRhYmxlRmllbGRzLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBtaW5pbWl6ZTogZmFsc2UsXG4gICAgICAgICAgICB0aW1lc3RhbXBzOiBjb2xsZWN0aW9uLnRpbWVzdGFtcHMgIT09IGZhbHNlLFxuICAgICAgICAgICAgLi4uc2NoZW1hT3B0aW9uc1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29sbGVjdGlvbi51cGxvYWQuZmlsZW5hbWVDb21wb3VuZEluZGV4KSkge1xuICAgICAgICBjb25zdCBpbmRleERlZmluaXRpb24gPSBjb2xsZWN0aW9uLnVwbG9hZC5maWxlbmFtZUNvbXBvdW5kSW5kZXgucmVkdWNlKChhY2MsIGluZGV4KT0+e1xuICAgICAgICAgICAgYWNjW2luZGV4XSA9IDE7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHNjaGVtYS5pbmRleChpbmRleERlZmluaXRpb24sIHtcbiAgICAgICAgICAgIHVuaXF1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHBheWxvYWQuY29uZmlnLmluZGV4U29ydGFibGVGaWVsZHMgJiYgY29sbGVjdGlvbi50aW1lc3RhbXBzICE9PSBmYWxzZSkge1xuICAgICAgICBzY2hlbWEuaW5kZXgoe1xuICAgICAgICAgICAgdXBkYXRlZEF0OiAxXG4gICAgICAgIH0pO1xuICAgICAgICBzY2hlbWEuaW5kZXgoe1xuICAgICAgICAgICAgY3JlYXRlZEF0OiAxXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY2hlbWEucGx1Z2luKHBhZ2luYXRlLCB7XG4gICAgICAgIHVzZUVzdGltYXRlZENvdW50OiB0cnVlXG4gICAgfSkucGx1Z2luKGdldEJ1aWxkUXVlcnlQbHVnaW4oe1xuICAgICAgICBjb2xsZWN0aW9uU2x1ZzogY29sbGVjdGlvbi5zbHVnXG4gICAgfSkpO1xuICAgIGlmIChPYmplY3Qua2V5cyhjb2xsZWN0aW9uLmpvaW5zKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNjaGVtYS5wbHVnaW4obW9uZ29vc2VBZ2dyZWdhdGVQYWdpbmF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZENvbGxlY3Rpb25TY2hlbWEuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildCollectionSchema.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildGlobalModel.js":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildGlobalModel.js ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildGlobalModel: () => (/* binding */ buildGlobalModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var _queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../queries/buildQuery.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js\");\n/* harmony import */ var _buildSchema_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./buildSchema.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js\");\n\n\n\nconst buildGlobalModel = (payload)=>{\n    if (payload.config.globals && payload.config.globals.length > 0) {\n        const globalsSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({}, {\n            discriminatorKey: 'globalType',\n            minimize: false,\n            timestamps: true\n        });\n        globalsSchema.plugin((0,_queries_buildQuery_js__WEBPACK_IMPORTED_MODULE_1__.getBuildQueryPlugin)());\n        const Globals = mongoose__WEBPACK_IMPORTED_MODULE_0__.model('globals', globalsSchema, 'globals');\n        Object.values(payload.config.globals).forEach((globalConfig)=>{\n            const globalSchema = (0,_buildSchema_js__WEBPACK_IMPORTED_MODULE_2__.buildSchema)(payload, globalConfig.fields, {\n                options: {\n                    minimize: false\n                }\n            });\n            Globals.discriminator(globalConfig.slug, globalSchema);\n        });\n        return Globals;\n    }\n    return null;\n};\n\n//# sourceMappingURL=buildGlobalModel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21vZGVscy9idWlsZEdsb2JhbE1vZGVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0M7QUFDK0I7QUFDaEI7QUFDeEM7QUFDUDtBQUNBLGtDQUFrQyw0Q0FBZSxHQUFHO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCw2QkFBNkIsMkVBQW1CO0FBQ2hELHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBLGlDQUFpQyw0REFBVztBQUM1QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9tb2RlbHMvYnVpbGRHbG9iYWxNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IHsgZ2V0QnVpbGRRdWVyeVBsdWdpbiB9IGZyb20gJy4uL3F1ZXJpZXMvYnVpbGRRdWVyeS5qcyc7XG5pbXBvcnQgeyBidWlsZFNjaGVtYSB9IGZyb20gJy4vYnVpbGRTY2hlbWEuanMnO1xuZXhwb3J0IGNvbnN0IGJ1aWxkR2xvYmFsTW9kZWwgPSAocGF5bG9hZCk9PntcbiAgICBpZiAocGF5bG9hZC5jb25maWcuZ2xvYmFscyAmJiBwYXlsb2FkLmNvbmZpZy5nbG9iYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZ2xvYmFsc1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe30sIHtcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3JLZXk6ICdnbG9iYWxUeXBlJyxcbiAgICAgICAgICAgIG1pbmltaXplOiBmYWxzZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGdsb2JhbHNTY2hlbWEucGx1Z2luKGdldEJ1aWxkUXVlcnlQbHVnaW4oKSk7XG4gICAgICAgIGNvbnN0IEdsb2JhbHMgPSBtb25nb29zZS5tb2RlbCgnZ2xvYmFscycsIGdsb2JhbHNTY2hlbWEsICdnbG9iYWxzJyk7XG4gICAgICAgIE9iamVjdC52YWx1ZXMocGF5bG9hZC5jb25maWcuZ2xvYmFscykuZm9yRWFjaCgoZ2xvYmFsQ29uZmlnKT0+e1xuICAgICAgICAgICAgY29uc3QgZ2xvYmFsU2NoZW1hID0gYnVpbGRTY2hlbWEocGF5bG9hZCwgZ2xvYmFsQ29uZmlnLmZpZWxkcywge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWluaW1pemU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBHbG9iYWxzLmRpc2NyaW1pbmF0b3IoZ2xvYmFsQ29uZmlnLnNsdWcsIGdsb2JhbFNjaGVtYSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gR2xvYmFscztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZEdsb2JhbE1vZGVsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildGlobalModel.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildSchema: () => (/* binding */ buildSchema)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/fields/config/types.js\");\n\n\n/**\n * get a field's defaultValue only if defined and not dynamic so that it can be set on the field schema\n * @param field\n */ const formatDefaultValue = (field)=>typeof field.defaultValue !== 'undefined' && typeof field.defaultValue !== 'function' ? field.defaultValue : undefined;\nconst formatBaseSchema = (field, buildSchemaOptions)=>{\n    const { disableUnique, draftsEnabled, indexSortableFields } = buildSchemaOptions;\n    const schema = {\n        default: formatDefaultValue(field),\n        index: field.index || !disableUnique && field.unique || indexSortableFields || false,\n        required: false,\n        unique: !disableUnique && field.unique || false\n    };\n    if (schema.unique && (field.localized || draftsEnabled || (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && field.type !== 'group' && field.type !== 'tab' && field.required !== true)) {\n        schema.sparse = true;\n    }\n    if (field.hidden) {\n        schema.hidden = true;\n    }\n    return schema;\n};\nconst localizeSchema = (entity, schema, localization)=>{\n    if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsLocalized)(entity) && localization && Array.isArray(localization.locales)) {\n        return {\n            type: localization.localeCodes.reduce((localeSchema, locale)=>({\n                    ...localeSchema,\n                    [locale]: schema\n                }), {\n                _id: false\n            }),\n            localized: true\n        };\n    }\n    return schema;\n};\nconst buildSchema = (payload, configFields, buildSchemaOptions = {})=>{\n    const { allowIDField, options } = buildSchemaOptions;\n    let fields = {};\n    let schemaFields = configFields;\n    if (!allowIDField) {\n        const idField = schemaFields.find((field)=>(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && field.name === 'id');\n        if (idField) {\n            fields = {\n                _id: idField.type === 'number' ? Number : String\n            };\n            schemaFields = schemaFields.filter((field)=>!((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && field.name === 'id'));\n        }\n    }\n    const schema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema(fields, options);\n    schemaFields.forEach((field)=>{\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(field)) {\n            return;\n        }\n        if (!(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsPresentationalOnly)(field)) {\n            const addFieldSchema = fieldToSchemaMap[field.type];\n            if (addFieldSchema) {\n                addFieldSchema(field, schema, payload, buildSchemaOptions);\n            }\n        }\n    });\n    return schema;\n};\nconst fieldToSchemaMap = {\n    array: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: [\n                buildSchema(payload, field.fields, {\n                    allowIDField: true,\n                    disableUnique: buildSchemaOptions.disableUnique,\n                    draftsEnabled: buildSchemaOptions.draftsEnabled,\n                    options: {\n                        _id: false,\n                        id: false,\n                        minimize: false\n                    }\n                })\n            ]\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    blocks: (field, schema, payload, buildSchemaOptions)=>{\n        const fieldSchema = {\n            type: [\n                new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({}, {\n                    _id: false,\n                    discriminatorKey: 'blockType'\n                })\n            ]\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, fieldSchema, payload.config.localization)\n        });\n        field.blocks.forEach((blockItem)=>{\n            const blockSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({}, {\n                _id: false,\n                id: false\n            });\n            blockItem.fields.forEach((blockField)=>{\n                const addFieldSchema = fieldToSchemaMap[blockField.type];\n                if (addFieldSchema) {\n                    addFieldSchema(blockField, blockSchema, payload, buildSchemaOptions);\n                }\n            });\n            if (field.localized && payload.config.localization) {\n                payload.config.localization.localeCodes.forEach((localeCode)=>{\n                    // @ts-expect-error Possible incorrect typing in mongoose types, this works\n                    schema.path(`${field.name}.${localeCode}`).discriminator(blockItem.slug, blockSchema);\n                });\n            } else {\n                // @ts-expect-error Possible incorrect typing in mongoose types, this works\n                schema.path(field.name).discriminator(blockItem.slug, blockSchema);\n            }\n        });\n    },\n    checkbox: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: Boolean\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    code: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    collapsible: (field, schema, payload, buildSchemaOptions)=>{\n        field.fields.forEach((subField)=>{\n            if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(subField)) {\n                return;\n            }\n            const addFieldSchema = fieldToSchemaMap[subField.type];\n            if (addFieldSchema) {\n                addFieldSchema(subField, schema, payload, buildSchemaOptions);\n            }\n        });\n    },\n    date: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: Date\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    email: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    group: (field, schema, payload, buildSchemaOptions)=>{\n        const formattedBaseSchema = formatBaseSchema(field, buildSchemaOptions);\n        // carry indexSortableFields through to versions if drafts enabled\n        const indexSortableFields = buildSchemaOptions.indexSortableFields && field.name === 'version' && buildSchemaOptions.draftsEnabled;\n        const baseSchema = {\n            ...formattedBaseSchema,\n            type: buildSchema(payload, field.fields, {\n                disableUnique: buildSchemaOptions.disableUnique,\n                draftsEnabled: buildSchemaOptions.draftsEnabled,\n                indexSortableFields,\n                options: {\n                    _id: false,\n                    id: false,\n                    minimize: false\n                }\n            })\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    json: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    number: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: field.hasMany ? [\n                Number\n            ] : Number\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    point: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            type: {\n                type: String,\n                enum: [\n                    'Point'\n                ],\n                ...typeof field.defaultValue !== 'undefined' && {\n                    default: 'Point'\n                }\n            },\n            coordinates: {\n                type: [\n                    Number\n                ],\n                default: formatDefaultValue(field),\n                required: false\n            }\n        };\n        if (buildSchemaOptions.disableUnique && field.unique && field.localized) {\n            baseSchema.coordinates.sparse = true;\n        }\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n        if (field.index === true || field.index === undefined) {\n            const indexOptions = {};\n            if (!buildSchemaOptions.disableUnique && field.unique) {\n                indexOptions.sparse = true;\n                indexOptions.unique = true;\n            }\n            if (field.localized && payload.config.localization) {\n                payload.config.localization.locales.forEach((locale)=>{\n                    schema.index({\n                        [`${field.name}.${locale.code}`]: '2dsphere'\n                    }, indexOptions);\n                });\n            } else {\n                schema.index({\n                    [field.name]: '2dsphere'\n                }, indexOptions);\n            }\n        }\n    },\n    radio: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String,\n            enum: field.options.map((option)=>{\n                if (typeof option === 'object') {\n                    return option.value;\n                }\n                return option;\n            })\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    relationship: (field, schema, payload, buildSchemaOptions)=>{\n        const hasManyRelations = Array.isArray(field.relationTo);\n        let schemaToReturn = {};\n        const valueType = getRelationshipValueType(field, payload);\n        if (field.localized && payload.config.localization) {\n            schemaToReturn = {\n                type: payload.config.localization.localeCodes.reduce((locales, locale)=>{\n                    let localeSchema = {};\n                    if (hasManyRelations) {\n                        localeSchema = {\n                            ...formatBaseSchema(field, buildSchemaOptions),\n                            _id: false,\n                            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                            relationTo: {\n                                type: String,\n                                enum: field.relationTo\n                            },\n                            value: {\n                                type: valueType,\n                                refPath: `${field.name}.${locale}.relationTo`\n                            }\n                        };\n                    } else {\n                        localeSchema = {\n                            ...formatBaseSchema(field, buildSchemaOptions),\n                            type: valueType,\n                            ref: field.relationTo\n                        };\n                    }\n                    return {\n                        ...locales,\n                        [locale]: field.hasMany ? {\n                            type: [\n                                localeSchema\n                            ],\n                            default: formatDefaultValue(field)\n                        } : localeSchema\n                    };\n                }, {}),\n                localized: true\n            };\n        } else if (hasManyRelations) {\n            schemaToReturn = {\n                ...formatBaseSchema(field, buildSchemaOptions),\n                _id: false,\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                relationTo: {\n                    type: String,\n                    enum: field.relationTo\n                },\n                value: {\n                    type: valueType,\n                    refPath: `${field.name}.relationTo`\n                }\n            };\n            if (field.hasMany) {\n                schemaToReturn = {\n                    type: [\n                        schemaToReturn\n                    ],\n                    default: formatDefaultValue(field)\n                };\n            }\n        } else {\n            schemaToReturn = {\n                ...formatBaseSchema(field, buildSchemaOptions),\n                type: valueType,\n                ref: field.relationTo\n            };\n            if (field.hasMany) {\n                schemaToReturn = {\n                    type: [\n                        schemaToReturn\n                    ],\n                    default: formatDefaultValue(field)\n                };\n            }\n        }\n        schema.add({\n            [field.name]: schemaToReturn\n        });\n    },\n    richText: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    row: (field, schema, payload, buildSchemaOptions)=>{\n        field.fields.forEach((subField)=>{\n            if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(subField)) {\n                return;\n            }\n            const addFieldSchema = fieldToSchemaMap[subField.type];\n            if (addFieldSchema) {\n                addFieldSchema(subField, schema, payload, buildSchemaOptions);\n            }\n        });\n    },\n    select: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String,\n            enum: field.options.map((option)=>{\n                if (typeof option === 'object') {\n                    return option.value;\n                }\n                return option;\n            })\n        };\n        if (buildSchemaOptions.draftsEnabled || !field.required) {\n            baseSchema.enum.push(null);\n        }\n        schema.add({\n            [field.name]: localizeSchema(field, field.hasMany ? [\n                baseSchema\n            ] : baseSchema, payload.config.localization)\n        });\n    },\n    tabs: (field, schema, payload, buildSchemaOptions)=>{\n        field.tabs.forEach((tab)=>{\n            if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(tab)) {\n                if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(tab)) {\n                    return;\n                }\n                const baseSchema = {\n                    type: buildSchema(payload, tab.fields, {\n                        disableUnique: buildSchemaOptions.disableUnique,\n                        draftsEnabled: buildSchemaOptions.draftsEnabled,\n                        options: {\n                            _id: false,\n                            id: false,\n                            minimize: false\n                        }\n                    })\n                };\n                schema.add({\n                    [tab.name]: localizeSchema(tab, baseSchema, payload.config.localization)\n                });\n            } else {\n                tab.fields.forEach((subField)=>{\n                    if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsVirtual)(subField)) {\n                        return;\n                    }\n                    const addFieldSchema = fieldToSchemaMap[subField.type];\n                    if (addFieldSchema) {\n                        addFieldSchema(subField, schema, payload, buildSchemaOptions);\n                    }\n                });\n            }\n        });\n    },\n    text: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: field.hasMany ? [\n                String\n            ] : String\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    textarea: (field, schema, payload, buildSchemaOptions)=>{\n        const baseSchema = {\n            ...formatBaseSchema(field, buildSchemaOptions),\n            type: String\n        };\n        schema.add({\n            [field.name]: localizeSchema(field, baseSchema, payload.config.localization)\n        });\n    },\n    upload: (field, schema, payload, buildSchemaOptions)=>{\n        const hasManyRelations = Array.isArray(field.relationTo);\n        let schemaToReturn = {};\n        const valueType = getRelationshipValueType(field, payload);\n        if (field.localized && payload.config.localization) {\n            schemaToReturn = {\n                type: payload.config.localization.localeCodes.reduce((locales, locale)=>{\n                    let localeSchema = {};\n                    if (hasManyRelations) {\n                        localeSchema = {\n                            ...formatBaseSchema(field, buildSchemaOptions),\n                            _id: false,\n                            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                            relationTo: {\n                                type: String,\n                                enum: field.relationTo\n                            },\n                            value: {\n                                type: valueType,\n                                refPath: `${field.name}.${locale}.relationTo`\n                            }\n                        };\n                    } else {\n                        localeSchema = {\n                            ...formatBaseSchema(field, buildSchemaOptions),\n                            type: valueType,\n                            ref: field.relationTo\n                        };\n                    }\n                    return {\n                        ...locales,\n                        [locale]: field.hasMany ? {\n                            type: [\n                                localeSchema\n                            ],\n                            default: formatDefaultValue(field)\n                        } : localeSchema\n                    };\n                }, {}),\n                localized: true\n            };\n        } else if (hasManyRelations) {\n            schemaToReturn = {\n                ...formatBaseSchema(field, buildSchemaOptions),\n                _id: false,\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n                relationTo: {\n                    type: String,\n                    enum: field.relationTo\n                },\n                value: {\n                    type: valueType,\n                    refPath: `${field.name}.relationTo`\n                }\n            };\n            if (field.hasMany) {\n                schemaToReturn = {\n                    type: [\n                        schemaToReturn\n                    ],\n                    default: formatDefaultValue(field)\n                };\n            }\n        } else {\n            schemaToReturn = {\n                ...formatBaseSchema(field, buildSchemaOptions),\n                type: valueType,\n                ref: field.relationTo\n            };\n            if (field.hasMany) {\n                schemaToReturn = {\n                    type: [\n                        schemaToReturn\n                    ],\n                    default: formatDefaultValue(field)\n                };\n            }\n        }\n        schema.add({\n            [field.name]: schemaToReturn\n        });\n    }\n};\nconst getRelationshipValueType = (field, payload)=>{\n    if (typeof field.relationTo === 'string') {\n        const { customIDType } = payload.collections[field.relationTo];\n        if (!customIDType) {\n            return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId;\n        }\n        if (customIDType === 'number') {\n            return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Number;\n        }\n        return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.String;\n    }\n    // has custom id relationTo\n    if (field.relationTo.some((relationTo)=>{\n        return !!payload.collections[relationTo].customIDType;\n    })) {\n        return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed;\n    }\n    return mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId;\n};\n\n//# sourceMappingURL=buildSchema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L21vZGVscy9idWlsZFNjaGVtYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFDMkY7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQW9EO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxnRUFBZ0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0VBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtRUFBbUU7QUFDMUUsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdFQUFnQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxnRUFBZ0I7QUFDMUU7QUFDQTtBQUNBLHVCQUF1Qiw0Q0FBZTtBQUN0QztBQUNBLFlBQVksOERBQWM7QUFDMUI7QUFDQTtBQUNBLGFBQWEseUVBQXlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0Q0FBZSxHQUFHO0FBQ3RDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQ0FBb0MsNENBQWUsR0FBRztBQUN0RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFdBQVcsR0FBRyxXQUFXO0FBQzVELGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0Q0FBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFdBQVcsR0FBRyxZQUFZO0FBQ3RELHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsY0FBYztBQUNkO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNENBQWU7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSw0Q0FBNEMsV0FBVyxHQUFHLE9BQU87QUFDakU7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLGlCQUFpQixJQUFJO0FBQ3JCO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0NBQWdDLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0Q0FBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQiwwREFBVTtBQUMxQixvQkFBb0IsOERBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsY0FBYztBQUNkO0FBQ0Esd0JBQXdCLDhEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDRDQUFlO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsNENBQTRDLFdBQVcsR0FBRyxPQUFPO0FBQ2pFO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxpQkFBaUIsSUFBSTtBQUNyQjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdDQUFnQyxXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQSxtQkFBbUIsNENBQWU7QUFDbEM7QUFDQTtBQUNBLG1CQUFtQiw0Q0FBZTtBQUNsQztBQUNBLGVBQWUsNENBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsZUFBZSw0Q0FBZTtBQUM5QjtBQUNBLFdBQVcsNENBQWU7QUFDMUI7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9tb2RlbHMvYnVpbGRTY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB7IGZpZWxkQWZmZWN0c0RhdGEsIGZpZWxkSXNMb2NhbGl6ZWQsIGZpZWxkSXNQcmVzZW50YXRpb25hbE9ubHksIGZpZWxkSXNWaXJ0dWFsLCB0YWJIYXNOYW1lIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuLyoqXG4gKiBnZXQgYSBmaWVsZCdzIGRlZmF1bHRWYWx1ZSBvbmx5IGlmIGRlZmluZWQgYW5kIG5vdCBkeW5hbWljIHNvIHRoYXQgaXQgY2FuIGJlIHNldCBvbiB0aGUgZmllbGQgc2NoZW1hXG4gKiBAcGFyYW0gZmllbGRcbiAqLyBjb25zdCBmb3JtYXREZWZhdWx0VmFsdWUgPSAoZmllbGQpPT50eXBlb2YgZmllbGQuZGVmYXVsdFZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZmllbGQuZGVmYXVsdFZhbHVlICE9PSAnZnVuY3Rpb24nID8gZmllbGQuZGVmYXVsdFZhbHVlIDogdW5kZWZpbmVkO1xuY29uc3QgZm9ybWF0QmFzZVNjaGVtYSA9IChmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgIGNvbnN0IHsgZGlzYWJsZVVuaXF1ZSwgZHJhZnRzRW5hYmxlZCwgaW5kZXhTb3J0YWJsZUZpZWxkcyB9ID0gYnVpbGRTY2hlbWFPcHRpb25zO1xuICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgZGVmYXVsdDogZm9ybWF0RGVmYXVsdFZhbHVlKGZpZWxkKSxcbiAgICAgICAgaW5kZXg6IGZpZWxkLmluZGV4IHx8ICFkaXNhYmxlVW5pcXVlICYmIGZpZWxkLnVuaXF1ZSB8fCBpbmRleFNvcnRhYmxlRmllbGRzIHx8IGZhbHNlLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHVuaXF1ZTogIWRpc2FibGVVbmlxdWUgJiYgZmllbGQudW5pcXVlIHx8IGZhbHNlXG4gICAgfTtcbiAgICBpZiAoc2NoZW1hLnVuaXF1ZSAmJiAoZmllbGQubG9jYWxpemVkIHx8IGRyYWZ0c0VuYWJsZWQgfHwgZmllbGRBZmZlY3RzRGF0YShmaWVsZCkgJiYgZmllbGQudHlwZSAhPT0gJ2dyb3VwJyAmJiBmaWVsZC50eXBlICE9PSAndGFiJyAmJiBmaWVsZC5yZXF1aXJlZCAhPT0gdHJ1ZSkpIHtcbiAgICAgICAgc2NoZW1hLnNwYXJzZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChmaWVsZC5oaWRkZW4pIHtcbiAgICAgICAgc2NoZW1hLmhpZGRlbiA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG59O1xuY29uc3QgbG9jYWxpemVTY2hlbWEgPSAoZW50aXR5LCBzY2hlbWEsIGxvY2FsaXphdGlvbik9PntcbiAgICBpZiAoZmllbGRJc0xvY2FsaXplZChlbnRpdHkpICYmIGxvY2FsaXphdGlvbiAmJiBBcnJheS5pc0FycmF5KGxvY2FsaXphdGlvbi5sb2NhbGVzKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogbG9jYWxpemF0aW9uLmxvY2FsZUNvZGVzLnJlZHVjZSgobG9jYWxlU2NoZW1hLCBsb2NhbGUpPT4oe1xuICAgICAgICAgICAgICAgICAgICAuLi5sb2NhbGVTY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIFtsb2NhbGVdOiBzY2hlbWFcbiAgICAgICAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgICAgIF9pZDogZmFsc2VcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbG9jYWxpemVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG59O1xuZXhwb3J0IGNvbnN0IGJ1aWxkU2NoZW1hID0gKHBheWxvYWQsIGNvbmZpZ0ZpZWxkcywgYnVpbGRTY2hlbWFPcHRpb25zID0ge30pPT57XG4gICAgY29uc3QgeyBhbGxvd0lERmllbGQsIG9wdGlvbnMgfSA9IGJ1aWxkU2NoZW1hT3B0aW9ucztcbiAgICBsZXQgZmllbGRzID0ge307XG4gICAgbGV0IHNjaGVtYUZpZWxkcyA9IGNvbmZpZ0ZpZWxkcztcbiAgICBpZiAoIWFsbG93SURGaWVsZCkge1xuICAgICAgICBjb25zdCBpZEZpZWxkID0gc2NoZW1hRmllbGRzLmZpbmQoKGZpZWxkKT0+ZmllbGRBZmZlY3RzRGF0YShmaWVsZCkgJiYgZmllbGQubmFtZSA9PT0gJ2lkJyk7XG4gICAgICAgIGlmIChpZEZpZWxkKSB7XG4gICAgICAgICAgICBmaWVsZHMgPSB7XG4gICAgICAgICAgICAgICAgX2lkOiBpZEZpZWxkLnR5cGUgPT09ICdudW1iZXInID8gTnVtYmVyIDogU3RyaW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2NoZW1hRmllbGRzID0gc2NoZW1hRmllbGRzLmZpbHRlcigoZmllbGQpPT4hKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpICYmIGZpZWxkLm5hbWUgPT09ICdpZCcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKGZpZWxkcywgb3B0aW9ucyk7XG4gICAgc2NoZW1hRmllbGRzLmZvckVhY2goKGZpZWxkKT0+e1xuICAgICAgICBpZiAoZmllbGRJc1ZpcnR1YWwoZmllbGQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmaWVsZElzUHJlc2VudGF0aW9uYWxPbmx5KGZpZWxkKSkge1xuICAgICAgICAgICAgY29uc3QgYWRkRmllbGRTY2hlbWEgPSBmaWVsZFRvU2NoZW1hTWFwW2ZpZWxkLnR5cGVdO1xuICAgICAgICAgICAgaWYgKGFkZEZpZWxkU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgYWRkRmllbGRTY2hlbWEoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzY2hlbWE7XG59O1xuY29uc3QgZmllbGRUb1NjaGVtYU1hcCA9IHtcbiAgICBhcnJheTogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgYnVpbGRTY2hlbWEocGF5bG9hZCwgZmllbGQuZmllbGRzLCB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93SURGaWVsZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVVuaXF1ZTogYnVpbGRTY2hlbWFPcHRpb25zLmRpc2FibGVVbmlxdWUsXG4gICAgICAgICAgICAgICAgICAgIGRyYWZ0c0VuYWJsZWQ6IGJ1aWxkU2NoZW1hT3B0aW9ucy5kcmFmdHNFbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW1pemU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBibG9ja3M6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0ge1xuICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgIG5ldyBtb25nb29zZS5TY2hlbWEoe30sIHtcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzY3JpbWluYXRvcktleTogJ2Jsb2NrVHlwZSdcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGZpZWxkU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgICAgICBmaWVsZC5ibG9ja3MuZm9yRWFjaCgoYmxvY2tJdGVtKT0+e1xuICAgICAgICAgICAgY29uc3QgYmxvY2tTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHt9LCB7XG4gICAgICAgICAgICAgICAgX2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmxvY2tJdGVtLmZpZWxkcy5mb3JFYWNoKChibG9ja0ZpZWxkKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZEZpZWxkU2NoZW1hID0gZmllbGRUb1NjaGVtYU1hcFtibG9ja0ZpZWxkLnR5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChhZGRGaWVsZFNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRGaWVsZFNjaGVtYShibG9ja0ZpZWxkLCBibG9ja1NjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmaWVsZC5sb2NhbGl6ZWQgJiYgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uLmxvY2FsZUNvZGVzLmZvckVhY2goKGxvY2FsZUNvZGUpPT57XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgUG9zc2libGUgaW5jb3JyZWN0IHR5cGluZyBpbiBtb25nb29zZSB0eXBlcywgdGhpcyB3b3Jrc1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEucGF0aChgJHtmaWVsZC5uYW1lfS4ke2xvY2FsZUNvZGV9YCkuZGlzY3JpbWluYXRvcihibG9ja0l0ZW0uc2x1ZywgYmxvY2tTY2hlbWEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFBvc3NpYmxlIGluY29ycmVjdCB0eXBpbmcgaW4gbW9uZ29vc2UgdHlwZXMsIHRoaXMgd29ya3NcbiAgICAgICAgICAgICAgICBzY2hlbWEucGF0aChmaWVsZC5uYW1lKS5kaXNjcmltaW5hdG9yKGJsb2NrSXRlbS5zbHVnLCBibG9ja1NjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hlY2tib3g6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGJhc2VTY2hlbWEgPSB7XG4gICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgdHlwZTogQm9vbGVhblxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjb2RlOiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjb2xsYXBzaWJsZTogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgZmllbGQuZmllbGRzLmZvckVhY2goKHN1YkZpZWxkKT0+e1xuICAgICAgICAgICAgaWYgKGZpZWxkSXNWaXJ0dWFsKHN1YkZpZWxkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFkZEZpZWxkU2NoZW1hID0gZmllbGRUb1NjaGVtYU1hcFtzdWJGaWVsZC50eXBlXTtcbiAgICAgICAgICAgIGlmIChhZGRGaWVsZFNjaGVtYSkge1xuICAgICAgICAgICAgICAgIGFkZEZpZWxkU2NoZW1hKHN1YkZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZGF0ZTogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBEYXRlXG4gICAgICAgIH07XG4gICAgICAgIHNjaGVtYS5hZGQoe1xuICAgICAgICAgICAgW2ZpZWxkLm5hbWVdOiBsb2NhbGl6ZVNjaGVtYShmaWVsZCwgYmFzZVNjaGVtYSwgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGVtYWlsOiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBncm91cDogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkQmFzZVNjaGVtYSA9IGZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk7XG4gICAgICAgIC8vIGNhcnJ5IGluZGV4U29ydGFibGVGaWVsZHMgdGhyb3VnaCB0byB2ZXJzaW9ucyBpZiBkcmFmdHMgZW5hYmxlZFxuICAgICAgICBjb25zdCBpbmRleFNvcnRhYmxlRmllbGRzID0gYnVpbGRTY2hlbWFPcHRpb25zLmluZGV4U29ydGFibGVGaWVsZHMgJiYgZmllbGQubmFtZSA9PT0gJ3ZlcnNpb24nICYmIGJ1aWxkU2NoZW1hT3B0aW9ucy5kcmFmdHNFbmFibGVkO1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0dGVkQmFzZVNjaGVtYSxcbiAgICAgICAgICAgIHR5cGU6IGJ1aWxkU2NoZW1hKHBheWxvYWQsIGZpZWxkLmZpZWxkcywge1xuICAgICAgICAgICAgICAgIGRpc2FibGVVbmlxdWU6IGJ1aWxkU2NoZW1hT3B0aW9ucy5kaXNhYmxlVW5pcXVlLFxuICAgICAgICAgICAgICAgIGRyYWZ0c0VuYWJsZWQ6IGJ1aWxkU2NoZW1hT3B0aW9ucy5kcmFmdHNFbmFibGVkLFxuICAgICAgICAgICAgICAgIGluZGV4U29ydGFibGVGaWVsZHMsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBfaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltaXplOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIHNjaGVtYS5hZGQoe1xuICAgICAgICAgICAgW2ZpZWxkLm5hbWVdOiBsb2NhbGl6ZVNjaGVtYShmaWVsZCwgYmFzZVNjaGVtYSwgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGpzb246IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGJhc2VTY2hlbWEgPSB7XG4gICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk1peGVkXG4gICAgICAgIH07XG4gICAgICAgIHNjaGVtYS5hZGQoe1xuICAgICAgICAgICAgW2ZpZWxkLm5hbWVdOiBsb2NhbGl6ZVNjaGVtYShmaWVsZCwgYmFzZVNjaGVtYSwgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIG51bWJlcjogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBmaWVsZC5oYXNNYW55ID8gW1xuICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgXSA6IE51bWJlclxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBwb2ludDogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgZW51bTogW1xuICAgICAgICAgICAgICAgICAgICAnUG9pbnQnXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAuLi50eXBlb2YgZmllbGQuZGVmYXVsdFZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICdQb2ludCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgICAgIE51bWJlclxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZm9ybWF0RGVmYXVsdFZhbHVlKGZpZWxkKSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGJ1aWxkU2NoZW1hT3B0aW9ucy5kaXNhYmxlVW5pcXVlICYmIGZpZWxkLnVuaXF1ZSAmJiBmaWVsZC5sb2NhbGl6ZWQpIHtcbiAgICAgICAgICAgIGJhc2VTY2hlbWEuY29vcmRpbmF0ZXMuc3BhcnNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChmaWVsZC5pbmRleCA9PT0gdHJ1ZSB8fCBmaWVsZC5pbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleE9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIGlmICghYnVpbGRTY2hlbWFPcHRpb25zLmRpc2FibGVVbmlxdWUgJiYgZmllbGQudW5pcXVlKSB7XG4gICAgICAgICAgICAgICAgaW5kZXhPcHRpb25zLnNwYXJzZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaW5kZXhPcHRpb25zLnVuaXF1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmllbGQubG9jYWxpemVkICYmIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbikge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbi5sb2NhbGVzLmZvckVhY2goKGxvY2FsZSk9PntcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLmluZGV4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtgJHtmaWVsZC5uYW1lfS4ke2xvY2FsZS5jb2RlfWBdOiAnMmRzcGhlcmUnXG4gICAgICAgICAgICAgICAgICAgIH0sIGluZGV4T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjaGVtYS5pbmRleCh7XG4gICAgICAgICAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogJzJkc3BoZXJlJ1xuICAgICAgICAgICAgICAgIH0sIGluZGV4T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJhZGlvOiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGVudW06IGZpZWxkLm9wdGlvbnMubWFwKChvcHRpb24pPT57XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24udmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICByZWxhdGlvbnNoaXA6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGhhc01hbnlSZWxhdGlvbnMgPSBBcnJheS5pc0FycmF5KGZpZWxkLnJlbGF0aW9uVG8pO1xuICAgICAgICBsZXQgc2NoZW1hVG9SZXR1cm4gPSB7fTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gZ2V0UmVsYXRpb25zaGlwVmFsdWVUeXBlKGZpZWxkLCBwYXlsb2FkKTtcbiAgICAgICAgaWYgKGZpZWxkLmxvY2FsaXplZCAmJiBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbi5sb2NhbGVDb2Rlcy5yZWR1Y2UoKGxvY2FsZXMsIGxvY2FsZSk9PntcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvY2FsZVNjaGVtYSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzTWFueVJlbGF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU2NoZW1hID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuTWl4ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25Ubzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW06IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUGF0aDogYCR7ZmllbGQubmFtZX0uJHtsb2NhbGV9LnJlbGF0aW9uVG9gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVNjaGVtYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxvY2FsZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBbbG9jYWxlXTogZmllbGQuaGFzTWFueSA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVNjaGVtYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZm9ybWF0RGVmYXVsdFZhbHVlKGZpZWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGxvY2FsZVNjaGVtYVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgICAgICBsb2NhbGl6ZWQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzTWFueVJlbGF0aW9ucykge1xuICAgICAgICAgICAgc2NoZW1hVG9SZXR1cm4gPSB7XG4gICAgICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgICAgICBfaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZCxcbiAgICAgICAgICAgICAgICByZWxhdGlvblRvOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgZW51bTogZmllbGQucmVsYXRpb25Ub1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAgICAgICAgICAgICByZWZQYXRoOiBgJHtmaWVsZC5uYW1lfS5yZWxhdGlvblRvYFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZmllbGQuaGFzTWFueSkge1xuICAgICAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFUb1JldHVyblxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBmb3JtYXREZWZhdWx0VmFsdWUoZmllbGQpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgdHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAgICAgICAgIHJlZjogZmllbGQucmVsYXRpb25Ub1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmaWVsZC5oYXNNYW55KSB7XG4gICAgICAgICAgICAgICAgc2NoZW1hVG9SZXR1cm4gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZvcm1hdERlZmF1bHRWYWx1ZShmaWVsZClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hZGQoe1xuICAgICAgICAgICAgW2ZpZWxkLm5hbWVdOiBzY2hlbWFUb1JldHVyblxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJpY2hUZXh0OiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZFxuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICByb3c6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGZpZWxkLmZpZWxkcy5mb3JFYWNoKChzdWJGaWVsZCk9PntcbiAgICAgICAgICAgIGlmIChmaWVsZElzVmlydHVhbChzdWJGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhZGRGaWVsZFNjaGVtYSA9IGZpZWxkVG9TY2hlbWFNYXBbc3ViRmllbGQudHlwZV07XG4gICAgICAgICAgICBpZiAoYWRkRmllbGRTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBhZGRGaWVsZFNjaGVtYShzdWJGaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNlbGVjdDogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgY29uc3QgYmFzZVNjaGVtYSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBlbnVtOiBmaWVsZC5vcHRpb25zLm1hcCgob3B0aW9uKT0+e1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGJ1aWxkU2NoZW1hT3B0aW9ucy5kcmFmdHNFbmFibGVkIHx8ICFmaWVsZC5yZXF1aXJlZCkge1xuICAgICAgICAgICAgYmFzZVNjaGVtYS5lbnVtLnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICBbZmllbGQubmFtZV06IGxvY2FsaXplU2NoZW1hKGZpZWxkLCBmaWVsZC5oYXNNYW55ID8gW1xuICAgICAgICAgICAgICAgIGJhc2VTY2hlbWFcbiAgICAgICAgICAgIF0gOiBiYXNlU2NoZW1hLCBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdGFiczogKGZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk9PntcbiAgICAgICAgZmllbGQudGFicy5mb3JFYWNoKCh0YWIpPT57XG4gICAgICAgICAgICBpZiAodGFiSGFzTmFtZSh0YWIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkSXNWaXJ0dWFsKHRhYikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBidWlsZFNjaGVtYShwYXlsb2FkLCB0YWIuZmllbGRzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVW5pcXVlOiBidWlsZFNjaGVtYU9wdGlvbnMuZGlzYWJsZVVuaXF1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWZ0c0VuYWJsZWQ6IGJ1aWxkU2NoZW1hT3B0aW9ucy5kcmFmdHNFbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltaXplOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc2NoZW1hLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgIFt0YWIubmFtZV06IGxvY2FsaXplU2NoZW1hKHRhYiwgYmFzZVNjaGVtYSwgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YWIuZmllbGRzLmZvckVhY2goKHN1YkZpZWxkKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGRJc1ZpcnR1YWwoc3ViRmllbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkRmllbGRTY2hlbWEgPSBmaWVsZFRvU2NoZW1hTWFwW3N1YkZpZWxkLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkRmllbGRTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZpZWxkU2NoZW1hKHN1YkZpZWxkLCBzY2hlbWEsIHBheWxvYWQsIGJ1aWxkU2NoZW1hT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB0ZXh0OiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgIHR5cGU6IGZpZWxkLmhhc01hbnkgPyBbXG4gICAgICAgICAgICAgICAgU3RyaW5nXG4gICAgICAgICAgICBdIDogU3RyaW5nXG4gICAgICAgIH07XG4gICAgICAgIHNjaGVtYS5hZGQoe1xuICAgICAgICAgICAgW2ZpZWxkLm5hbWVdOiBsb2NhbGl6ZVNjaGVtYShmaWVsZCwgYmFzZVNjaGVtYSwgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHRleHRhcmVhOiAoZmllbGQsIHNjaGVtYSwgcGF5bG9hZCwgYnVpbGRTY2hlbWFPcHRpb25zKT0+e1xuICAgICAgICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgICB9O1xuICAgICAgICBzY2hlbWEuYWRkKHtcbiAgICAgICAgICAgIFtmaWVsZC5uYW1lXTogbG9jYWxpemVTY2hlbWEoZmllbGQsIGJhc2VTY2hlbWEsIHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbilcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB1cGxvYWQ6IChmaWVsZCwgc2NoZW1hLCBwYXlsb2FkLCBidWlsZFNjaGVtYU9wdGlvbnMpPT57XG4gICAgICAgIGNvbnN0IGhhc01hbnlSZWxhdGlvbnMgPSBBcnJheS5pc0FycmF5KGZpZWxkLnJlbGF0aW9uVG8pO1xuICAgICAgICBsZXQgc2NoZW1hVG9SZXR1cm4gPSB7fTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gZ2V0UmVsYXRpb25zaGlwVmFsdWVUeXBlKGZpZWxkLCBwYXlsb2FkKTtcbiAgICAgICAgaWYgKGZpZWxkLmxvY2FsaXplZCAmJiBwYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbi5sb2NhbGVDb2Rlcy5yZWR1Y2UoKGxvY2FsZXMsIGxvY2FsZSk9PntcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvY2FsZVNjaGVtYSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzTWFueVJlbGF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU2NoZW1hID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuTWl4ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25Ubzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW06IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmUGF0aDogYCR7ZmllbGQubmFtZX0uJHtsb2NhbGV9LnJlbGF0aW9uVG9gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVNjaGVtYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRCYXNlU2NoZW1hKGZpZWxkLCBidWlsZFNjaGVtYU9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxvY2FsZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBbbG9jYWxlXTogZmllbGQuaGFzTWFueSA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVNjaGVtYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZm9ybWF0RGVmYXVsdFZhbHVlKGZpZWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGxvY2FsZVNjaGVtYVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgICAgICBsb2NhbGl6ZWQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzTWFueVJlbGF0aW9ucykge1xuICAgICAgICAgICAgc2NoZW1hVG9SZXR1cm4gPSB7XG4gICAgICAgICAgICAgICAgLi4uZm9ybWF0QmFzZVNjaGVtYShmaWVsZCwgYnVpbGRTY2hlbWFPcHRpb25zKSxcbiAgICAgICAgICAgICAgICBfaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZCxcbiAgICAgICAgICAgICAgICByZWxhdGlvblRvOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgZW51bTogZmllbGQucmVsYXRpb25Ub1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAgICAgICAgICAgICByZWZQYXRoOiBgJHtmaWVsZC5uYW1lfS5yZWxhdGlvblRvYFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZmllbGQuaGFzTWFueSkge1xuICAgICAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFUb1JldHVyblxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBmb3JtYXREZWZhdWx0VmFsdWUoZmllbGQpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuID0ge1xuICAgICAgICAgICAgICAgIC4uLmZvcm1hdEJhc2VTY2hlbWEoZmllbGQsIGJ1aWxkU2NoZW1hT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgdHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAgICAgICAgIHJlZjogZmllbGQucmVsYXRpb25Ub1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmaWVsZC5oYXNNYW55KSB7XG4gICAgICAgICAgICAgICAgc2NoZW1hVG9SZXR1cm4gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYVRvUmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZvcm1hdERlZmF1bHRWYWx1ZShmaWVsZClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hZGQoe1xuICAgICAgICAgICAgW2ZpZWxkLm5hbWVdOiBzY2hlbWFUb1JldHVyblxuICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgZ2V0UmVsYXRpb25zaGlwVmFsdWVUeXBlID0gKGZpZWxkLCBwYXlsb2FkKT0+e1xuICAgIGlmICh0eXBlb2YgZmllbGQucmVsYXRpb25UbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgeyBjdXN0b21JRFR5cGUgfSA9IHBheWxvYWQuY29sbGVjdGlvbnNbZmllbGQucmVsYXRpb25Ub107XG4gICAgICAgIGlmICghY3VzdG9tSURUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXN0b21JRFR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9uZ29vc2UuU2NoZW1hLlR5cGVzLlN0cmluZztcbiAgICB9XG4gICAgLy8gaGFzIGN1c3RvbSBpZCByZWxhdGlvblRvXG4gICAgaWYgKGZpZWxkLnJlbGF0aW9uVG8uc29tZSgocmVsYXRpb25Ubyk9PntcbiAgICAgICAgcmV0dXJuICEhcGF5bG9hZC5jb2xsZWN0aW9uc1tyZWxhdGlvblRvXS5jdXN0b21JRFR5cGU7XG4gICAgfSkpIHtcbiAgICAgICAgcmV0dXJuIG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZDtcbiAgICB9XG4gICAgcmV0dXJuIG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkU2NoZW1hLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/models/buildSchema.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildAndOrConditions.js":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildAndOrConditions.js ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildAndOrConditions: () => (/* binding */ buildAndOrConditions)\n/* harmony export */ });\n/* harmony import */ var _parseParams_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parseParams.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js\");\n\nasync function buildAndOrConditions({ collectionSlug, fields, globalSlug, locale, payload, where }) {\n    const completedConditions = [];\n    // Loop over all AND / OR operations and add them to the AND / OR query param\n    // Operations should come through as an array\n    for (const condition of where){\n        // If the operation is properly formatted as an object\n        if (typeof condition === 'object') {\n            const result = await (0,_parseParams_js__WEBPACK_IMPORTED_MODULE_0__.parseParams)({\n                collectionSlug,\n                fields,\n                globalSlug,\n                locale,\n                payload,\n                where: condition\n            });\n            if (Object.keys(result).length > 0) {\n                completedConditions.push(result);\n            }\n        }\n    }\n    return completedConditions;\n}\n\n//# sourceMappingURL=buildAndOrConditions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRBbmRPckNvbmRpdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDeEMsc0NBQXNDLDREQUE0RDtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNERBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvcXVlcmllcy9idWlsZEFuZE9yQ29uZGl0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVBhcmFtcyB9IGZyb20gJy4vcGFyc2VQYXJhbXMuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJ1aWxkQW5kT3JDb25kaXRpb25zKHsgY29sbGVjdGlvblNsdWcsIGZpZWxkcywgZ2xvYmFsU2x1ZywgbG9jYWxlLCBwYXlsb2FkLCB3aGVyZSB9KSB7XG4gICAgY29uc3QgY29tcGxldGVkQ29uZGl0aW9ucyA9IFtdO1xuICAgIC8vIExvb3Agb3ZlciBhbGwgQU5EIC8gT1Igb3BlcmF0aW9ucyBhbmQgYWRkIHRoZW0gdG8gdGhlIEFORCAvIE9SIHF1ZXJ5IHBhcmFtXG4gICAgLy8gT3BlcmF0aW9ucyBzaG91bGQgY29tZSB0aHJvdWdoIGFzIGFuIGFycmF5XG4gICAgZm9yIChjb25zdCBjb25kaXRpb24gb2Ygd2hlcmUpe1xuICAgICAgICAvLyBJZiB0aGUgb3BlcmF0aW9uIGlzIHByb3Blcmx5IGZvcm1hdHRlZCBhcyBhbiBvYmplY3RcbiAgICAgICAgaWYgKHR5cGVvZiBjb25kaXRpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXJzZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgICAgIGdsb2JhbFNsdWcsXG4gICAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgd2hlcmU6IGNvbmRpdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzdWx0KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkQ29uZGl0aW9ucy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbXBsZXRlZENvbmRpdGlvbnM7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkQW5kT3JDb25kaXRpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildAndOrConditions.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBuildQueryPlugin: () => (/* binding */ getBuildQueryPlugin)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/errors/QueryError.js\");\n/* harmony import */ var _parseParams_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parseParams.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js\");\n\n\n// This plugin asynchronously builds a list of Mongoose query constraints\n// which can then be used in subsequent Mongoose queries.\nconst getBuildQueryPlugin = ({ collectionSlug, versionsFields } = {})=>{\n    return function buildQueryPlugin(schema) {\n        const modifiedSchema = schema;\n        async function buildQuery({ globalSlug, locale, payload, where }) {\n            let fields = versionsFields;\n            if (!fields) {\n                if (globalSlug) {\n                    const globalConfig = payload.globals.config.find(({ slug })=>slug === globalSlug);\n                    fields = globalConfig.flattenedFields;\n                }\n                if (collectionSlug) {\n                    const collectionConfig = payload.collections[collectionSlug].config;\n                    fields = collectionConfig.flattenedFields;\n                }\n            }\n            const errors = [];\n            const result = await (0,_parseParams_js__WEBPACK_IMPORTED_MODULE_0__.parseParams)({\n                collectionSlug,\n                fields,\n                globalSlug,\n                locale,\n                payload,\n                where\n            });\n            if (errors.length > 0) {\n                throw new payload__WEBPACK_IMPORTED_MODULE_1__.QueryError(errors);\n            }\n            return result;\n        }\n        modifiedSchema.statics.buildQuery = buildQuery;\n    };\n};\n\n//# sourceMappingURL=buildQuery.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRRdWVyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFDVTtBQUMvQztBQUNBO0FBQ08sK0JBQStCLGlDQUFpQyxJQUFJO0FBQzNFO0FBQ0E7QUFDQSxvQ0FBb0Msb0NBQW9DO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxNQUFNO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNERBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsMEJBQTBCLCtDQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRRdWVyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWVyeUVycm9yIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBwYXJzZVBhcmFtcyB9IGZyb20gJy4vcGFyc2VQYXJhbXMuanMnO1xuLy8gVGhpcyBwbHVnaW4gYXN5bmNocm9ub3VzbHkgYnVpbGRzIGEgbGlzdCBvZiBNb25nb29zZSBxdWVyeSBjb25zdHJhaW50c1xuLy8gd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBpbiBzdWJzZXF1ZW50IE1vbmdvb3NlIHF1ZXJpZXMuXG5leHBvcnQgY29uc3QgZ2V0QnVpbGRRdWVyeVBsdWdpbiA9ICh7IGNvbGxlY3Rpb25TbHVnLCB2ZXJzaW9uc0ZpZWxkcyB9ID0ge30pPT57XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJ1aWxkUXVlcnlQbHVnaW4oc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVkU2NoZW1hID0gc2NoZW1hO1xuICAgICAgICBhc3luYyBmdW5jdGlvbiBidWlsZFF1ZXJ5KHsgZ2xvYmFsU2x1ZywgbG9jYWxlLCBwYXlsb2FkLCB3aGVyZSB9KSB7XG4gICAgICAgICAgICBsZXQgZmllbGRzID0gdmVyc2lvbnNGaWVsZHM7XG4gICAgICAgICAgICBpZiAoIWZpZWxkcykge1xuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxTbHVnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbENvbmZpZyA9IHBheWxvYWQuZ2xvYmFscy5jb25maWcuZmluZCgoeyBzbHVnIH0pPT5zbHVnID09PSBnbG9iYWxTbHVnKTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzID0gZ2xvYmFsQ29uZmlnLmZsYXR0ZW5lZEZpZWxkcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb25TbHVnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25Db25maWcgPSBwYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25TbHVnXS5jb25maWc7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkcyA9IGNvbGxlY3Rpb25Db25maWcuZmxhdHRlbmVkRmllbGRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGFyc2VQYXJhbXMoe1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgICAgICBnbG9iYWxTbHVnLFxuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgIHdoZXJlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBRdWVyeUVycm9yKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIG1vZGlmaWVkU2NoZW1hLnN0YXRpY3MuYnVpbGRRdWVyeSA9IGJ1aWxkUXVlcnk7XG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUXVlcnkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildQuery.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSearchParams.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSearchParams.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildSearchParam: () => (/* binding */ buildSearchParam)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/getLocalizedPaths.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/types/constants.js\");\n/* harmony import */ var _operatorMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./operatorMap.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/operatorMap.js\");\n/* harmony import */ var _sanitizeQueryValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sanitizeQueryValue.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/sanitizeQueryValue.js\");\n\n\n\n\n\nconst subQueryOptions = {\n    lean: true,\n    limit: 50\n};\n/**\n * Convert the Payload key / value / operator into a MongoDB query\n */ async function buildSearchParam({ collectionSlug, fields, globalSlug, incomingPath, locale, operator, payload, val }) {\n    // Replace GraphQL nested field double underscore formatting\n    let sanitizedPath = incomingPath.replace(/__/g, '.');\n    if (sanitizedPath === 'id') {\n        sanitizedPath = '_id';\n    }\n    let paths = [];\n    let hasCustomID = false;\n    if (sanitizedPath === '_id') {\n        const customIDFieldType = payload.collections[collectionSlug]?.customIDType;\n        let idFieldType = 'text';\n        if (customIDFieldType) {\n            idFieldType = customIDFieldType;\n            hasCustomID = true;\n        }\n        paths.push({\n            collectionSlug,\n            complete: true,\n            field: {\n                name: 'id',\n                type: idFieldType\n            },\n            path: '_id'\n        });\n    } else {\n        paths = (0,payload__WEBPACK_IMPORTED_MODULE_3__.getLocalizedPaths)({\n            collectionSlug,\n            fields,\n            globalSlug,\n            incomingPath: sanitizedPath,\n            locale,\n            payload\n        });\n    }\n    const [{ field, path }] = paths;\n    if (path) {\n        const sanitizedQueryValue = (0,_sanitizeQueryValue_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeQueryValue)({\n            field,\n            hasCustomID,\n            locale,\n            operator,\n            path,\n            payload,\n            val\n        });\n        if (!sanitizedQueryValue) {\n            return undefined;\n        }\n        const { operator: formattedOperator, rawQuery, val: formattedValue } = sanitizedQueryValue;\n        if (rawQuery) {\n            return {\n                value: rawQuery\n            };\n        }\n        // If there are multiple collections to search through,\n        // Recursively build up a list of query constraints\n        if (paths.length > 1) {\n            // Remove top collection and reverse array\n            // to work backwards from top\n            const pathsToQuery = paths.slice(1).reverse();\n            const initialRelationshipQuery = {\n                value: {}\n            };\n            const relationshipQuery = await pathsToQuery.reduce(async (priorQuery, { collectionSlug: slug, path: subPath }, i)=>{\n                const priorQueryResult = await priorQuery;\n                const SubModel = payload.db.collections[slug];\n                // On the \"deepest\" collection,\n                // Search on the value passed through the query\n                if (i === 0) {\n                    const subQuery = await SubModel.buildQuery({\n                        locale,\n                        payload,\n                        where: {\n                            [subPath]: {\n                                [formattedOperator]: val\n                            }\n                        }\n                    });\n                    const result = await SubModel.find(subQuery, subQueryOptions);\n                    const $in = [];\n                    result.forEach((doc)=>{\n                        const stringID = doc._id.toString();\n                        $in.push(stringID);\n                        if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(stringID)) {\n                            $in.push(doc._id);\n                        }\n                    });\n                    if (pathsToQuery.length === 1) {\n                        return {\n                            path,\n                            value: {\n                                $in\n                            }\n                        };\n                    }\n                    const nextSubPath = pathsToQuery[i + 1].path;\n                    return {\n                        value: {\n                            [nextSubPath]: {\n                                $in\n                            }\n                        }\n                    };\n                }\n                const subQuery = priorQueryResult.value;\n                const result = await SubModel.find(subQuery, subQueryOptions);\n                const $in = result.map((doc)=>doc._id);\n                // If it is the last recursion\n                // then pass through the search param\n                if (i + 1 === pathsToQuery.length) {\n                    return {\n                        path,\n                        value: {\n                            $in\n                        }\n                    };\n                }\n                return {\n                    value: {\n                        _id: {\n                            $in\n                        }\n                    }\n                };\n            }, Promise.resolve(initialRelationshipQuery));\n            return relationshipQuery;\n        }\n        if (formattedOperator && payload_shared__WEBPACK_IMPORTED_MODULE_4__.validOperators.includes(formattedOperator)) {\n            const operatorKey = _operatorMap_js__WEBPACK_IMPORTED_MODULE_1__.operatorMap[formattedOperator];\n            if (field.type === 'relationship' || field.type === 'upload') {\n                let hasNumberIDRelation;\n                let multiIDCondition = '$or';\n                if (operatorKey === '$ne') {\n                    multiIDCondition = '$and';\n                }\n                const result = {\n                    value: {\n                        [multiIDCondition]: [\n                            {\n                                [path]: {\n                                    [operatorKey]: formattedValue\n                                }\n                            }\n                        ]\n                    }\n                };\n                if (typeof formattedValue === 'string') {\n                    if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(formattedValue)) {\n                        result.value[multiIDCondition].push({\n                            [path]: {\n                                [operatorKey]: new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(formattedValue)\n                            }\n                        });\n                    } else {\n                        ;\n                        (Array.isArray(field.relationTo) ? field.relationTo : [\n                            field.relationTo\n                        ]).forEach((relationTo)=>{\n                            const isRelatedToCustomNumberID = payload.collections[relationTo]?.customIDType === 'number';\n                            if (isRelatedToCustomNumberID) {\n                                hasNumberIDRelation = true;\n                            }\n                        });\n                        if (hasNumberIDRelation) {\n                            result.value[multiIDCondition].push({\n                                [path]: {\n                                    [operatorKey]: parseFloat(formattedValue)\n                                }\n                            });\n                        }\n                    }\n                }\n                if (result.value[multiIDCondition].length > 1) {\n                    return result;\n                }\n            }\n            if (formattedOperator === 'like' && typeof formattedValue === 'string') {\n                const words = formattedValue.split(' ');\n                const result = {\n                    value: {\n                        $and: words.map((word)=>({\n                                [path]: {\n                                    $options: 'i',\n                                    $regex: word.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n                                }\n                            }))\n                    }\n                };\n                return result;\n            }\n            // Some operators like 'near' need to define a full query\n            // so if there is no operator key, just return the value\n            if (!operatorKey) {\n                return {\n                    path,\n                    value: formattedValue\n                };\n            }\n            return {\n                path,\n                value: {\n                    [operatorKey]: formattedValue\n                }\n            };\n        }\n    }\n    return undefined;\n}\n\n//# sourceMappingURL=buildSearchParams.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRTZWFyY2hQYXJhbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlDO0FBQ1c7QUFDSTtBQUNEO0FBQ2M7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVyxrQ0FBa0Msa0ZBQWtGO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOLGdCQUFnQiwwREFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsYUFBYSxhQUFhO0FBQzFCO0FBQ0Esb0NBQW9DLDBFQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkRBQTZEO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYscUNBQXFDO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkNBQUs7QUFDakM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUNBQWlDLDBEQUFjO0FBQy9DLGdDQUFnQyx3REFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkNBQUs7QUFDN0I7QUFDQTtBQUNBLG1EQUFtRCwyQ0FBSztBQUN4RDtBQUNBLHlCQUF5QjtBQUN6QixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0U7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9xdWVyaWVzL2J1aWxkU2VhcmNoUGFyYW1zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGVzIH0gZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IHsgZ2V0TG9jYWxpemVkUGF0aHMgfSBmcm9tICdwYXlsb2FkJztcbmltcG9ydCB7IHZhbGlkT3BlcmF0b3JzIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuaW1wb3J0IHsgb3BlcmF0b3JNYXAgfSBmcm9tICcuL29wZXJhdG9yTWFwLmpzJztcbmltcG9ydCB7IHNhbml0aXplUXVlcnlWYWx1ZSB9IGZyb20gJy4vc2FuaXRpemVRdWVyeVZhbHVlLmpzJztcbmNvbnN0IHN1YlF1ZXJ5T3B0aW9ucyA9IHtcbiAgICBsZWFuOiB0cnVlLFxuICAgIGxpbWl0OiA1MFxufTtcbi8qKlxuICogQ29udmVydCB0aGUgUGF5bG9hZCBrZXkgLyB2YWx1ZSAvIG9wZXJhdG9yIGludG8gYSBNb25nb0RCIHF1ZXJ5XG4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJ1aWxkU2VhcmNoUGFyYW0oeyBjb2xsZWN0aW9uU2x1ZywgZmllbGRzLCBnbG9iYWxTbHVnLCBpbmNvbWluZ1BhdGgsIGxvY2FsZSwgb3BlcmF0b3IsIHBheWxvYWQsIHZhbCB9KSB7XG4gICAgLy8gUmVwbGFjZSBHcmFwaFFMIG5lc3RlZCBmaWVsZCBkb3VibGUgdW5kZXJzY29yZSBmb3JtYXR0aW5nXG4gICAgbGV0IHNhbml0aXplZFBhdGggPSBpbmNvbWluZ1BhdGgucmVwbGFjZSgvX18vZywgJy4nKTtcbiAgICBpZiAoc2FuaXRpemVkUGF0aCA9PT0gJ2lkJykge1xuICAgICAgICBzYW5pdGl6ZWRQYXRoID0gJ19pZCc7XG4gICAgfVxuICAgIGxldCBwYXRocyA9IFtdO1xuICAgIGxldCBoYXNDdXN0b21JRCA9IGZhbHNlO1xuICAgIGlmIChzYW5pdGl6ZWRQYXRoID09PSAnX2lkJykge1xuICAgICAgICBjb25zdCBjdXN0b21JREZpZWxkVHlwZSA9IHBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvblNsdWddPy5jdXN0b21JRFR5cGU7XG4gICAgICAgIGxldCBpZEZpZWxkVHlwZSA9ICd0ZXh0JztcbiAgICAgICAgaWYgKGN1c3RvbUlERmllbGRUeXBlKSB7XG4gICAgICAgICAgICBpZEZpZWxkVHlwZSA9IGN1c3RvbUlERmllbGRUeXBlO1xuICAgICAgICAgICAgaGFzQ3VzdG9tSUQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgICBjb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGZpZWxkOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2lkJyxcbiAgICAgICAgICAgICAgICB0eXBlOiBpZEZpZWxkVHlwZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6ICdfaWQnXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGhzID0gZ2V0TG9jYWxpemVkUGF0aHMoe1xuICAgICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICBnbG9iYWxTbHVnLFxuICAgICAgICAgICAgaW5jb21pbmdQYXRoOiBzYW5pdGl6ZWRQYXRoLFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgcGF5bG9hZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgW3sgZmllbGQsIHBhdGggfV0gPSBwYXRocztcbiAgICBpZiAocGF0aCkge1xuICAgICAgICBjb25zdCBzYW5pdGl6ZWRRdWVyeVZhbHVlID0gc2FuaXRpemVRdWVyeVZhbHVlKHtcbiAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgaGFzQ3VzdG9tSUQsXG4gICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICBvcGVyYXRvcixcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgdmFsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXNhbml0aXplZFF1ZXJ5VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBvcGVyYXRvcjogZm9ybWF0dGVkT3BlcmF0b3IsIHJhd1F1ZXJ5LCB2YWw6IGZvcm1hdHRlZFZhbHVlIH0gPSBzYW5pdGl6ZWRRdWVyeVZhbHVlO1xuICAgICAgICBpZiAocmF3UXVlcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHJhd1F1ZXJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjb2xsZWN0aW9ucyB0byBzZWFyY2ggdGhyb3VnaCxcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgYnVpbGQgdXAgYSBsaXN0IG9mIHF1ZXJ5IGNvbnN0cmFpbnRzXG4gICAgICAgIGlmIChwYXRocy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdG9wIGNvbGxlY3Rpb24gYW5kIHJldmVyc2UgYXJyYXlcbiAgICAgICAgICAgIC8vIHRvIHdvcmsgYmFja3dhcmRzIGZyb20gdG9wXG4gICAgICAgICAgICBjb25zdCBwYXRoc1RvUXVlcnkgPSBwYXRocy5zbGljZSgxKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICBjb25zdCBpbml0aWFsUmVsYXRpb25zaGlwUXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwUXVlcnkgPSBhd2FpdCBwYXRoc1RvUXVlcnkucmVkdWNlKGFzeW5jIChwcmlvclF1ZXJ5LCB7IGNvbGxlY3Rpb25TbHVnOiBzbHVnLCBwYXRoOiBzdWJQYXRoIH0sIGkpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgcHJpb3JRdWVyeVJlc3VsdCA9IGF3YWl0IHByaW9yUXVlcnk7XG4gICAgICAgICAgICAgICAgY29uc3QgU3ViTW9kZWwgPSBwYXlsb2FkLmRiLmNvbGxlY3Rpb25zW3NsdWddO1xuICAgICAgICAgICAgICAgIC8vIE9uIHRoZSBcImRlZXBlc3RcIiBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgIC8vIFNlYXJjaCBvbiB0aGUgdmFsdWUgcGFzc2VkIHRocm91Z2ggdGhlIHF1ZXJ5XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViUXVlcnkgPSBhd2FpdCBTdWJNb2RlbC5idWlsZFF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzdWJQYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZm9ybWF0dGVkT3BlcmF0b3JdOiB2YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBTdWJNb2RlbC5maW5kKHN1YlF1ZXJ5LCBzdWJRdWVyeU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkaW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmZvckVhY2goKGRvYyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0lEID0gZG9jLl9pZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGluLnB1c2goc3RyaW5nSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFR5cGVzLk9iamVjdElkLmlzVmFsaWQoc3RyaW5nSUQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGluLnB1c2goZG9jLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aHNUb1F1ZXJ5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFN1YlBhdGggPSBwYXRoc1RvUXVlcnlbaSArIDFdLnBhdGg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZXh0U3ViUGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdWJRdWVyeSA9IHByaW9yUXVlcnlSZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU3ViTW9kZWwuZmluZChzdWJRdWVyeSwgc3ViUXVlcnlPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkaW4gPSByZXN1bHQubWFwKChkb2MpPT5kb2MuX2lkKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCBpcyB0aGUgbGFzdCByZWN1cnNpb25cbiAgICAgICAgICAgICAgICAvLyB0aGVuIHBhc3MgdGhyb3VnaCB0aGUgc2VhcmNoIHBhcmFtXG4gICAgICAgICAgICAgICAgaWYgKGkgKyAxID09PSBwYXRoc1RvUXVlcnkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sIFByb21pc2UucmVzb2x2ZShpbml0aWFsUmVsYXRpb25zaGlwUXVlcnkpKTtcbiAgICAgICAgICAgIHJldHVybiByZWxhdGlvbnNoaXBRdWVyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0dGVkT3BlcmF0b3IgJiYgdmFsaWRPcGVyYXRvcnMuaW5jbHVkZXMoZm9ybWF0dGVkT3BlcmF0b3IpKSB7XG4gICAgICAgICAgICBjb25zdCBvcGVyYXRvcktleSA9IG9wZXJhdG9yTWFwW2Zvcm1hdHRlZE9wZXJhdG9yXTtcbiAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAncmVsYXRpb25zaGlwJyB8fCBmaWVsZC50eXBlID09PSAndXBsb2FkJykge1xuICAgICAgICAgICAgICAgIGxldCBoYXNOdW1iZXJJRFJlbGF0aW9uO1xuICAgICAgICAgICAgICAgIGxldCBtdWx0aUlEQ29uZGl0aW9uID0gJyRvcic7XG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yS2V5ID09PSAnJG5lJykge1xuICAgICAgICAgICAgICAgICAgICBtdWx0aUlEQ29uZGl0aW9uID0gJyRhbmQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbbXVsdGlJRENvbmRpdGlvbl06IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW29wZXJhdG9yS2V5XTogZm9ybWF0dGVkVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZWRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFR5cGVzLk9iamVjdElkLmlzVmFsaWQoZm9ybWF0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudmFsdWVbbXVsdGlJRENvbmRpdGlvbl0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3BhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtvcGVyYXRvcktleV06IG5ldyBUeXBlcy5PYmplY3RJZChmb3JtYXR0ZWRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIChBcnJheS5pc0FycmF5KGZpZWxkLnJlbGF0aW9uVG8pID8gZmllbGQucmVsYXRpb25UbyA6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5yZWxhdGlvblRvXG4gICAgICAgICAgICAgICAgICAgICAgICBdKS5mb3JFYWNoKChyZWxhdGlvblRvKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUmVsYXRlZFRvQ3VzdG9tTnVtYmVySUQgPSBwYXlsb2FkLmNvbGxlY3Rpb25zW3JlbGF0aW9uVG9dPy5jdXN0b21JRFR5cGUgPT09ICdudW1iZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1JlbGF0ZWRUb0N1c3RvbU51bWJlcklEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc051bWJlcklEUmVsYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc051bWJlcklEUmVsYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudmFsdWVbbXVsdGlJRENvbmRpdGlvbl0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW29wZXJhdG9yS2V5XTogcGFyc2VGbG9hdChmb3JtYXR0ZWRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWVbbXVsdGlJRENvbmRpdGlvbl0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3JtYXR0ZWRPcGVyYXRvciA9PT0gJ2xpa2UnICYmIHR5cGVvZiBmb3JtYXR0ZWRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JkcyA9IGZvcm1hdHRlZFZhbHVlLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGFuZDogd29yZHMubWFwKCh3b3JkKT0+KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3BhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb3B0aW9uczogJ2knLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlZ2V4OiB3b3JkLnJlcGxhY2UoL1tcXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU29tZSBvcGVyYXRvcnMgbGlrZSAnbmVhcicgbmVlZCB0byBkZWZpbmUgYSBmdWxsIHF1ZXJ5XG4gICAgICAgICAgICAvLyBzbyBpZiB0aGVyZSBpcyBubyBvcGVyYXRvciBrZXksIGp1c3QgcmV0dXJuIHRoZSB2YWx1ZVxuICAgICAgICAgICAgaWYgKCFvcGVyYXRvcktleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmb3JtYXR0ZWRWYWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgW29wZXJhdG9yS2V5XTogZm9ybWF0dGVkVmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkU2VhcmNoUGFyYW1zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSearchParams.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js":
/*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js ***!
  \*************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildSortParam: () => (/* binding */ buildSortParam)\n/* harmony export */ });\n/* harmony import */ var _getLocalizedSortProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getLocalizedSortProperty.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/getLocalizedSortProperty.js\");\n\nconst buildSortParam = ({ config, fields, locale, sort, timestamps })=>{\n    if (!sort) {\n        if (timestamps) {\n            sort = '-createdAt';\n        } else {\n            sort = '-id';\n        }\n    }\n    if (typeof sort === 'string') {\n        sort = [\n            sort\n        ];\n    }\n    const sorting = sort.reduce((acc, item)=>{\n        let sortProperty;\n        let sortDirection;\n        if (item.indexOf('-') === 0) {\n            sortProperty = item.substring(1);\n            sortDirection = 'desc';\n        } else {\n            sortProperty = item;\n            sortDirection = 'asc';\n        }\n        if (sortProperty === 'id') {\n            acc['_id'] = sortDirection;\n            return acc;\n        }\n        const localizedProperty = (0,_getLocalizedSortProperty_js__WEBPACK_IMPORTED_MODULE_0__.getLocalizedSortProperty)({\n            config,\n            fields,\n            locale,\n            segments: sortProperty.split('.')\n        });\n        acc[localizedProperty] = sortDirection;\n        return acc;\n    }, {});\n    return sorting;\n};\n\n//# sourceMappingURL=buildSortParam.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvYnVpbGRTb3J0UGFyYW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUU7QUFDbEUsMEJBQTBCLDBDQUEwQztBQUMzRTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxzRkFBd0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9xdWVyaWVzL2J1aWxkU29ydFBhcmFtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldExvY2FsaXplZFNvcnRQcm9wZXJ0eSB9IGZyb20gJy4vZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5LmpzJztcbmV4cG9ydCBjb25zdCBidWlsZFNvcnRQYXJhbSA9ICh7IGNvbmZpZywgZmllbGRzLCBsb2NhbGUsIHNvcnQsIHRpbWVzdGFtcHMgfSk9PntcbiAgICBpZiAoIXNvcnQpIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcHMpIHtcbiAgICAgICAgICAgIHNvcnQgPSAnLWNyZWF0ZWRBdCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3J0ID0gJy1pZCc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb3J0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBzb3J0ID0gW1xuICAgICAgICAgICAgc29ydFxuICAgICAgICBdO1xuICAgIH1cbiAgICBjb25zdCBzb3J0aW5nID0gc29ydC5yZWR1Y2UoKGFjYywgaXRlbSk9PntcbiAgICAgICAgbGV0IHNvcnRQcm9wZXJ0eTtcbiAgICAgICAgbGV0IHNvcnREaXJlY3Rpb247XG4gICAgICAgIGlmIChpdGVtLmluZGV4T2YoJy0nKSA9PT0gMCkge1xuICAgICAgICAgICAgc29ydFByb3BlcnR5ID0gaXRlbS5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICBzb3J0RGlyZWN0aW9uID0gJ2Rlc2MnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc29ydFByb3BlcnR5ID0gaXRlbTtcbiAgICAgICAgICAgIHNvcnREaXJlY3Rpb24gPSAnYXNjJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc29ydFByb3BlcnR5ID09PSAnaWQnKSB7XG4gICAgICAgICAgICBhY2NbJ19pZCddID0gc29ydERpcmVjdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9jYWxpemVkUHJvcGVydHkgPSBnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkoe1xuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgc2VnbWVudHM6IHNvcnRQcm9wZXJ0eS5zcGxpdCgnLicpXG4gICAgICAgIH0pO1xuICAgICAgICBhY2NbbG9jYWxpemVkUHJvcGVydHldID0gc29ydERpcmVjdGlvbjtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHNvcnRpbmc7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFNvcnRQYXJhbS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/getLocalizedSortProperty.js":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/getLocalizedSortProperty.js ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLocalizedSortProperty: () => (/* binding */ getLocalizedSortProperty)\n/* harmony export */ });\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/fields/config/types.js\");\n\nconst getLocalizedSortProperty = ({ config, fields, locale, result: incomingResult, segments: incomingSegments })=>{\n    // If localization is not enabled, accept exactly\n    // what is sent in\n    if (!config.localization) {\n        return incomingSegments.join('.');\n    }\n    const segments = [\n        ...incomingSegments\n    ];\n    // Retrieve first segment, and remove from segments\n    const firstSegment = segments.shift();\n    // Attempt to find a matched field\n    const matchedField = fields.find((field)=>(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(field) && field.name === firstSegment);\n    if (matchedField && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldIsPresentationalOnly)(matchedField)) {\n        let nextFields;\n        const remainingSegments = [\n            ...segments\n        ];\n        let localizedSegment = matchedField.name;\n        if (matchedField.localized) {\n            // Check to see if next segment is a locale\n            if (segments.length > 0) {\n                const nextSegmentIsLocale = config.localization.localeCodes.includes(remainingSegments[0]);\n                // If next segment is locale, remove it from remaining segments\n                // and use it to localize the current segment\n                if (nextSegmentIsLocale) {\n                    const nextSegment = remainingSegments.shift();\n                    localizedSegment = `${matchedField.name}.${nextSegment}`;\n                }\n            } else {\n                // If no more segments, but field is localized, use default locale\n                localizedSegment = `${matchedField.name}.${locale}`;\n            }\n        }\n        // If there are subfields, pass them through\n        if (matchedField.type === 'tab' || matchedField.type === 'group' || matchedField.type === 'array') {\n            nextFields = matchedField.flattenedFields;\n        }\n        if (matchedField.type === 'blocks') {\n            nextFields = matchedField.blocks.reduce((flattenedBlockFields, block)=>{\n                return [\n                    ...flattenedBlockFields,\n                    ...block.flattenedFields.filter((blockField)=>(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(blockField) && blockField.name !== 'blockType' && blockField.name !== 'blockName' || !(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(blockField))\n                ];\n            }, []);\n        }\n        const result = incomingResult ? `${incomingResult}.${localizedSegment}` : localizedSegment;\n        if (nextFields) {\n            return getLocalizedSortProperty({\n                config,\n                fields: nextFields,\n                locale,\n                result,\n                segments: remainingSegments\n            });\n        }\n        return result;\n    }\n    return incomingSegments.join('.');\n};\n\n//# sourceMappingURL=getLocalizedSortProperty.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZFO0FBQ3RFLG9DQUFvQyw0RUFBNEU7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnRUFBZ0I7QUFDOUQseUJBQXlCLHlFQUF5QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrQkFBa0IsR0FBRyxZQUFZO0FBQzNFO0FBQ0EsY0FBYztBQUNkO0FBQ0Esc0NBQXNDLGtCQUFrQixHQUFHLE9BQU87QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0VBQWdCLHVGQUF1RixnRUFBZ0I7QUFDekw7QUFDQSxhQUFhO0FBQ2I7QUFDQSwyQ0FBMkMsZUFBZSxHQUFHLGlCQUFpQjtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvcXVlcmllcy9nZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmllbGRBZmZlY3RzRGF0YSwgZmllbGRJc1ByZXNlbnRhdGlvbmFsT25seSB9IGZyb20gJ3BheWxvYWQvc2hhcmVkJztcbmV4cG9ydCBjb25zdCBnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkgPSAoeyBjb25maWcsIGZpZWxkcywgbG9jYWxlLCByZXN1bHQ6IGluY29taW5nUmVzdWx0LCBzZWdtZW50czogaW5jb21pbmdTZWdtZW50cyB9KT0+e1xuICAgIC8vIElmIGxvY2FsaXphdGlvbiBpcyBub3QgZW5hYmxlZCwgYWNjZXB0IGV4YWN0bHlcbiAgICAvLyB3aGF0IGlzIHNlbnQgaW5cbiAgICBpZiAoIWNvbmZpZy5sb2NhbGl6YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGluY29taW5nU2VnbWVudHMuam9pbignLicpO1xuICAgIH1cbiAgICBjb25zdCBzZWdtZW50cyA9IFtcbiAgICAgICAgLi4uaW5jb21pbmdTZWdtZW50c1xuICAgIF07XG4gICAgLy8gUmV0cmlldmUgZmlyc3Qgc2VnbWVudCwgYW5kIHJlbW92ZSBmcm9tIHNlZ21lbnRzXG4gICAgY29uc3QgZmlyc3RTZWdtZW50ID0gc2VnbWVudHMuc2hpZnQoKTtcbiAgICAvLyBBdHRlbXB0IHRvIGZpbmQgYSBtYXRjaGVkIGZpZWxkXG4gICAgY29uc3QgbWF0Y2hlZEZpZWxkID0gZmllbGRzLmZpbmQoKGZpZWxkKT0+ZmllbGRBZmZlY3RzRGF0YShmaWVsZCkgJiYgZmllbGQubmFtZSA9PT0gZmlyc3RTZWdtZW50KTtcbiAgICBpZiAobWF0Y2hlZEZpZWxkICYmICFmaWVsZElzUHJlc2VudGF0aW9uYWxPbmx5KG1hdGNoZWRGaWVsZCkpIHtcbiAgICAgICAgbGV0IG5leHRGaWVsZHM7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1NlZ21lbnRzID0gW1xuICAgICAgICAgICAgLi4uc2VnbWVudHNcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGxvY2FsaXplZFNlZ21lbnQgPSBtYXRjaGVkRmllbGQubmFtZTtcbiAgICAgICAgaWYgKG1hdGNoZWRGaWVsZC5sb2NhbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBuZXh0IHNlZ21lbnQgaXMgYSBsb2NhbGVcbiAgICAgICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFNlZ21lbnRJc0xvY2FsZSA9IGNvbmZpZy5sb2NhbGl6YXRpb24ubG9jYWxlQ29kZXMuaW5jbHVkZXMocmVtYWluaW5nU2VnbWVudHNbMF0pO1xuICAgICAgICAgICAgICAgIC8vIElmIG5leHQgc2VnbWVudCBpcyBsb2NhbGUsIHJlbW92ZSBpdCBmcm9tIHJlbWFpbmluZyBzZWdtZW50c1xuICAgICAgICAgICAgICAgIC8vIGFuZCB1c2UgaXQgdG8gbG9jYWxpemUgdGhlIGN1cnJlbnQgc2VnbWVudFxuICAgICAgICAgICAgICAgIGlmIChuZXh0U2VnbWVudElzTG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTZWdtZW50ID0gcmVtYWluaW5nU2VnbWVudHMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxpemVkU2VnbWVudCA9IGAke21hdGNoZWRGaWVsZC5uYW1lfS4ke25leHRTZWdtZW50fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBubyBtb3JlIHNlZ21lbnRzLCBidXQgZmllbGQgaXMgbG9jYWxpemVkLCB1c2UgZGVmYXVsdCBsb2NhbGVcbiAgICAgICAgICAgICAgICBsb2NhbGl6ZWRTZWdtZW50ID0gYCR7bWF0Y2hlZEZpZWxkLm5hbWV9LiR7bG9jYWxlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHN1YmZpZWxkcywgcGFzcyB0aGVtIHRocm91Z2hcbiAgICAgICAgaWYgKG1hdGNoZWRGaWVsZC50eXBlID09PSAndGFiJyB8fCBtYXRjaGVkRmllbGQudHlwZSA9PT0gJ2dyb3VwJyB8fCBtYXRjaGVkRmllbGQudHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgbmV4dEZpZWxkcyA9IG1hdGNoZWRGaWVsZC5mbGF0dGVuZWRGaWVsZHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoZWRGaWVsZC50eXBlID09PSAnYmxvY2tzJykge1xuICAgICAgICAgICAgbmV4dEZpZWxkcyA9IG1hdGNoZWRGaWVsZC5ibG9ja3MucmVkdWNlKChmbGF0dGVuZWRCbG9ja0ZpZWxkcywgYmxvY2spPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgLi4uZmxhdHRlbmVkQmxvY2tGaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgIC4uLmJsb2NrLmZsYXR0ZW5lZEZpZWxkcy5maWx0ZXIoKGJsb2NrRmllbGQpPT5maWVsZEFmZmVjdHNEYXRhKGJsb2NrRmllbGQpICYmIGJsb2NrRmllbGQubmFtZSAhPT0gJ2Jsb2NrVHlwZScgJiYgYmxvY2tGaWVsZC5uYW1lICE9PSAnYmxvY2tOYW1lJyB8fCAhZmllbGRBZmZlY3RzRGF0YShibG9ja0ZpZWxkKSlcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGluY29taW5nUmVzdWx0ID8gYCR7aW5jb21pbmdSZXN1bHR9LiR7bG9jYWxpemVkU2VnbWVudH1gIDogbG9jYWxpemVkU2VnbWVudDtcbiAgICAgICAgaWYgKG5leHRGaWVsZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkoe1xuICAgICAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IG5leHRGaWVsZHMsXG4gICAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgICBzZWdtZW50czogcmVtYWluaW5nU2VnbWVudHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBpbmNvbWluZ1NlZ21lbnRzLmpvaW4oJy4nKTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldExvY2FsaXplZFNvcnRQcm9wZXJ0eS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/getLocalizedSortProperty.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/operatorMap.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/operatorMap.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   operatorMap: () => (/* binding */ operatorMap)\n/* harmony export */ });\nconst operatorMap = {\n    all: '$all',\n    equals: '$eq',\n    exists: '$exists',\n    greater_than: '$gt',\n    greater_than_equal: '$gte',\n    in: '$in',\n    intersects: '$geoIntersects',\n    less_than: '$lt',\n    less_than_equal: '$lte',\n    near: '$near',\n    not_equals: '$ne',\n    not_in: '$nin',\n    within: '$geoWithin'\n};\n\n//# sourceMappingURL=operatorMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvb3BlcmF0b3JNYXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvb3BlcmF0b3JNYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IG9wZXJhdG9yTWFwID0ge1xuICAgIGFsbDogJyRhbGwnLFxuICAgIGVxdWFsczogJyRlcScsXG4gICAgZXhpc3RzOiAnJGV4aXN0cycsXG4gICAgZ3JlYXRlcl90aGFuOiAnJGd0JyxcbiAgICBncmVhdGVyX3RoYW5fZXF1YWw6ICckZ3RlJyxcbiAgICBpbjogJyRpbicsXG4gICAgaW50ZXJzZWN0czogJyRnZW9JbnRlcnNlY3RzJyxcbiAgICBsZXNzX3RoYW46ICckbHQnLFxuICAgIGxlc3NfdGhhbl9lcXVhbDogJyRsdGUnLFxuICAgIG5lYXI6ICckbmVhcicsXG4gICAgbm90X2VxdWFsczogJyRuZScsXG4gICAgbm90X2luOiAnJG5pbicsXG4gICAgd2l0aGluOiAnJGdlb1dpdGhpbidcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZXJhdG9yTWFwLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/operatorMap.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseParams: () => (/* binding */ parseParams)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/deepMerge.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/types/constants.js\");\n/* harmony import */ var _buildAndOrConditions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buildAndOrConditions.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildAndOrConditions.js\");\n/* harmony import */ var _buildSearchParams_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buildSearchParams.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSearchParams.js\");\n\n\n\n\nasync function parseParams({ collectionSlug, fields, globalSlug, locale, payload, where }) {\n    let result = {};\n    if (typeof where === 'object') {\n        // We need to determine if the whereKey is an AND, OR, or a schema path\n        for (const relationOrPath of Object.keys(where)){\n            const condition = where[relationOrPath];\n            let conditionOperator;\n            if (relationOrPath.toLowerCase() === 'and') {\n                conditionOperator = '$and';\n            } else if (relationOrPath.toLowerCase() === 'or') {\n                conditionOperator = '$or';\n            }\n            if (Array.isArray(condition)) {\n                const builtConditions = await (0,_buildAndOrConditions_js__WEBPACK_IMPORTED_MODULE_0__.buildAndOrConditions)({\n                    collectionSlug,\n                    fields,\n                    globalSlug,\n                    locale,\n                    payload,\n                    where: condition\n                });\n                if (builtConditions.length > 0) {\n                    result[conditionOperator] = builtConditions;\n                }\n            } else {\n                // It's a path - and there can be multiple comparisons on a single path.\n                // For example - title like 'test' and title not equal to 'tester'\n                // So we need to loop on keys again here to handle each operator independently\n                const pathOperators = where[relationOrPath];\n                if (typeof pathOperators === 'object') {\n                    for (const operator of Object.keys(pathOperators)){\n                        if (payload_shared__WEBPACK_IMPORTED_MODULE_2__.validOperators.includes(operator)) {\n                            const searchParam = await (0,_buildSearchParams_js__WEBPACK_IMPORTED_MODULE_1__.buildSearchParam)({\n                                collectionSlug,\n                                fields,\n                                globalSlug,\n                                incomingPath: relationOrPath,\n                                locale,\n                                operator,\n                                payload,\n                                val: pathOperators[operator]\n                            });\n                            if (searchParam?.value && searchParam?.path) {\n                                result = {\n                                    ...result,\n                                    [searchParam.path]: searchParam.value\n                                };\n                            } else if (typeof searchParam?.value === 'object') {\n                                result = (0,payload__WEBPACK_IMPORTED_MODULE_3__.deepMergeWithCombinedArrays)(result, searchParam.value, {\n                                    // dont clone Types.ObjectIDs\n                                    clone: false\n                                });\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return result;\n}\n\n//# sourceMappingURL=parseParams.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvcGFyc2VQYXJhbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBc0Q7QUFDTjtBQUNpQjtBQUNQO0FBQ25ELDZCQUE2Qiw0REFBNEQ7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsOEVBQW9CO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFjO0FBQzFDLHNEQUFzRCx1RUFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLHlDQUF5QyxvRUFBMkI7QUFDcEU7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC9xdWVyaWVzL3BhcnNlUGFyYW1zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZXBNZXJnZVdpdGhDb21iaW5lZEFycmF5cyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgdmFsaWRPcGVyYXRvcnMgfSBmcm9tICdwYXlsb2FkL3NoYXJlZCc7XG5pbXBvcnQgeyBidWlsZEFuZE9yQ29uZGl0aW9ucyB9IGZyb20gJy4vYnVpbGRBbmRPckNvbmRpdGlvbnMuanMnO1xuaW1wb3J0IHsgYnVpbGRTZWFyY2hQYXJhbSB9IGZyb20gJy4vYnVpbGRTZWFyY2hQYXJhbXMuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlUGFyYW1zKHsgY29sbGVjdGlvblNsdWcsIGZpZWxkcywgZ2xvYmFsU2x1ZywgbG9jYWxlLCBwYXlsb2FkLCB3aGVyZSB9KSB7XG4gICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgIGlmICh0eXBlb2Ygd2hlcmUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSB3aGVyZUtleSBpcyBhbiBBTkQsIE9SLCBvciBhIHNjaGVtYSBwYXRoXG4gICAgICAgIGZvciAoY29uc3QgcmVsYXRpb25PclBhdGggb2YgT2JqZWN0LmtleXMod2hlcmUpKXtcbiAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IHdoZXJlW3JlbGF0aW9uT3JQYXRoXTtcbiAgICAgICAgICAgIGxldCBjb25kaXRpb25PcGVyYXRvcjtcbiAgICAgICAgICAgIGlmIChyZWxhdGlvbk9yUGF0aC50b0xvd2VyQ2FzZSgpID09PSAnYW5kJykge1xuICAgICAgICAgICAgICAgIGNvbmRpdGlvbk9wZXJhdG9yID0gJyRhbmQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZWxhdGlvbk9yUGF0aC50b0xvd2VyQ2FzZSgpID09PSAnb3InKSB7XG4gICAgICAgICAgICAgICAgY29uZGl0aW9uT3BlcmF0b3IgPSAnJG9yJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmRpdGlvbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsdENvbmRpdGlvbnMgPSBhd2FpdCBidWlsZEFuZE9yQ29uZGl0aW9ucyh7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFNsdWcsXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgd2hlcmU6IGNvbmRpdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChidWlsdENvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbY29uZGl0aW9uT3BlcmF0b3JdID0gYnVpbHRDb25kaXRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSXQncyBhIHBhdGggLSBhbmQgdGhlcmUgY2FuIGJlIG11bHRpcGxlIGNvbXBhcmlzb25zIG9uIGEgc2luZ2xlIHBhdGguXG4gICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUgLSB0aXRsZSBsaWtlICd0ZXN0JyBhbmQgdGl0bGUgbm90IGVxdWFsIHRvICd0ZXN0ZXInXG4gICAgICAgICAgICAgICAgLy8gU28gd2UgbmVlZCB0byBsb29wIG9uIGtleXMgYWdhaW4gaGVyZSB0byBoYW5kbGUgZWFjaCBvcGVyYXRvciBpbmRlcGVuZGVudGx5XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aE9wZXJhdG9ycyA9IHdoZXJlW3JlbGF0aW9uT3JQYXRoXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhdGhPcGVyYXRvcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3BlcmF0b3Igb2YgT2JqZWN0LmtleXMocGF0aE9wZXJhdG9ycykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkT3BlcmF0b3JzLmluY2x1ZGVzKG9wZXJhdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFBhcmFtID0gYXdhaXQgYnVpbGRTZWFyY2hQYXJhbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFNsdWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY29taW5nUGF0aDogcmVsYXRpb25PclBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogcGF0aE9wZXJhdG9yc1tvcGVyYXRvcl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUGFyYW0/LnZhbHVlICYmIHNlYXJjaFBhcmFtPy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzZWFyY2hQYXJhbS5wYXRoXTogc2VhcmNoUGFyYW0udmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWFyY2hQYXJhbT8udmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRlZXBNZXJnZVdpdGhDb21iaW5lZEFycmF5cyhyZXN1bHQsIHNlYXJjaFBhcmFtLnZhbHVlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb250IGNsb25lIFR5cGVzLk9iamVjdElEc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZVBhcmFtcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/parseParams.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/sanitizeQueryValue.js":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/sanitizeQueryValue.js ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeQueryValue: () => (/* binding */ sanitizeQueryValue)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/createArrayFromCommaDelineated.js\");\n\n\nconst buildExistsQuery = (formattedValue, path, treatEmptyString = true)=>{\n    if (formattedValue) {\n        return {\n            rawQuery: {\n                $and: [\n                    {\n                        [path]: {\n                            $exists: true\n                        }\n                    },\n                    {\n                        [path]: {\n                            $ne: null\n                        }\n                    },\n                    ...treatEmptyString ? [\n                        {\n                            [path]: {\n                                $ne: ''\n                            }\n                        }\n                    ] : []\n                ]\n            }\n        };\n    } else {\n        return {\n            rawQuery: {\n                $or: [\n                    {\n                        [path]: {\n                            $exists: false\n                        }\n                    },\n                    {\n                        [path]: {\n                            $eq: null\n                        }\n                    },\n                    ...treatEmptyString ? [\n                        {\n                            [path]: {\n                                $eq: ''\n                            }\n                        }\n                    ] : []\n                ]\n            }\n        };\n    }\n};\n// returns nestedField Field object from blocks.nestedField path because getLocalizedPaths splits them only for relationships\nconst getFieldFromSegments = ({ field, segments })=>{\n    if ('blocks' in field) {\n        for (const block of field.blocks){\n            const field = getFieldFromSegments({\n                field: block,\n                segments\n            });\n            if (field) {\n                return field;\n            }\n        }\n    }\n    if ('fields' in field) {\n        for(let i = 0; i < segments.length; i++){\n            const foundField = field.flattenedFields.find((each)=>each.name === segments[i]);\n            if (!foundField) {\n                break;\n            }\n            if (foundField && segments.length - 1 === i) {\n                return foundField;\n            }\n            segments.shift();\n            return getFieldFromSegments({\n                field: foundField,\n                segments\n            });\n        }\n    }\n};\nconst sanitizeQueryValue = ({ field, hasCustomID, locale, operator, path, payload, val })=>{\n    let formattedValue = val;\n    let formattedOperator = operator;\n    if ([\n        'array',\n        'blocks',\n        'group',\n        'tab'\n    ].includes(field.type) && path.includes('.')) {\n        const segments = path.split('.');\n        segments.shift();\n        const foundField = getFieldFromSegments({\n            field,\n            segments\n        });\n        if (foundField) {\n            field = foundField;\n        }\n    }\n    // Disregard invalid _ids\n    if (path === '_id') {\n        if (typeof val === 'string' && val.split(',').length === 1) {\n            if (!hasCustomID) {\n                const isValid = mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(val);\n                if (!isValid) {\n                    return {\n                        operator: formattedOperator,\n                        val: undefined\n                    };\n                } else {\n                    if ([\n                        'in',\n                        'not_in'\n                    ].includes(operator)) {\n                        formattedValue = (0,payload__WEBPACK_IMPORTED_MODULE_1__.createArrayFromCommaDelineated)(formattedValue).map((id)=>new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(id));\n                    } else {\n                        formattedValue = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(val);\n                    }\n                }\n            }\n            if (field.type === 'number') {\n                const parsedNumber = parseFloat(val);\n                if (Number.isNaN(parsedNumber)) {\n                    return {\n                        operator: formattedOperator,\n                        val: undefined\n                    };\n                }\n            }\n        } else if (Array.isArray(val) || typeof val === 'string' && val.split(',').length > 1) {\n            if (typeof val === 'string') {\n                formattedValue = (0,payload__WEBPACK_IMPORTED_MODULE_1__.createArrayFromCommaDelineated)(val);\n            }\n            formattedValue = formattedValue.reduce((formattedValues, inVal)=>{\n                if (!hasCustomID) {\n                    if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(inVal)) {\n                        formattedValues.push(new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(inVal));\n                    }\n                }\n                if (field.type === 'number') {\n                    const parsedNumber = parseFloat(inVal);\n                    if (!Number.isNaN(parsedNumber)) {\n                        formattedValues.push(parsedNumber);\n                    }\n                } else {\n                    formattedValues.push(inVal);\n                }\n                return formattedValues;\n            }, []);\n        }\n    }\n    // Cast incoming values as proper searchable types\n    if (field.type === 'checkbox' && typeof val === 'string') {\n        if (val.toLowerCase() === 'true') {\n            formattedValue = true;\n        }\n        if (val.toLowerCase() === 'false') {\n            formattedValue = false;\n        }\n    }\n    if ([\n        'all',\n        'in',\n        'not_in'\n    ].includes(operator) && typeof formattedValue === 'string') {\n        formattedValue = (0,payload__WEBPACK_IMPORTED_MODULE_1__.createArrayFromCommaDelineated)(formattedValue);\n        if (field.type === 'number') {\n            formattedValue = formattedValue.map((arrayVal)=>parseFloat(arrayVal));\n        }\n    }\n    if (field.type === 'number') {\n        if (typeof formattedValue === 'string' && operator !== 'exists') {\n            formattedValue = Number(val);\n        }\n        if (operator === 'exists') {\n            formattedValue = val === 'true' ? true : val === 'false' ? false : Boolean(val);\n            return buildExistsQuery(formattedValue, path);\n        }\n    }\n    if (field.type === 'date' && typeof val === 'string' && operator !== 'exists') {\n        formattedValue = new Date(val);\n        if (Number.isNaN(Date.parse(formattedValue))) {\n            return undefined;\n        }\n    }\n    if ([\n        'relationship',\n        'upload'\n    ].includes(field.type)) {\n        if (val === 'null') {\n            formattedValue = null;\n        }\n        // Object equality requires the value to be the first key in the object that is being queried.\n        if (operator === 'equals' && formattedValue && typeof formattedValue === 'object' && formattedValue.value && formattedValue.relationTo) {\n            const { value } = formattedValue;\n            const isValid = mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(value);\n            if (isValid) {\n                formattedValue.value = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(value);\n            }\n            let localizedPath = path;\n            if (field.localized && payload.config.localization && locale) {\n                localizedPath = `${path}.${locale}`;\n            }\n            return {\n                rawQuery: {\n                    $or: [\n                        {\n                            [localizedPath]: {\n                                $eq: {\n                                    // disable auto sort\n                                    /* eslint-disable */ value: formattedValue.value,\n                                    relationTo: formattedValue.relationTo\n                                }\n                            }\n                        },\n                        {\n                            [localizedPath]: {\n                                $eq: {\n                                    relationTo: formattedValue.relationTo,\n                                    value: formattedValue.value\n                                }\n                            }\n                        }\n                    ]\n                }\n            };\n        }\n        const relationTo = field.relationTo;\n        if ([\n            'in',\n            'not_in'\n        ].includes(operator) && Array.isArray(formattedValue)) {\n            formattedValue = formattedValue.reduce((formattedValues, inVal)=>{\n                if (!inVal) {\n                    return formattedValues;\n                }\n                if (typeof relationTo === 'string' && payload.collections[relationTo].customIDType) {\n                    if (payload.collections[relationTo].customIDType === 'number') {\n                        const parsedNumber = parseFloat(inVal);\n                        if (!Number.isNaN(parsedNumber)) {\n                            formattedValues.push(parsedNumber);\n                            return formattedValues;\n                        }\n                    }\n                    formattedValues.push(inVal);\n                    return formattedValues;\n                }\n                if (Array.isArray(relationTo) && relationTo.some((relationTo)=>!!payload.collections[relationTo].customIDType)) {\n                    if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(inVal.toString())) {\n                        formattedValues.push(new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(inVal));\n                    } else {\n                        formattedValues.push(inVal);\n                    }\n                    return formattedValues;\n                }\n                if (mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(inVal.toString())) {\n                    formattedValues.push(new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(inVal));\n                }\n                return formattedValues;\n            }, []);\n        }\n        if ([\n            'contains',\n            'equals',\n            'like',\n            'not_equals'\n        ].includes(operator) && (!Array.isArray(relationTo) || !path.endsWith('.relationTo'))) {\n            if (typeof relationTo === 'string') {\n                const customIDType = payload.collections[relationTo].customIDType;\n                if (customIDType) {\n                    if (customIDType === 'number') {\n                        formattedValue = parseFloat(val);\n                        if (Number.isNaN(formattedValue)) {\n                            return {\n                                operator: formattedOperator,\n                                val: undefined\n                            };\n                        }\n                    }\n                } else {\n                    if (!mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(formattedValue)) {\n                        return {\n                            operator: formattedOperator,\n                            val: undefined\n                        };\n                    }\n                    formattedValue = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(formattedValue);\n                }\n            } else {\n                const hasCustomIDType = relationTo.some((relationTo)=>!!payload.collections[relationTo].customIDType);\n                if (hasCustomIDType) {\n                    if (typeof val === 'string') {\n                        const formattedNumber = Number(val);\n                        formattedValue = [\n                            mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(val) ? new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(val) : val\n                        ];\n                        formattedOperator = operator === 'not_equals' ? 'not_in' : 'in';\n                        if (!Number.isNaN(formattedNumber)) {\n                            formattedValue.push(formattedNumber);\n                        }\n                    }\n                } else {\n                    if (!mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(formattedValue)) {\n                        return {\n                            operator: formattedOperator,\n                            val: undefined\n                        };\n                    }\n                    formattedValue = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(formattedValue);\n                }\n            }\n        }\n    }\n    // Set up specific formatting necessary by operators\n    if (operator === 'near') {\n        let lng;\n        let lat;\n        let maxDistance;\n        let minDistance;\n        if (Array.isArray(formattedValue)) {\n            ;\n            [lng, lat, maxDistance, minDistance] = formattedValue;\n        }\n        if (typeof formattedValue === 'string') {\n            ;\n            [lng, lat, maxDistance, minDistance] = (0,payload__WEBPACK_IMPORTED_MODULE_1__.createArrayFromCommaDelineated)(formattedValue);\n        }\n        if (lng == null || lat == null || maxDistance == null && minDistance == null) {\n            formattedValue = undefined;\n        } else {\n            formattedValue = {\n                $geometry: {\n                    type: 'Point',\n                    coordinates: [\n                        parseFloat(lng),\n                        parseFloat(lat)\n                    ]\n                }\n            };\n            if (maxDistance) {\n                formattedValue.$maxDistance = parseFloat(maxDistance);\n            }\n            if (minDistance) {\n                formattedValue.$minDistance = parseFloat(minDistance);\n            }\n        }\n    }\n    if (operator === 'within' || operator === 'intersects') {\n        formattedValue = {\n            $geometry: formattedValue\n        };\n    }\n    if (path !== '_id' || path === '_id' && hasCustomID && field.type === 'text') {\n        if (operator === 'contains' && !mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId.isValid(formattedValue)) {\n            formattedValue = {\n                $options: 'i',\n                $regex: formattedValue.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n            };\n        }\n        if (operator === 'exists') {\n            formattedValue = formattedValue === 'true' || formattedValue === true;\n            // _id can't be empty string, will error Cast to ObjectId failed for value \"\"\n            return buildExistsQuery(formattedValue, path, ![\n                'relationship',\n                'upload'\n            ].includes(field.type));\n        }\n    }\n    if ((path === '_id' || path === 'parent') && operator === 'like' && formattedValue.length === 24 && !hasCustomID) {\n        formattedOperator = 'equals';\n    }\n    if (operator === 'exists') {\n        formattedValue = formattedValue === 'true' || formattedValue === true;\n        // Clearable fields\n        if ([\n            'relationship',\n            'select',\n            'upload'\n        ].includes(field.type)) {\n            if (formattedValue) {\n                return {\n                    rawQuery: {\n                        $and: [\n                            {\n                                [path]: {\n                                    $exists: true\n                                }\n                            },\n                            {\n                                [path]: {\n                                    $ne: null\n                                }\n                            }\n                        ]\n                    }\n                };\n            } else {\n                return {\n                    rawQuery: {\n                        $or: [\n                            {\n                                [path]: {\n                                    $exists: false\n                                }\n                            },\n                            {\n                                [path]: {\n                                    $eq: null\n                                }\n                            }\n                        ]\n                    }\n                };\n            }\n        }\n    }\n    return {\n        operator: formattedOperator,\n        val: formattedValue\n    };\n};\n\n//# sourceMappingURL=sanitizeQueryValue.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvc2FuaXRpemVRdWVyeVZhbHVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUN3QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFCQUFxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNPLDhCQUE4QiwwREFBMEQ7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywyQ0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHVFQUE4QiwrQkFBK0IsMkNBQUs7QUFDM0csc0JBQXNCO0FBQ3RCLDZDQUE2QywyQ0FBSztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxpQ0FBaUMsdUVBQThCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQ0FBSztBQUM3QixpREFBaUQsMkNBQUs7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVFQUE4QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCLDRCQUE0QiwyQ0FBSztBQUNqQztBQUNBLDJDQUEyQywyQ0FBSztBQUNoRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsS0FBSyxHQUFHLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQ0FBSztBQUM3QixpREFBaUQsMkNBQUs7QUFDdEQsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJDQUFLO0FBQ3pCLDZDQUE2QywyQ0FBSztBQUNsRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLHlCQUF5QiwyQ0FBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDJDQUFLO0FBQzlDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkNBQUssNkJBQTZCLDJDQUFLO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQix5QkFBeUIsMkNBQUs7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywyQ0FBSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCx1RUFBOEI7QUFDakY7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsMkNBQUs7QUFDN0M7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJpZXMvc2FuaXRpemVRdWVyeVZhbHVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGVzIH0gZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IHsgY3JlYXRlQXJyYXlGcm9tQ29tbWFEZWxpbmVhdGVkIH0gZnJvbSAncGF5bG9hZCc7XG5jb25zdCBidWlsZEV4aXN0c1F1ZXJ5ID0gKGZvcm1hdHRlZFZhbHVlLCBwYXRoLCB0cmVhdEVtcHR5U3RyaW5nID0gdHJ1ZSk9PntcbiAgICBpZiAoZm9ybWF0dGVkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhd1F1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgJGFuZDogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXhpc3RzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRuZTogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAuLi50cmVhdEVtcHR5U3RyaW5nID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbmU6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdIDogW11cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhd1F1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRleGlzdHM6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlcTogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAuLi50cmVhdEVtcHR5U3RyaW5nID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXE6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdIDogW11cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIHJldHVybnMgbmVzdGVkRmllbGQgRmllbGQgb2JqZWN0IGZyb20gYmxvY2tzLm5lc3RlZEZpZWxkIHBhdGggYmVjYXVzZSBnZXRMb2NhbGl6ZWRQYXRocyBzcGxpdHMgdGhlbSBvbmx5IGZvciByZWxhdGlvbnNoaXBzXG5jb25zdCBnZXRGaWVsZEZyb21TZWdtZW50cyA9ICh7IGZpZWxkLCBzZWdtZW50cyB9KT0+e1xuICAgIGlmICgnYmxvY2tzJyBpbiBmaWVsZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIGZpZWxkLmJsb2Nrcyl7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGdldEZpZWxkRnJvbVNlZ21lbnRzKHtcbiAgICAgICAgICAgICAgICBmaWVsZDogYmxvY2ssXG4gICAgICAgICAgICAgICAgc2VnbWVudHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgnZmllbGRzJyBpbiBmaWVsZCkge1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgZm91bmRGaWVsZCA9IGZpZWxkLmZsYXR0ZW5lZEZpZWxkcy5maW5kKChlYWNoKT0+ZWFjaC5uYW1lID09PSBzZWdtZW50c1tpXSk7XG4gICAgICAgICAgICBpZiAoIWZvdW5kRmllbGQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3VuZEZpZWxkICYmIHNlZ21lbnRzLmxlbmd0aCAtIDEgPT09IGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRGaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RmllbGRGcm9tU2VnbWVudHMoe1xuICAgICAgICAgICAgICAgIGZpZWxkOiBmb3VuZEZpZWxkLFxuICAgICAgICAgICAgICAgIHNlZ21lbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgc2FuaXRpemVRdWVyeVZhbHVlID0gKHsgZmllbGQsIGhhc0N1c3RvbUlELCBsb2NhbGUsIG9wZXJhdG9yLCBwYXRoLCBwYXlsb2FkLCB2YWwgfSk9PntcbiAgICBsZXQgZm9ybWF0dGVkVmFsdWUgPSB2YWw7XG4gICAgbGV0IGZvcm1hdHRlZE9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgaWYgKFtcbiAgICAgICAgJ2FycmF5JyxcbiAgICAgICAgJ2Jsb2NrcycsXG4gICAgICAgICdncm91cCcsXG4gICAgICAgICd0YWInXG4gICAgXS5pbmNsdWRlcyhmaWVsZC50eXBlKSAmJiBwYXRoLmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7XG4gICAgICAgIGNvbnN0IGZvdW5kRmllbGQgPSBnZXRGaWVsZEZyb21TZWdtZW50cyh7XG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIHNlZ21lbnRzXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZm91bmRGaWVsZCkge1xuICAgICAgICAgICAgZmllbGQgPSBmb3VuZEZpZWxkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIERpc3JlZ2FyZCBpbnZhbGlkIF9pZHNcbiAgICBpZiAocGF0aCA9PT0gJ19pZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbC5zcGxpdCgnLCcpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKCFoYXNDdXN0b21JRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBUeXBlcy5PYmplY3RJZC5pc1ZhbGlkKHZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogZm9ybWF0dGVkT3BlcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChbXG4gICAgICAgICAgICAgICAgICAgICAgICAnaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25vdF9pbidcbiAgICAgICAgICAgICAgICAgICAgXS5pbmNsdWRlcyhvcGVyYXRvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gY3JlYXRlQXJyYXlGcm9tQ29tbWFEZWxpbmVhdGVkKGZvcm1hdHRlZFZhbHVlKS5tYXAoKGlkKT0+bmV3IFR5cGVzLk9iamVjdElkKGlkKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IG5ldyBUeXBlcy5PYmplY3RJZCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkTnVtYmVyID0gcGFyc2VGbG9hdCh2YWwpO1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VkTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IGZvcm1hdHRlZE9wZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWwpIHx8IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbC5zcGxpdCgnLCcpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gY3JlYXRlQXJyYXlGcm9tQ29tbWFEZWxpbmVhdGVkKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdHRlZFZhbHVlLnJlZHVjZSgoZm9ybWF0dGVkVmFsdWVzLCBpblZhbCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0N1c3RvbUlEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChUeXBlcy5PYmplY3RJZC5pc1ZhbGlkKGluVmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWVzLnB1c2gobmV3IFR5cGVzLk9iamVjdElkKGluVmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZE51bWJlciA9IHBhcnNlRmxvYXQoaW5WYWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZWROdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZXMucHVzaChwYXJzZWROdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWVzLnB1c2goaW5WYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWVzO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENhc3QgaW5jb21pbmcgdmFsdWVzIGFzIHByb3BlciBzZWFyY2hhYmxlIHR5cGVzXG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdjaGVja2JveCcgJiYgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHZhbC50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsLnRvTG93ZXJDYXNlKCkgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKFtcbiAgICAgICAgJ2FsbCcsXG4gICAgICAgICdpbicsXG4gICAgICAgICdub3RfaW4nXG4gICAgXS5pbmNsdWRlcyhvcGVyYXRvcikgJiYgdHlwZW9mIGZvcm1hdHRlZFZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGNyZWF0ZUFycmF5RnJvbUNvbW1hRGVsaW5lYXRlZChmb3JtYXR0ZWRWYWx1ZSk7XG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZS5tYXAoKGFycmF5VmFsKT0+cGFyc2VGbG9hdChhcnJheVZhbCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmaWVsZC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdHRlZFZhbHVlID09PSAnc3RyaW5nJyAmJiBvcGVyYXRvciAhPT0gJ2V4aXN0cycpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gTnVtYmVyKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnZXhpc3RzJykge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB2YWwgPT09ICd0cnVlJyA/IHRydWUgOiB2YWwgPT09ICdmYWxzZScgPyBmYWxzZSA6IEJvb2xlYW4odmFsKTtcbiAgICAgICAgICAgIHJldHVybiBidWlsZEV4aXN0c1F1ZXJ5KGZvcm1hdHRlZFZhbHVlLCBwYXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2RhdGUnICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIG9wZXJhdG9yICE9PSAnZXhpc3RzJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IG5ldyBEYXRlKHZhbCk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oRGF0ZS5wYXJzZShmb3JtYXR0ZWRWYWx1ZSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChbXG4gICAgICAgICdyZWxhdGlvbnNoaXAnLFxuICAgICAgICAndXBsb2FkJ1xuICAgIF0uaW5jbHVkZXMoZmllbGQudHlwZSkpIHtcbiAgICAgICAgaWYgKHZhbCA9PT0gJ251bGwnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT2JqZWN0IGVxdWFsaXR5IHJlcXVpcmVzIHRoZSB2YWx1ZSB0byBiZSB0aGUgZmlyc3Qga2V5IGluIHRoZSBvYmplY3QgdGhhdCBpcyBiZWluZyBxdWVyaWVkLlxuICAgICAgICBpZiAob3BlcmF0b3IgPT09ICdlcXVhbHMnICYmIGZvcm1hdHRlZFZhbHVlICYmIHR5cGVvZiBmb3JtYXR0ZWRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgZm9ybWF0dGVkVmFsdWUudmFsdWUgJiYgZm9ybWF0dGVkVmFsdWUucmVsYXRpb25Ubykge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gZm9ybWF0dGVkVmFsdWU7XG4gICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gVHlwZXMuT2JqZWN0SWQuaXNWYWxpZCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlLnZhbHVlID0gbmV3IFR5cGVzLk9iamVjdElkKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsb2NhbGl6ZWRQYXRoID0gcGF0aDtcbiAgICAgICAgICAgIGlmIChmaWVsZC5sb2NhbGl6ZWQgJiYgcGF5bG9hZC5jb25maWcubG9jYWxpemF0aW9uICYmIGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIGxvY2FsaXplZFBhdGggPSBgJHtwYXRofS4ke2xvY2FsZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYXdRdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbG9jYWxpemVkUGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVxOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGF1dG8gc29ydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8gdmFsdWU6IGZvcm1hdHRlZFZhbHVlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25UbzogZm9ybWF0dGVkVmFsdWUucmVsYXRpb25Ub1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbG9jYWxpemVkUGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVxOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvblRvOiBmb3JtYXR0ZWRWYWx1ZS5yZWxhdGlvblRvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbGF0aW9uVG8gPSBmaWVsZC5yZWxhdGlvblRvO1xuICAgICAgICBpZiAoW1xuICAgICAgICAgICAgJ2luJyxcbiAgICAgICAgICAgICdub3RfaW4nXG4gICAgICAgIF0uaW5jbHVkZXMob3BlcmF0b3IpICYmIEFycmF5LmlzQXJyYXkoZm9ybWF0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdHRlZFZhbHVlLnJlZHVjZSgoZm9ybWF0dGVkVmFsdWVzLCBpblZhbCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIWluVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVsYXRpb25UbyA9PT0gJ3N0cmluZycgJiYgcGF5bG9hZC5jb2xsZWN0aW9uc1tyZWxhdGlvblRvXS5jdXN0b21JRFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY29sbGVjdGlvbnNbcmVsYXRpb25Ub10uY3VzdG9tSURUeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkTnVtYmVyID0gcGFyc2VGbG9hdChpblZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZWROdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWVzLnB1c2gocGFyc2VkTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlcy5wdXNoKGluVmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFZhbHVlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVsYXRpb25UbykgJiYgcmVsYXRpb25Uby5zb21lKChyZWxhdGlvblRvKT0+ISFwYXlsb2FkLmNvbGxlY3Rpb25zW3JlbGF0aW9uVG9dLmN1c3RvbUlEVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFR5cGVzLk9iamVjdElkLmlzVmFsaWQoaW5WYWwudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlcy5wdXNoKG5ldyBUeXBlcy5PYmplY3RJZChpblZhbCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWVzLnB1c2goaW5WYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChUeXBlcy5PYmplY3RJZC5pc1ZhbGlkKGluVmFsLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlcy5wdXNoKG5ldyBUeXBlcy5PYmplY3RJZChpblZhbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWVzO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChbXG4gICAgICAgICAgICAnY29udGFpbnMnLFxuICAgICAgICAgICAgJ2VxdWFscycsXG4gICAgICAgICAgICAnbGlrZScsXG4gICAgICAgICAgICAnbm90X2VxdWFscydcbiAgICAgICAgXS5pbmNsdWRlcyhvcGVyYXRvcikgJiYgKCFBcnJheS5pc0FycmF5KHJlbGF0aW9uVG8pIHx8ICFwYXRoLmVuZHNXaXRoKCcucmVsYXRpb25UbycpKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWxhdGlvblRvID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1c3RvbUlEVHlwZSA9IHBheWxvYWQuY29sbGVjdGlvbnNbcmVsYXRpb25Ub10uY3VzdG9tSURUeXBlO1xuICAgICAgICAgICAgICAgIGlmIChjdXN0b21JRFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbUlEVHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gcGFyc2VGbG9hdCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihmb3JtYXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogZm9ybWF0dGVkT3BlcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghVHlwZXMuT2JqZWN0SWQuaXNWYWxpZChmb3JtYXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IGZvcm1hdHRlZE9wZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gbmV3IFR5cGVzLk9iamVjdElkKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0N1c3RvbUlEVHlwZSA9IHJlbGF0aW9uVG8uc29tZSgocmVsYXRpb25Ubyk9PiEhcGF5bG9hZC5jb2xsZWN0aW9uc1tyZWxhdGlvblRvXS5jdXN0b21JRFR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNDdXN0b21JRFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBOdW1iZXIodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVzLk9iamVjdElkLmlzVmFsaWQodmFsKSA/IG5ldyBUeXBlcy5PYmplY3RJZCh2YWwpIDogdmFsXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkT3BlcmF0b3IgPSBvcGVyYXRvciA9PT0gJ25vdF9lcXVhbHMnID8gJ25vdF9pbicgOiAnaW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oZm9ybWF0dGVkTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlLnB1c2goZm9ybWF0dGVkTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghVHlwZXMuT2JqZWN0SWQuaXNWYWxpZChmb3JtYXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IGZvcm1hdHRlZE9wZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gbmV3IFR5cGVzLk9iamVjdElkKGZvcm1hdHRlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gU2V0IHVwIHNwZWNpZmljIGZvcm1hdHRpbmcgbmVjZXNzYXJ5IGJ5IG9wZXJhdG9yc1xuICAgIGlmIChvcGVyYXRvciA9PT0gJ25lYXInKSB7XG4gICAgICAgIGxldCBsbmc7XG4gICAgICAgIGxldCBsYXQ7XG4gICAgICAgIGxldCBtYXhEaXN0YW5jZTtcbiAgICAgICAgbGV0IG1pbkRpc3RhbmNlO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmb3JtYXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIFtsbmcsIGxhdCwgbWF4RGlzdGFuY2UsIG1pbkRpc3RhbmNlXSA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZm9ybWF0dGVkVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBbbG5nLCBsYXQsIG1heERpc3RhbmNlLCBtaW5EaXN0YW5jZV0gPSBjcmVhdGVBcnJheUZyb21Db21tYURlbGluZWF0ZWQoZm9ybWF0dGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsbmcgPT0gbnVsbCB8fCBsYXQgPT0gbnVsbCB8fCBtYXhEaXN0YW5jZSA9PSBudWxsICYmIG1pbkRpc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgJGdlb21ldHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGxuZyksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGxhdClcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZS4kbWF4RGlzdGFuY2UgPSBwYXJzZUZsb2F0KG1heERpc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaW5EaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlLiRtaW5EaXN0YW5jZSA9IHBhcnNlRmxvYXQobWluRGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcGVyYXRvciA9PT0gJ3dpdGhpbicgfHwgb3BlcmF0b3IgPT09ICdpbnRlcnNlY3RzJykge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHtcbiAgICAgICAgICAgICRnZW9tZXRyeTogZm9ybWF0dGVkVmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHBhdGggIT09ICdfaWQnIHx8IHBhdGggPT09ICdfaWQnICYmIGhhc0N1c3RvbUlEICYmIGZpZWxkLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICBpZiAob3BlcmF0b3IgPT09ICdjb250YWlucycgJiYgIVR5cGVzLk9iamVjdElkLmlzVmFsaWQoZm9ybWF0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAkb3B0aW9uczogJ2knLFxuICAgICAgICAgICAgICAgICRyZWdleDogZm9ybWF0dGVkVmFsdWUucmVwbGFjZSgvW1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0b3IgPT09ICdleGlzdHMnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdHRlZFZhbHVlID09PSAndHJ1ZScgfHwgZm9ybWF0dGVkVmFsdWUgPT09IHRydWU7XG4gICAgICAgICAgICAvLyBfaWQgY2FuJ3QgYmUgZW1wdHkgc3RyaW5nLCB3aWxsIGVycm9yIENhc3QgdG8gT2JqZWN0SWQgZmFpbGVkIGZvciB2YWx1ZSBcIlwiXG4gICAgICAgICAgICByZXR1cm4gYnVpbGRFeGlzdHNRdWVyeShmb3JtYXR0ZWRWYWx1ZSwgcGF0aCwgIVtcbiAgICAgICAgICAgICAgICAncmVsYXRpb25zaGlwJyxcbiAgICAgICAgICAgICAgICAndXBsb2FkJ1xuICAgICAgICAgICAgXS5pbmNsdWRlcyhmaWVsZC50eXBlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKChwYXRoID09PSAnX2lkJyB8fCBwYXRoID09PSAncGFyZW50JykgJiYgb3BlcmF0b3IgPT09ICdsaWtlJyAmJiBmb3JtYXR0ZWRWYWx1ZS5sZW5ndGggPT09IDI0ICYmICFoYXNDdXN0b21JRCkge1xuICAgICAgICBmb3JtYXR0ZWRPcGVyYXRvciA9ICdlcXVhbHMnO1xuICAgIH1cbiAgICBpZiAob3BlcmF0b3IgPT09ICdleGlzdHMnKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gZm9ybWF0dGVkVmFsdWUgPT09ICd0cnVlJyB8fCBmb3JtYXR0ZWRWYWx1ZSA9PT0gdHJ1ZTtcbiAgICAgICAgLy8gQ2xlYXJhYmxlIGZpZWxkc1xuICAgICAgICBpZiAoW1xuICAgICAgICAgICAgJ3JlbGF0aW9uc2hpcCcsXG4gICAgICAgICAgICAnc2VsZWN0JyxcbiAgICAgICAgICAgICd1cGxvYWQnXG4gICAgICAgIF0uaW5jbHVkZXMoZmllbGQudHlwZSkpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXR0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJhd1F1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRleGlzdHM6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRuZTogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3UXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3BhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXhpc3RzOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVxOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG9wZXJhdG9yOiBmb3JtYXR0ZWRPcGVyYXRvcixcbiAgICAgICAgdmFsOiBmb3JtYXR0ZWRWYWx1ZVxuICAgIH07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW5pdGl6ZVF1ZXJ5VmFsdWUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/sanitizeQueryValue.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queryDrafts.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queryDrafts.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryDrafts: () => (/* binding */ queryDrafts)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/flattenWhereToOperators.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/database/combineQueries.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n/* harmony import */ var _utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/buildJoinAggregation.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n\n\n\n\n\n\nconst queryDrafts = async function queryDrafts({ collection, joins, limit, locale, page, pagination, req, select, sort: sortArg, where }) {\n    const VersionModel = this.versions[collection];\n    const collectionConfig = this.payload.collections[collection].config;\n    const options = {\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_3__.getSession)(this, req)\n    };\n    let hasNearConstraint;\n    let sort;\n    if (where) {\n        const constraints = (0,payload__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(where);\n        hasNearConstraint = constraints.some((prop)=>Object.keys(prop).some((key)=>key === 'near'));\n    }\n    if (!hasNearConstraint) {\n        sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n            config: this.payload.config,\n            fields: collectionConfig.flattenedFields,\n            locale,\n            sort: sortArg || collectionConfig.defaultSort,\n            timestamps: true\n        });\n    }\n    const combinedWhere = (0,payload__WEBPACK_IMPORTED_MODULE_6__.combineQueries)({\n        latest: {\n            equals: true\n        }\n    }, where);\n    const versionQuery = await VersionModel.buildQuery({\n        locale,\n        payload: this.payload,\n        where: combinedWhere\n    });\n    const projection = (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_2__.buildProjectionFromSelect)({\n        adapter: this,\n        fields: (0,payload__WEBPACK_IMPORTED_MODULE_7__.buildVersionCollectionFields)(this.payload.config, collectionConfig, true),\n        select\n    });\n    // useEstimatedCount is faster, but not accurate, as it ignores any filters. It is thus set to true if there are no filters.\n    const useEstimatedCount = hasNearConstraint || !versionQuery || Object.keys(versionQuery).length === 0;\n    const paginationOptions = {\n        lean: true,\n        leanWithId: true,\n        options,\n        page,\n        pagination,\n        projection,\n        sort,\n        useEstimatedCount\n    };\n    if (this.collation) {\n        const defaultLocale = 'en';\n        paginationOptions.collation = {\n            locale: locale && locale !== 'all' && locale !== '*' ? locale : defaultLocale,\n            ...this.collation\n        };\n    }\n    if (!useEstimatedCount && Object.keys(versionQuery).length === 0 && this.disableIndexHints !== true) {\n        // Improve the performance of the countDocuments query which is used if useEstimatedCount is set to false by adding\n        // a hint. By default, if no hint is provided, MongoDB does not use an indexed field to count the returned documents,\n        // which makes queries very slow. This only happens when no query (filter) is provided. If one is provided, it uses\n        // the correct indexed field\n        paginationOptions.useCustomCountFn = ()=>{\n            return Promise.resolve(VersionModel.countDocuments(versionQuery, {\n                hint: {\n                    _id: 1\n                }\n            }));\n        };\n    }\n    if (limit > 0) {\n        paginationOptions.limit = limit;\n        // limit must also be set here, it's ignored when pagination is false\n        paginationOptions.options.limit = limit;\n    }\n    let result;\n    const aggregate = await (0,_utilities_buildJoinAggregation_js__WEBPACK_IMPORTED_MODULE_1__.buildJoinAggregation)({\n        adapter: this,\n        collection,\n        collectionConfig,\n        joins,\n        locale,\n        projection,\n        query: versionQuery,\n        versions: true\n    });\n    // build join aggregation\n    if (aggregate) {\n        result = await VersionModel.aggregatePaginate(VersionModel.aggregate(aggregate), paginationOptions);\n    } else {\n        result = await VersionModel.paginate(versionQuery, paginationOptions);\n    }\n    const docs = JSON.parse(JSON.stringify(result.docs));\n    return {\n        ...result,\n        docs: docs.map((doc)=>{\n            doc = {\n                _id: doc.parent,\n                id: doc.parent,\n                ...doc.version\n            };\n            return (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_4__.sanitizeInternalFields)(doc);\n        })\n    };\n};\n\n//# sourceMappingURL=queryDrafts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJ5RHJhZnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFnRztBQUNuQztBQUNjO0FBQ1U7QUFDOUI7QUFDd0I7QUFDeEUsaURBQWlELHVGQUF1RjtBQUMvSTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEVBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDBCQUEwQix1REFBYztBQUN4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLGtHQUF5QjtBQUNoRDtBQUNBLGdCQUFnQixxRUFBNEI7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdGQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRGQUFzQjtBQUN6QyxTQUFTO0FBQ1Q7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3F1ZXJ5RHJhZnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMsIGNvbWJpbmVRdWVyaWVzLCBmbGF0dGVuV2hlcmVUb09wZXJhdG9ycyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgYnVpbGRTb3J0UGFyYW0gfSBmcm9tICcuL3F1ZXJpZXMvYnVpbGRTb3J0UGFyYW0uanMnO1xuaW1wb3J0IHsgYnVpbGRKb2luQWdncmVnYXRpb24gfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZEpvaW5BZ2dyZWdhdGlvbi5qcyc7XG5pbXBvcnQgeyBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0IH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdC5qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUludGVybmFsRmllbGRzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVJbnRlcm5hbEZpZWxkcy5qcyc7XG5leHBvcnQgY29uc3QgcXVlcnlEcmFmdHMgPSBhc3luYyBmdW5jdGlvbiBxdWVyeURyYWZ0cyh7IGNvbGxlY3Rpb24sIGpvaW5zLCBsaW1pdCwgbG9jYWxlLCBwYWdlLCBwYWdpbmF0aW9uLCByZXEsIHNlbGVjdCwgc29ydDogc29ydEFyZywgd2hlcmUgfSkge1xuICAgIGNvbnN0IFZlcnNpb25Nb2RlbCA9IHRoaXMudmVyc2lvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3QgY29sbGVjdGlvbkNvbmZpZyA9IHRoaXMucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jb25maWc7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBsZXQgaGFzTmVhckNvbnN0cmFpbnQ7XG4gICAgbGV0IHNvcnQ7XG4gICAgaWYgKHdoZXJlKSB7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gZmxhdHRlbldoZXJlVG9PcGVyYXRvcnMod2hlcmUpO1xuICAgICAgICBoYXNOZWFyQ29uc3RyYWludCA9IGNvbnN0cmFpbnRzLnNvbWUoKHByb3ApPT5PYmplY3Qua2V5cyhwcm9wKS5zb21lKChrZXkpPT5rZXkgPT09ICduZWFyJykpO1xuICAgIH1cbiAgICBpZiAoIWhhc05lYXJDb25zdHJhaW50KSB7XG4gICAgICAgIHNvcnQgPSBidWlsZFNvcnRQYXJhbSh7XG4gICAgICAgICAgICBjb25maWc6IHRoaXMucGF5bG9hZC5jb25maWcsXG4gICAgICAgICAgICBmaWVsZHM6IGNvbGxlY3Rpb25Db25maWcuZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgc29ydDogc29ydEFyZyB8fCBjb2xsZWN0aW9uQ29uZmlnLmRlZmF1bHRTb3J0LFxuICAgICAgICAgICAgdGltZXN0YW1wczogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgY29tYmluZWRXaGVyZSA9IGNvbWJpbmVRdWVyaWVzKHtcbiAgICAgICAgbGF0ZXN0OiB7XG4gICAgICAgICAgICBlcXVhbHM6IHRydWVcbiAgICAgICAgfVxuICAgIH0sIHdoZXJlKTtcbiAgICBjb25zdCB2ZXJzaW9uUXVlcnkgPSBhd2FpdCBWZXJzaW9uTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZTogY29tYmluZWRXaGVyZVxuICAgIH0pO1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0KHtcbiAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgZmllbGRzOiBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzKHRoaXMucGF5bG9hZC5jb25maWcsIGNvbGxlY3Rpb25Db25maWcsIHRydWUpLFxuICAgICAgICBzZWxlY3RcbiAgICB9KTtcbiAgICAvLyB1c2VFc3RpbWF0ZWRDb3VudCBpcyBmYXN0ZXIsIGJ1dCBub3QgYWNjdXJhdGUsIGFzIGl0IGlnbm9yZXMgYW55IGZpbHRlcnMuIEl0IGlzIHRodXMgc2V0IHRvIHRydWUgaWYgdGhlcmUgYXJlIG5vIGZpbHRlcnMuXG4gICAgY29uc3QgdXNlRXN0aW1hdGVkQ291bnQgPSBoYXNOZWFyQ29uc3RyYWludCB8fCAhdmVyc2lvblF1ZXJ5IHx8IE9iamVjdC5rZXlzKHZlcnNpb25RdWVyeSkubGVuZ3RoID09PSAwO1xuICAgIGNvbnN0IHBhZ2luYXRpb25PcHRpb25zID0ge1xuICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICBsZWFuV2l0aElkOiB0cnVlLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBwYWdlLFxuICAgICAgICBwYWdpbmF0aW9uLFxuICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICBzb3J0LFxuICAgICAgICB1c2VFc3RpbWF0ZWRDb3VudFxuICAgIH07XG4gICAgaWYgKHRoaXMuY29sbGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRMb2NhbGUgPSAnZW4nO1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5jb2xsYXRpb24gPSB7XG4gICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSAmJiBsb2NhbGUgIT09ICdhbGwnICYmIGxvY2FsZSAhPT0gJyonID8gbG9jYWxlIDogZGVmYXVsdExvY2FsZSxcbiAgICAgICAgICAgIC4uLnRoaXMuY29sbGF0aW9uXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghdXNlRXN0aW1hdGVkQ291bnQgJiYgT2JqZWN0LmtleXModmVyc2lvblF1ZXJ5KS5sZW5ndGggPT09IDAgJiYgdGhpcy5kaXNhYmxlSW5kZXhIaW50cyAhPT0gdHJ1ZSkge1xuICAgICAgICAvLyBJbXByb3ZlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgY291bnREb2N1bWVudHMgcXVlcnkgd2hpY2ggaXMgdXNlZCBpZiB1c2VFc3RpbWF0ZWRDb3VudCBpcyBzZXQgdG8gZmFsc2UgYnkgYWRkaW5nXG4gICAgICAgIC8vIGEgaGludC4gQnkgZGVmYXVsdCwgaWYgbm8gaGludCBpcyBwcm92aWRlZCwgTW9uZ29EQiBkb2VzIG5vdCB1c2UgYW4gaW5kZXhlZCBmaWVsZCB0byBjb3VudCB0aGUgcmV0dXJuZWQgZG9jdW1lbnRzLFxuICAgICAgICAvLyB3aGljaCBtYWtlcyBxdWVyaWVzIHZlcnkgc2xvdy4gVGhpcyBvbmx5IGhhcHBlbnMgd2hlbiBubyBxdWVyeSAoZmlsdGVyKSBpcyBwcm92aWRlZC4gSWYgb25lIGlzIHByb3ZpZGVkLCBpdCB1c2VzXG4gICAgICAgIC8vIHRoZSBjb3JyZWN0IGluZGV4ZWQgZmllbGRcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMudXNlQ3VzdG9tQ291bnRGbiA9ICgpPT57XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFZlcnNpb25Nb2RlbC5jb3VudERvY3VtZW50cyh2ZXJzaW9uUXVlcnksIHtcbiAgICAgICAgICAgICAgICBoaW50OiB7XG4gICAgICAgICAgICAgICAgICAgIF9pZDogMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGxpbWl0ID4gMCkge1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgICAgICAvLyBsaW1pdCBtdXN0IGFsc28gYmUgc2V0IGhlcmUsIGl0J3MgaWdub3JlZCB3aGVuIHBhZ2luYXRpb24gaXMgZmFsc2VcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMub3B0aW9ucy5saW1pdCA9IGxpbWl0O1xuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIGNvbnN0IGFnZ3JlZ2F0ZSA9IGF3YWl0IGJ1aWxkSm9pbkFnZ3JlZ2F0aW9uKHtcbiAgICAgICAgYWRhcHRlcjogdGhpcyxcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgY29sbGVjdGlvbkNvbmZpZyxcbiAgICAgICAgam9pbnMsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgcXVlcnk6IHZlcnNpb25RdWVyeSxcbiAgICAgICAgdmVyc2lvbnM6IHRydWVcbiAgICB9KTtcbiAgICAvLyBidWlsZCBqb2luIGFnZ3JlZ2F0aW9uXG4gICAgaWYgKGFnZ3JlZ2F0ZSkge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBWZXJzaW9uTW9kZWwuYWdncmVnYXRlUGFnaW5hdGUoVmVyc2lvbk1vZGVsLmFnZ3JlZ2F0ZShhZ2dyZWdhdGUpLCBwYWdpbmF0aW9uT3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgVmVyc2lvbk1vZGVsLnBhZ2luYXRlKHZlcnNpb25RdWVyeSwgcGFnaW5hdGlvbk9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdCBkb2NzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQuZG9jcykpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgZG9jczogZG9jcy5tYXAoKGRvYyk9PntcbiAgICAgICAgICAgIGRvYyA9IHtcbiAgICAgICAgICAgICAgICBfaWQ6IGRvYy5wYXJlbnQsXG4gICAgICAgICAgICAgICAgaWQ6IGRvYy5wYXJlbnQsXG4gICAgICAgICAgICAgICAgLi4uZG9jLnZlcnNpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gc2FuaXRpemVJbnRlcm5hbEZpZWxkcyhkb2MpO1xuICAgICAgICB9KVxuICAgIH07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeURyYWZ0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queryDrafts.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/beginTransaction.js":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/beginTransaction.js ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   beginTransaction: () => (/* binding */ beginTransaction)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/errors/APIError.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n\n\n// Needs await to fulfill the interface\n// eslint-disable-next-line @typescript-eslint/require-await\nconst beginTransaction = async function beginTransaction(options) {\n    if (!this.connection) {\n        throw new payload__WEBPACK_IMPORTED_MODULE_0__.APIError('beginTransaction called while no connection to the database exists');\n    }\n    const client = this.connection.getClient();\n    const id = (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    if (!this.sessions[id]) {\n        this.sessions[id] = client.startSession();\n    }\n    if (this.sessions[id].inTransaction()) {\n        this.payload.logger.warn('beginTransaction called while transaction already exists');\n    } else {\n        this.sessions[id].startTransaction(options || this.transactionOptions);\n    }\n    return id;\n};\n\n//# sourceMappingURL=beginTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3RyYW5zYWN0aW9ucy9iZWdpblRyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUNEO0FBQ2xDO0FBQ0E7QUFDTztBQUNQO0FBQ0Esa0JBQWtCLDZDQUFRO0FBQzFCO0FBQ0E7QUFDQSxlQUFlLGdEQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC90cmFuc2FjdGlvbnMvYmVnaW5UcmFuc2FjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBUElFcnJvciB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gJ3V1aWQnO1xuLy8gTmVlZHMgYXdhaXQgdG8gZnVsZmlsbCB0aGUgaW50ZXJmYWNlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3JlcXVpcmUtYXdhaXRcbmV4cG9ydCBjb25zdCBiZWdpblRyYW5zYWN0aW9uID0gYXN5bmMgZnVuY3Rpb24gYmVnaW5UcmFuc2FjdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKCdiZWdpblRyYW5zYWN0aW9uIGNhbGxlZCB3aGlsZSBubyBjb25uZWN0aW9uIHRvIHRoZSBkYXRhYmFzZSBleGlzdHMnKTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50ID0gdGhpcy5jb25uZWN0aW9uLmdldENsaWVudCgpO1xuICAgIGNvbnN0IGlkID0gdXVpZCgpO1xuICAgIGlmICghdGhpcy5zZXNzaW9uc1tpZF0pIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uc1tpZF0gPSBjbGllbnQuc3RhcnRTZXNzaW9uKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnNlc3Npb25zW2lkXS5pblRyYW5zYWN0aW9uKCkpIHtcbiAgICAgICAgdGhpcy5wYXlsb2FkLmxvZ2dlci53YXJuKCdiZWdpblRyYW5zYWN0aW9uIGNhbGxlZCB3aGlsZSB0cmFuc2FjdGlvbiBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbnNbaWRdLnN0YXJ0VHJhbnNhY3Rpb24ob3B0aW9ucyB8fCB0aGlzLnRyYW5zYWN0aW9uT3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBpZDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJlZ2luVHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/beginTransaction.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/commitTransaction.js":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/commitTransaction.js ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   commitTransaction: () => (/* binding */ commitTransaction)\n/* harmony export */ });\nconst commitTransaction = async function commitTransaction(id) {\n    if (id instanceof Promise) {\n        return;\n    }\n    if (!this.sessions[id]?.inTransaction()) {\n        return;\n    }\n    await this.sessions[id].commitTransaction();\n    try {\n        await this.sessions[id].endSession();\n    } catch (error) {\n    // ending sessions is only best effort and won't impact anything if it fails since the transaction was committed\n    }\n    delete this.sessions[id];\n};\n\n//# sourceMappingURL=commitTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3RyYW5zYWN0aW9ucy9jb21taXRUcmFuc2FjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC90cmFuc2FjdGlvbnMvY29tbWl0VHJhbnNhY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbW1pdFRyYW5zYWN0aW9uID0gYXN5bmMgZnVuY3Rpb24gY29tbWl0VHJhbnNhY3Rpb24oaWQpIHtcbiAgICBpZiAoaWQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNlc3Npb25zW2lkXT8uaW5UcmFuc2FjdGlvbigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5zZXNzaW9uc1tpZF0uY29tbWl0VHJhbnNhY3Rpb24oKTtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25zW2lkXS5lbmRTZXNzaW9uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBlbmRpbmcgc2Vzc2lvbnMgaXMgb25seSBiZXN0IGVmZm9ydCBhbmQgd29uJ3QgaW1wYWN0IGFueXRoaW5nIGlmIGl0IGZhaWxzIHNpbmNlIHRoZSB0cmFuc2FjdGlvbiB3YXMgY29tbWl0dGVkXG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLnNlc3Npb25zW2lkXTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1pdFRyYW5zYWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/commitTransaction.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/rollbackTransaction.js":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/rollbackTransaction.js ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rollbackTransaction: () => (/* binding */ rollbackTransaction)\n/* harmony export */ });\nconst rollbackTransaction = async function rollbackTransaction(incomingID = '') {\n    let transactionID;\n    if (incomingID instanceof Promise) {\n        transactionID = await incomingID;\n    } else {\n        transactionID = incomingID;\n    }\n    // if multiple operations are using the same transaction, the first will flow through and delete the session.\n    // subsequent calls should be ignored.\n    if (!this.sessions[transactionID]) {\n        return;\n    }\n    // when session exists but is not inTransaction something unexpected is happening to the session\n    if (!this.sessions[transactionID].inTransaction()) {\n        this.payload.logger.warn('rollbackTransaction called when no transaction exists');\n        delete this.sessions[transactionID];\n        return;\n    }\n    // the first call for rollback should be aborted and deleted causing any other operations with the same transaction to fail\n    try {\n        await this.sessions[transactionID].abortTransaction();\n        await this.sessions[transactionID].endSession();\n    } catch (error) {\n    // ignore the error as it is likely a race condition from multiple errors\n    }\n    delete this.sessions[transactionID];\n};\n\n//# sourceMappingURL=rollbackTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3RyYW5zYWN0aW9ucy9yb2xsYmFja1RyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdHJhbnNhY3Rpb25zL3JvbGxiYWNrVHJhbnNhY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHJvbGxiYWNrVHJhbnNhY3Rpb24gPSBhc3luYyBmdW5jdGlvbiByb2xsYmFja1RyYW5zYWN0aW9uKGluY29taW5nSUQgPSAnJykge1xuICAgIGxldCB0cmFuc2FjdGlvbklEO1xuICAgIGlmIChpbmNvbWluZ0lEIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB0cmFuc2FjdGlvbklEID0gYXdhaXQgaW5jb21pbmdJRDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2FjdGlvbklEID0gaW5jb21pbmdJRDtcbiAgICB9XG4gICAgLy8gaWYgbXVsdGlwbGUgb3BlcmF0aW9ucyBhcmUgdXNpbmcgdGhlIHNhbWUgdHJhbnNhY3Rpb24sIHRoZSBmaXJzdCB3aWxsIGZsb3cgdGhyb3VnaCBhbmQgZGVsZXRlIHRoZSBzZXNzaW9uLlxuICAgIC8vIHN1YnNlcXVlbnQgY2FsbHMgc2hvdWxkIGJlIGlnbm9yZWQuXG4gICAgaWYgKCF0aGlzLnNlc3Npb25zW3RyYW5zYWN0aW9uSURdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gd2hlbiBzZXNzaW9uIGV4aXN0cyBidXQgaXMgbm90IGluVHJhbnNhY3Rpb24gc29tZXRoaW5nIHVuZXhwZWN0ZWQgaXMgaGFwcGVuaW5nIHRvIHRoZSBzZXNzaW9uXG4gICAgaWYgKCF0aGlzLnNlc3Npb25zW3RyYW5zYWN0aW9uSURdLmluVHJhbnNhY3Rpb24oKSkge1xuICAgICAgICB0aGlzLnBheWxvYWQubG9nZ2VyLndhcm4oJ3JvbGxiYWNrVHJhbnNhY3Rpb24gY2FsbGVkIHdoZW4gbm8gdHJhbnNhY3Rpb24gZXhpc3RzJyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNlc3Npb25zW3RyYW5zYWN0aW9uSURdO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHRoZSBmaXJzdCBjYWxsIGZvciByb2xsYmFjayBzaG91bGQgYmUgYWJvcnRlZCBhbmQgZGVsZXRlZCBjYXVzaW5nIGFueSBvdGhlciBvcGVyYXRpb25zIHdpdGggdGhlIHNhbWUgdHJhbnNhY3Rpb24gdG8gZmFpbFxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvbnNbdHJhbnNhY3Rpb25JRF0uYWJvcnRUcmFuc2FjdGlvbigpO1xuICAgICAgICBhd2FpdCB0aGlzLnNlc3Npb25zW3RyYW5zYWN0aW9uSURdLmVuZFNlc3Npb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIGlnbm9yZSB0aGUgZXJyb3IgYXMgaXQgaXMgbGlrZWx5IGEgcmFjZSBjb25kaXRpb24gZnJvbSBtdWx0aXBsZSBlcnJvcnNcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuc2Vzc2lvbnNbdHJhbnNhY3Rpb25JRF07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb2xsYmFja1RyYW5zYWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/transactions/rollbackTransaction.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobal.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobal.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateGlobal: () => (/* binding */ updateGlobal)\n/* harmony export */ });\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\nconst updateGlobal = async function updateGlobal({ slug, data, options: optionsArgs = {}, req, select }) {\n    const Model = this.globals;\n    const fields = this.payload.config.globals.find((global)=>global.slug === slug).fields;\n    const options = {\n        ...optionsArgs,\n        lean: true,\n        new: true,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: this.payload.config.globals.find((global)=>global.slug === slug).flattenedFields,\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    let result;\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data,\n        fields\n    });\n    result = await Model.findOneAndUpdate({\n        globalType: slug\n    }, sanitizedData, options);\n    result = JSON.parse(JSON.stringify(result));\n    // custom id type reset\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=updateGlobal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZUdsb2JhbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRjtBQUM5QjtBQUN3QjtBQUNFO0FBQzFFLG1EQUFtRCxxQ0FBcUMsZUFBZTtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0dBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx1QkFBdUIsb0VBQVU7QUFDakM7QUFDQTtBQUNBLDBCQUEwQiw4RkFBdUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RkFBc0I7QUFDbkM7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZUdsb2JhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0IH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdC5qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUludGVybmFsRmllbGRzIH0gZnJvbSAnLi91dGlsaXRpZXMvc2FuaXRpemVJbnRlcm5hbEZpZWxkcy5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplUmVsYXRpb25zaGlwSURzLmpzJztcbmV4cG9ydCBjb25zdCB1cGRhdGVHbG9iYWwgPSBhc3luYyBmdW5jdGlvbiB1cGRhdGVHbG9iYWwoeyBzbHVnLCBkYXRhLCBvcHRpb25zOiBvcHRpb25zQXJncyA9IHt9LCByZXEsIHNlbGVjdCB9KSB7XG4gICAgY29uc3QgTW9kZWwgPSB0aGlzLmdsb2JhbHM7XG4gICAgY29uc3QgZmllbGRzID0gdGhpcy5wYXlsb2FkLmNvbmZpZy5nbG9iYWxzLmZpbmQoKGdsb2JhbCk9Pmdsb2JhbC5zbHVnID09PSBzbHVnKS5maWVsZHM7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9uc0FyZ3MsXG4gICAgICAgIGxlYW46IHRydWUsXG4gICAgICAgIG5ldzogdHJ1ZSxcbiAgICAgICAgcHJvamVjdGlvbjogYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICAgICAgZmllbGRzOiB0aGlzLnBheWxvYWQuY29uZmlnLmdsb2JhbHMuZmluZCgoZ2xvYmFsKT0+Z2xvYmFsLnNsdWcgPT09IHNsdWcpLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgIHNlbGVjdFxuICAgICAgICB9KSxcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyh7XG4gICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZmllbGRzXG4gICAgfSk7XG4gICAgcmVzdWx0ID0gYXdhaXQgTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7XG4gICAgICAgIGdsb2JhbFR5cGU6IHNsdWdcbiAgICB9LCBzYW5pdGl6ZWREYXRhLCBvcHRpb25zKTtcbiAgICByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgIC8vIGN1c3RvbSBpZCB0eXBlIHJlc2V0XG4gICAgcmVzdWx0LmlkID0gcmVzdWx0Ll9pZDtcbiAgICByZXN1bHQgPSBzYW5pdGl6ZUludGVybmFsRmllbGRzKHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0ZUdsb2JhbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobal.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobalVersion.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobalVersion.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateGlobalVersion: () => (/* binding */ updateGlobalVersion)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildGlobalFields.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\nasync function updateGlobalVersion({ id, global: globalSlug, locale, options: optionsArgs = {}, req, select, versionData, where }) {\n    const VersionModel = this.versions[globalSlug];\n    const whereToUse = where || {\n        id: {\n            equals: id\n        }\n    };\n    const currentGlobal = this.payload.config.globals.find((global)=>global.slug === globalSlug);\n    const fields = (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionGlobalFields)(this.payload.config, currentGlobal);\n    const options = {\n        ...optionsArgs,\n        lean: true,\n        new: true,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionGlobalFields)(this.payload.config, currentGlobal, true),\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await VersionModel.buildQuery({\n        locale,\n        payload: this.payload,\n        where: whereToUse\n    });\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: versionData,\n        fields\n    });\n    const doc = await VersionModel.findOneAndUpdate(query, sanitizedData, options);\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n}\n\n//# sourceMappingURL=updateGlobalVersion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZUdsb2JhbFZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUQ7QUFDa0M7QUFDOUI7QUFDMEI7QUFDMUUscUNBQXFDLHlEQUF5RCxtQ0FBbUM7QUFDeEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUVBQXdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtHQUF5QjtBQUM3QztBQUNBLG9CQUFvQixpRUFBd0I7QUFDNUM7QUFDQSxTQUFTO0FBQ1QsdUJBQXVCLG9FQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMEJBQTBCLDhGQUF1QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC91cGRhdGVHbG9iYWxWZXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCB9IGZyb20gJy4vdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJy4vdXRpbGl0aWVzL2dldFNlc3Npb24uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlR2xvYmFsVmVyc2lvbih7IGlkLCBnbG9iYWw6IGdsb2JhbFNsdWcsIGxvY2FsZSwgb3B0aW9uczogb3B0aW9uc0FyZ3MgPSB7fSwgcmVxLCBzZWxlY3QsIHZlcnNpb25EYXRhLCB3aGVyZSB9KSB7XG4gICAgY29uc3QgVmVyc2lvbk1vZGVsID0gdGhpcy52ZXJzaW9uc1tnbG9iYWxTbHVnXTtcbiAgICBjb25zdCB3aGVyZVRvVXNlID0gd2hlcmUgfHwge1xuICAgICAgICBpZDoge1xuICAgICAgICAgICAgZXF1YWxzOiBpZFxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjdXJyZW50R2xvYmFsID0gdGhpcy5wYXlsb2FkLmNvbmZpZy5nbG9iYWxzLmZpbmQoKGdsb2JhbCk9Pmdsb2JhbC5zbHVnID09PSBnbG9iYWxTbHVnKTtcbiAgICBjb25zdCBmaWVsZHMgPSBidWlsZFZlcnNpb25HbG9iYWxGaWVsZHModGhpcy5wYXlsb2FkLmNvbmZpZywgY3VycmVudEdsb2JhbCk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9uc0FyZ3MsXG4gICAgICAgIGxlYW46IHRydWUsXG4gICAgICAgIG5ldzogdHJ1ZSxcbiAgICAgICAgcHJvamVjdGlvbjogYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICAgICAgZmllbGRzOiBidWlsZFZlcnNpb25HbG9iYWxGaWVsZHModGhpcy5wYXlsb2FkLmNvbmZpZywgY3VycmVudEdsb2JhbCwgdHJ1ZSksXG4gICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgfSksXG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBWZXJzaW9uTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZTogd2hlcmVUb1VzZVxuICAgIH0pO1xuICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyh7XG4gICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgZGF0YTogdmVyc2lvbkRhdGEsXG4gICAgICAgIGZpZWxkc1xuICAgIH0pO1xuICAgIGNvbnN0IGRvYyA9IGF3YWl0IFZlcnNpb25Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHF1ZXJ5LCBzYW5pdGl6ZWREYXRhLCBvcHRpb25zKTtcbiAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRvYykpO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gZG9jLl92ZXJpZmljYXRpb25Ub2tlbjtcbiAgICAvLyBjdXN0b20gaWQgdHlwZSByZXNldFxuICAgIHJlc3VsdC5pZCA9IHJlc3VsdC5faWQ7XG4gICAgaWYgKHZlcmlmaWNhdGlvblRva2VuKSB7XG4gICAgICAgIHJlc3VsdC5fdmVyaWZpY2F0aW9uVG9rZW4gPSB2ZXJpZmljYXRpb25Ub2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBkYXRlR2xvYmFsVmVyc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateGlobalVersion.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateOne.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateOne.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateOne: () => (/* binding */ updateOne)\n/* harmony export */ });\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_handleError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/handleError.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js\");\n/* harmony import */ var _utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities/sanitizeInternalFields.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\n\nconst updateOne = async function updateOne({ id, collection, data, locale, options: optionsArgs = {}, req, select, where: whereArg }) {\n    const where = id ? {\n        id: {\n            equals: id\n        }\n    } : whereArg;\n    const Model = this.collections[collection];\n    const fields = this.payload.collections[collection].config.fields;\n    const options = {\n        ...optionsArgs,\n        lean: true,\n        new: true,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: this.payload.collections[collection].config.flattenedFields,\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await Model.buildQuery({\n        locale,\n        payload: this.payload,\n        where\n    });\n    let result;\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_4__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data,\n        fields\n    });\n    try {\n        result = await Model.findOneAndUpdate(query, sanitizedData, options);\n    } catch (error) {\n        (0,_utilities_handleError_js__WEBPACK_IMPORTED_MODULE_2__.handleError)({\n            collection,\n            error,\n            req\n        });\n    }\n    result = JSON.parse(JSON.stringify(result));\n    result.id = result._id;\n    result = (0,_utilities_sanitizeInternalFields_js__WEBPACK_IMPORTED_MODULE_3__.sanitizeInternalFields)(result);\n    return result;\n};\n\n//# sourceMappingURL=updateOne.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZU9uZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUY7QUFDOUI7QUFDRTtBQUNzQjtBQUNFO0FBQzFFLDZDQUE2Qyx1REFBdUQsZ0NBQWdDO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrR0FBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVCQUF1QixvRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMEJBQTBCLDhGQUF1QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTixRQUFRLHNFQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRGQUFzQjtBQUNuQztBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdXBkYXRlT25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QgfSBmcm9tICcuL3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzJztcbmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICcuL3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzJztcbmltcG9ydCB7IGhhbmRsZUVycm9yIH0gZnJvbSAnLi91dGlsaXRpZXMvaGFuZGxlRXJyb3IuanMnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplSW50ZXJuYWxGaWVsZHMuanMnO1xuaW1wb3J0IHsgc2FuaXRpemVSZWxhdGlvbnNoaXBJRHMgfSBmcm9tICcuL3V0aWxpdGllcy9zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcyc7XG5leHBvcnQgY29uc3QgdXBkYXRlT25lID0gYXN5bmMgZnVuY3Rpb24gdXBkYXRlT25lKHsgaWQsIGNvbGxlY3Rpb24sIGRhdGEsIGxvY2FsZSwgb3B0aW9uczogb3B0aW9uc0FyZ3MgPSB7fSwgcmVxLCBzZWxlY3QsIHdoZXJlOiB3aGVyZUFyZyB9KSB7XG4gICAgY29uc3Qgd2hlcmUgPSBpZCA/IHtcbiAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgIGVxdWFsczogaWRcbiAgICAgICAgfVxuICAgIH0gOiB3aGVyZUFyZztcbiAgICBjb25zdCBNb2RlbCA9IHRoaXMuY29sbGVjdGlvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3QgZmllbGRzID0gdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dLmNvbmZpZy5maWVsZHM7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9uc0FyZ3MsXG4gICAgICAgIGxlYW46IHRydWUsXG4gICAgICAgIG5ldzogdHJ1ZSxcbiAgICAgICAgcHJvamVjdGlvbjogYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdCh7XG4gICAgICAgICAgICBhZGFwdGVyOiB0aGlzLFxuICAgICAgICAgICAgZmllbGRzOiB0aGlzLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvbl0uY29uZmlnLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgIHNlbGVjdFxuICAgICAgICB9KSxcbiAgICAgICAgc2Vzc2lvbjogYXdhaXQgZ2V0U2Vzc2lvbih0aGlzLCByZXEpXG4gICAgfTtcbiAgICBjb25zdCBxdWVyeSA9IGF3YWl0IE1vZGVsLmJ1aWxkUXVlcnkoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgd2hlcmVcbiAgICB9KTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyh7XG4gICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZmllbGRzXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgTW9kZWwuZmluZE9uZUFuZFVwZGF0ZShxdWVyeSwgc2FuaXRpemVkRGF0YSwgb3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3Ioe1xuICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgcmVxXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgIHJlc3VsdC5pZCA9IHJlc3VsdC5faWQ7XG4gICAgcmVzdWx0ID0gc2FuaXRpemVJbnRlcm5hbEZpZWxkcyhyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVPbmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateOne.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateVersion.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateVersion.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateVersion: () => (/* binding */ updateVersion)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/versions/buildCollectionFields.js\");\n/* harmony import */ var _utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities/buildProjectionFromSelect.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\");\n/* harmony import */ var _utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities/getSession.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\");\n/* harmony import */ var _utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities/sanitizeRelationshipIDs.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\");\n\n\n\n\nconst updateVersion = async function updateVersion({ id, collection, locale, options: optionsArgs = {}, req, select, versionData, where }) {\n    const VersionModel = this.versions[collection];\n    const whereToUse = where || {\n        id: {\n            equals: id\n        }\n    };\n    const fields = (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionCollectionFields)(this.payload.config, this.payload.collections[collection].config);\n    const options = {\n        ...optionsArgs,\n        lean: true,\n        new: true,\n        projection: (0,_utilities_buildProjectionFromSelect_js__WEBPACK_IMPORTED_MODULE_0__.buildProjectionFromSelect)({\n            adapter: this,\n            fields: (0,payload__WEBPACK_IMPORTED_MODULE_3__.buildVersionCollectionFields)(this.payload.config, this.payload.collections[collection].config, true),\n            select\n        }),\n        session: await (0,_utilities_getSession_js__WEBPACK_IMPORTED_MODULE_1__.getSession)(this, req)\n    };\n    const query = await VersionModel.buildQuery({\n        locale,\n        payload: this.payload,\n        where: whereToUse\n    });\n    const sanitizedData = (0,_utilities_sanitizeRelationshipIDs_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeRelationshipIDs)({\n        config: this.payload.config,\n        data: versionData,\n        fields\n    });\n    const doc = await VersionModel.findOneAndUpdate(query, sanitizedData, options);\n    const result = JSON.parse(JSON.stringify(doc));\n    const verificationToken = doc._verificationToken;\n    // custom id type reset\n    result.id = result._id;\n    if (verificationToken) {\n        result._verificationToken = verificationToken;\n    }\n    return result;\n};\n\n//# sourceMappingURL=updateVersion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3VwZGF0ZVZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUQ7QUFDOEI7QUFDOUI7QUFDMEI7QUFDMUUscURBQXFELGlEQUFpRCxtQ0FBbUM7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFFQUE0QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrR0FBeUI7QUFDN0M7QUFDQSxvQkFBb0IscUVBQTRCO0FBQ2hEO0FBQ0EsU0FBUztBQUNULHVCQUF1QixvRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDBCQUEwQiw4RkFBdUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdXBkYXRlVmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0IH0gZnJvbSAnLi91dGlsaXRpZXMvYnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdC5qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0U2Vzc2lvbi5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyB9IGZyb20gJy4vdXRpbGl0aWVzL3Nhbml0aXplUmVsYXRpb25zaGlwSURzLmpzJztcbmV4cG9ydCBjb25zdCB1cGRhdGVWZXJzaW9uID0gYXN5bmMgZnVuY3Rpb24gdXBkYXRlVmVyc2lvbih7IGlkLCBjb2xsZWN0aW9uLCBsb2NhbGUsIG9wdGlvbnM6IG9wdGlvbnNBcmdzID0ge30sIHJlcSwgc2VsZWN0LCB2ZXJzaW9uRGF0YSwgd2hlcmUgfSkge1xuICAgIGNvbnN0IFZlcnNpb25Nb2RlbCA9IHRoaXMudmVyc2lvbnNbY29sbGVjdGlvbl07XG4gICAgY29uc3Qgd2hlcmVUb1VzZSA9IHdoZXJlIHx8IHtcbiAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgIGVxdWFsczogaWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZmllbGRzID0gYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyh0aGlzLnBheWxvYWQuY29uZmlnLCB0aGlzLnBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvbl0uY29uZmlnKTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zQXJncyxcbiAgICAgICAgbGVhbjogdHJ1ZSxcbiAgICAgICAgbmV3OiB0cnVlLFxuICAgICAgICBwcm9qZWN0aW9uOiBidWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0KHtcbiAgICAgICAgICAgIGFkYXB0ZXI6IHRoaXMsXG4gICAgICAgICAgICBmaWVsZHM6IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHModGhpcy5wYXlsb2FkLmNvbmZpZywgdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25dLmNvbmZpZywgdHJ1ZSksXG4gICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgfSksXG4gICAgICAgIHNlc3Npb246IGF3YWl0IGdldFNlc3Npb24odGhpcywgcmVxKVxuICAgIH07XG4gICAgY29uc3QgcXVlcnkgPSBhd2FpdCBWZXJzaW9uTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkLFxuICAgICAgICB3aGVyZTogd2hlcmVUb1VzZVxuICAgIH0pO1xuICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSBzYW5pdGl6ZVJlbGF0aW9uc2hpcElEcyh7XG4gICAgICAgIGNvbmZpZzogdGhpcy5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgZGF0YTogdmVyc2lvbkRhdGEsXG4gICAgICAgIGZpZWxkc1xuICAgIH0pO1xuICAgIGNvbnN0IGRvYyA9IGF3YWl0IFZlcnNpb25Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHF1ZXJ5LCBzYW5pdGl6ZWREYXRhLCBvcHRpb25zKTtcbiAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRvYykpO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gZG9jLl92ZXJpZmljYXRpb25Ub2tlbjtcbiAgICAvLyBjdXN0b20gaWQgdHlwZSByZXNldFxuICAgIHJlc3VsdC5pZCA9IHJlc3VsdC5faWQ7XG4gICAgaWYgKHZlcmlmaWNhdGlvblRva2VuKSB7XG4gICAgICAgIHJlc3VsdC5fdmVyaWZpY2F0aW9uVG9rZW4gPSB2ZXJpZmljYXRpb25Ub2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0ZVZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/updateVersion.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/upsert.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/upsert.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   upsert: () => (/* binding */ upsert)\n/* harmony export */ });\nconst upsert = async function upsert({ collection, data, locale, req, select, where }) {\n    return this.updateOne({\n        collection,\n        data,\n        locale,\n        options: {\n            upsert: true\n        },\n        req,\n        select,\n        where\n    });\n};\n\n//# sourceMappingURL=upsert.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3Vwc2VydC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sdUNBQXVDLDhDQUE4QztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdXBzZXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB1cHNlcnQgPSBhc3luYyBmdW5jdGlvbiB1cHNlcnQoeyBjb2xsZWN0aW9uLCBkYXRhLCBsb2NhbGUsIHJlcSwgc2VsZWN0LCB3aGVyZSB9KSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlT25lKHtcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgZGF0YSxcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB1cHNlcnQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcmVxLFxuICAgICAgICBzZWxlY3QsXG4gICAgICAgIHdoZXJlXG4gICAgfSk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11cHNlcnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/upsert.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildJoinAggregation: () => (/* binding */ buildJoinAggregation)\n/* harmony export */ });\n/* harmony import */ var _queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../queries/buildSortParam.js */ \"(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/queries/buildSortParam.js\");\n\nconst buildJoinAggregation = async ({ adapter, collection, collectionConfig, joins, limit, locale, projection, query, versions })=>{\n    if (Object.keys(collectionConfig.joins).length === 0 || joins === false) {\n        return;\n    }\n    const joinConfig = adapter.payload.collections[collection].config.joins;\n    const aggregate = [\n        {\n            $sort: {\n                createdAt: -1\n            }\n        }\n    ];\n    if (query) {\n        aggregate.push({\n            $match: query\n        });\n    }\n    if (limit) {\n        aggregate.push({\n            $limit: limit\n        });\n    }\n    for (const slug of Object.keys(joinConfig)){\n        for (const join of joinConfig[slug]){\n            const joinModel = adapter.collections[join.field.collection];\n            if (projection && !projection[join.joinPath]) {\n                continue;\n            }\n            if (joins?.[join.joinPath] === false) {\n                continue;\n            }\n            const { limit: limitJoin = join.field.defaultLimit ?? 10, sort: sortJoin = join.field.defaultSort || collectionConfig.defaultSort, where: whereJoin } = joins?.[join.joinPath] || {};\n            const sort = (0,_queries_buildSortParam_js__WEBPACK_IMPORTED_MODULE_0__.buildSortParam)({\n                config: adapter.payload.config,\n                fields: adapter.payload.collections[slug].config.flattenedFields,\n                locale,\n                sort: sortJoin,\n                timestamps: true\n            });\n            const sortProperty = Object.keys(sort)[0];\n            const sortDirection = sort[sortProperty] === 'asc' ? 1 : -1;\n            const $match = await joinModel.buildQuery({\n                locale,\n                payload: adapter.payload,\n                where: whereJoin\n            });\n            const pipeline = [\n                {\n                    $match\n                },\n                {\n                    $sort: {\n                        [sortProperty]: sortDirection\n                    }\n                }\n            ];\n            if (limitJoin > 0) {\n                pipeline.push({\n                    $limit: limitJoin + 1\n                });\n            }\n            let polymorphicSuffix = '';\n            if (Array.isArray(join.targetField.relationTo)) {\n                polymorphicSuffix = '.value';\n            }\n            if (adapter.payload.config.localization && locale === 'all') {\n                adapter.payload.config.localization.localeCodes.forEach((code)=>{\n                    const as = `${versions ? `version.${join.joinPath}` : join.joinPath}${code}`;\n                    aggregate.push({\n                        $lookup: {\n                            as: `${as}.docs`,\n                            foreignField: `${join.field.on}${code}${polymorphicSuffix}`,\n                            from: adapter.collections[slug].collection.name,\n                            localField: versions ? 'parent' : '_id',\n                            pipeline\n                        }\n                    }, {\n                        $addFields: {\n                            [`${as}.docs`]: {\n                                $map: {\n                                    as: 'doc',\n                                    in: '$$doc._id',\n                                    input: `$${as}.docs`\n                                }\n                            },\n                            [`${as}.hasNextPage`]: limitJoin ? {\n                                $gt: [\n                                    {\n                                        $size: `$${as}.docs`\n                                    },\n                                    limitJoin\n                                ]\n                            } : false\n                        }\n                    });\n                    if (limitJoin > 0) {\n                        aggregate.push({\n                            $addFields: {\n                                [`${as}.docs`]: {\n                                    $slice: [\n                                        `$${as}.docs`,\n                                        limitJoin\n                                    ]\n                                }\n                            }\n                        });\n                    }\n                });\n            } else {\n                const localeSuffix = join.field.localized && adapter.payload.config.localization && locale ? `.${locale}` : '';\n                const as = `${versions ? `version.${join.joinPath}` : join.joinPath}${localeSuffix}`;\n                aggregate.push({\n                    $lookup: {\n                        as: `${as}.docs`,\n                        foreignField: `${join.field.on}${localeSuffix}${polymorphicSuffix}`,\n                        from: adapter.collections[slug].collection.name,\n                        localField: versions ? 'parent' : '_id',\n                        pipeline\n                    }\n                }, {\n                    $addFields: {\n                        [`${as}.docs`]: {\n                            $map: {\n                                as: 'doc',\n                                in: '$$doc._id',\n                                input: `$${as}.docs`\n                            }\n                        },\n                        [`${as}.hasNextPage`]: {\n                            $gt: [\n                                {\n                                    $size: `$${as}.docs`\n                                },\n                                limitJoin || Number.MAX_VALUE\n                            ]\n                        }\n                    }\n                });\n                if (limitJoin > 0) {\n                    aggregate.push({\n                        $addFields: {\n                            [`${as}.docs`]: {\n                                $slice: [\n                                    `$${as}.docs`,\n                                    limitJoin\n                                ]\n                            }\n                        }\n                    });\n                }\n            }\n        }\n    }\n    if (projection) {\n        aggregate.push({\n            $project: projection\n        });\n    }\n    return aggregate;\n};\n\n//# sourceMappingURL=buildJoinAggregation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9idWlsZEpvaW5BZ2dyZWdhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4RDtBQUN2RCxzQ0FBc0MsMEZBQTBGO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOElBQThJO0FBQ2xLLHlCQUF5QiwwRUFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHNCQUFzQixjQUFjLGtCQUFrQixFQUFFLEtBQUs7QUFDL0Y7QUFDQTtBQUNBLG1DQUFtQyxHQUFHO0FBQ3RDLDZDQUE2QyxjQUFjLEVBQUUsS0FBSyxFQUFFLGtCQUFrQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGdDQUFnQyxHQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxHQUFHO0FBQ2xEO0FBQ0EsNkJBQTZCO0FBQzdCLGdDQUFnQyxHQUFHO0FBQ25DO0FBQ0E7QUFDQSxtREFBbUQsR0FBRztBQUN0RCxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsR0FBRztBQUN2QztBQUNBLDRDQUE0QyxHQUFHO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZCxpSEFBaUgsT0FBTztBQUN4SCw4QkFBOEIsc0JBQXNCLGNBQWMsa0JBQWtCLEVBQUUsYUFBYTtBQUNuRztBQUNBO0FBQ0EsK0JBQStCLEdBQUc7QUFDbEMseUNBQXlDLGNBQWMsRUFBRSxhQUFhLEVBQUUsa0JBQWtCO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNEJBQTRCLEdBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLEdBQUc7QUFDOUM7QUFDQSx5QkFBeUI7QUFDekIsNEJBQTRCLEdBQUc7QUFDL0I7QUFDQTtBQUNBLCtDQUErQyxHQUFHO0FBQ2xELGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsR0FBRztBQUNuQztBQUNBLHdDQUF3QyxHQUFHO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9idWlsZEpvaW5BZ2dyZWdhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWlsZFNvcnRQYXJhbSB9IGZyb20gJy4uL3F1ZXJpZXMvYnVpbGRTb3J0UGFyYW0uanMnO1xuZXhwb3J0IGNvbnN0IGJ1aWxkSm9pbkFnZ3JlZ2F0aW9uID0gYXN5bmMgKHsgYWRhcHRlciwgY29sbGVjdGlvbiwgY29sbGVjdGlvbkNvbmZpZywgam9pbnMsIGxpbWl0LCBsb2NhbGUsIHByb2plY3Rpb24sIHF1ZXJ5LCB2ZXJzaW9ucyB9KT0+e1xuICAgIGlmIChPYmplY3Qua2V5cyhjb2xsZWN0aW9uQ29uZmlnLmpvaW5zKS5sZW5ndGggPT09IDAgfHwgam9pbnMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgam9pbkNvbmZpZyA9IGFkYXB0ZXIucGF5bG9hZC5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXS5jb25maWcuam9pbnM7XG4gICAgY29uc3QgYWdncmVnYXRlID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICAkc29ydDoge1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogLTFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF07XG4gICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAgIGFnZ3JlZ2F0ZS5wdXNoKHtcbiAgICAgICAgICAgICRtYXRjaDogcXVlcnlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChsaW1pdCkge1xuICAgICAgICBhZ2dyZWdhdGUucHVzaCh7XG4gICAgICAgICAgICAkbGltaXQ6IGxpbWl0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHNsdWcgb2YgT2JqZWN0LmtleXMoam9pbkNvbmZpZykpe1xuICAgICAgICBmb3IgKGNvbnN0IGpvaW4gb2Ygam9pbkNvbmZpZ1tzbHVnXSl7XG4gICAgICAgICAgICBjb25zdCBqb2luTW9kZWwgPSBhZGFwdGVyLmNvbGxlY3Rpb25zW2pvaW4uZmllbGQuY29sbGVjdGlvbl07XG4gICAgICAgICAgICBpZiAocHJvamVjdGlvbiAmJiAhcHJvamVjdGlvbltqb2luLmpvaW5QYXRoXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGpvaW5zPy5bam9pbi5qb2luUGF0aF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGxpbWl0OiBsaW1pdEpvaW4gPSBqb2luLmZpZWxkLmRlZmF1bHRMaW1pdCA/PyAxMCwgc29ydDogc29ydEpvaW4gPSBqb2luLmZpZWxkLmRlZmF1bHRTb3J0IHx8IGNvbGxlY3Rpb25Db25maWcuZGVmYXVsdFNvcnQsIHdoZXJlOiB3aGVyZUpvaW4gfSA9IGpvaW5zPy5bam9pbi5qb2luUGF0aF0gfHwge307XG4gICAgICAgICAgICBjb25zdCBzb3J0ID0gYnVpbGRTb3J0UGFyYW0oe1xuICAgICAgICAgICAgICAgIGNvbmZpZzogYWRhcHRlci5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGFkYXB0ZXIucGF5bG9hZC5jb2xsZWN0aW9uc1tzbHVnXS5jb25maWcuZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICBzb3J0OiBzb3J0Sm9pbixcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXBzOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNvcnRQcm9wZXJ0eSA9IE9iamVjdC5rZXlzKHNvcnQpWzBdO1xuICAgICAgICAgICAgY29uc3Qgc29ydERpcmVjdGlvbiA9IHNvcnRbc29ydFByb3BlcnR5XSA9PT0gJ2FzYycgPyAxIDogLTE7XG4gICAgICAgICAgICBjb25zdCAkbWF0Y2ggPSBhd2FpdCBqb2luTW9kZWwuYnVpbGRRdWVyeSh7XG4gICAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IGFkYXB0ZXIucGF5bG9hZCxcbiAgICAgICAgICAgICAgICB3aGVyZTogd2hlcmVKb2luXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBpcGVsaW5lID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgJG1hdGNoXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICRzb3J0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbc29ydFByb3BlcnR5XTogc29ydERpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChsaW1pdEpvaW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgcGlwZWxpbmUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICRsaW1pdDogbGltaXRKb2luICsgMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBvbHltb3JwaGljU3VmZml4ID0gJyc7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShqb2luLnRhcmdldEZpZWxkLnJlbGF0aW9uVG8pKSB7XG4gICAgICAgICAgICAgICAgcG9seW1vcnBoaWNTdWZmaXggPSAnLnZhbHVlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZGFwdGVyLnBheWxvYWQuY29uZmlnLmxvY2FsaXphdGlvbiAmJiBsb2NhbGUgPT09ICdhbGwnKSB7XG4gICAgICAgICAgICAgICAgYWRhcHRlci5wYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24ubG9jYWxlQ29kZXMuZm9yRWFjaCgoY29kZSk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXMgPSBgJHt2ZXJzaW9ucyA/IGB2ZXJzaW9uLiR7am9pbi5qb2luUGF0aH1gIDogam9pbi5qb2luUGF0aH0ke2NvZGV9YDtcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvb2t1cDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzOiBgJHthc30uZG9jc2AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWlnbkZpZWxkOiBgJHtqb2luLmZpZWxkLm9ufSR7Y29kZX0ke3BvbHltb3JwaGljU3VmZml4fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogYWRhcHRlci5jb2xsZWN0aW9uc1tzbHVnXS5jb2xsZWN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxGaWVsZDogdmVyc2lvbnMgPyAncGFyZW50JyA6ICdfaWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhZGRGaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYCR7YXN9LmRvY3NgXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWFwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhczogJ2RvYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbjogJyQkZG9jLl9pZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogYCQke2FzfS5kb2NzYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYCR7YXN9Lmhhc05leHRQYWdlYF06IGxpbWl0Sm9pbiA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGd0OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNpemU6IGAkJHthc30uZG9jc2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdEpvaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbWl0Sm9pbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYWRkRmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtgJHthc30uZG9jc2BdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2xpY2U6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJCR7YXN9LmRvY3NgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0Sm9pblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxlU3VmZml4ID0gam9pbi5maWVsZC5sb2NhbGl6ZWQgJiYgYWRhcHRlci5wYXlsb2FkLmNvbmZpZy5sb2NhbGl6YXRpb24gJiYgbG9jYWxlID8gYC4ke2xvY2FsZX1gIDogJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgYXMgPSBgJHt2ZXJzaW9ucyA/IGB2ZXJzaW9uLiR7am9pbi5qb2luUGF0aH1gIDogam9pbi5qb2luUGF0aH0ke2xvY2FsZVN1ZmZpeH1gO1xuICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgJGxvb2t1cDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXM6IGAke2FzfS5kb2NzYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVpZ25GaWVsZDogYCR7am9pbi5maWVsZC5vbn0ke2xvY2FsZVN1ZmZpeH0ke3BvbHltb3JwaGljU3VmZml4fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBhZGFwdGVyLmNvbGxlY3Rpb25zW3NsdWddLmNvbGxlY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsRmllbGQ6IHZlcnNpb25zID8gJ3BhcmVudCcgOiAnX2lkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVsaW5lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICRhZGRGaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtgJHthc30uZG9jc2BdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhczogJ2RvYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluOiAnJCRkb2MuX2lkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGAkJHthc30uZG9jc2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW2Ake2FzfS5oYXNOZXh0UGFnZWBdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGd0OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaXplOiBgJCR7YXN9LmRvY3NgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0Sm9pbiB8fCBOdW1iZXIuTUFYX1ZBTFVFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGxpbWl0Sm9pbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgJGFkZEZpZWxkczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtgJHthc30uZG9jc2BdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzbGljZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCQke2FzfS5kb2NzYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0Sm9pblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2plY3Rpb24pIHtcbiAgICAgICAgYWdncmVnYXRlLnB1c2goe1xuICAgICAgICAgICAgJHByb2plY3Q6IHByb2plY3Rpb25cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhZ2dyZWdhdGU7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZEpvaW5BZ2dyZWdhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildJoinAggregation.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildProjectionFromSelect: () => (/* binding */ buildProjectionFromSelect)\n/* harmony export */ });\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/fields/config/types.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/deepCopyObject.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/getSelectMode.js\");\n\nconst addFieldToProjection = ({ adapter, databaseSchemaPath, field, projection, withinLocalizedField })=>{\n    const { config } = adapter.payload;\n    if (withinLocalizedField && config.localization) {\n        for (const locale of config.localization.localeCodes){\n            const localeDatabaseSchemaPath = databaseSchemaPath.replace('<locale>', locale);\n            projection[`${localeDatabaseSchemaPath}${field.name}`] = true;\n        }\n    } else {\n        projection[`${databaseSchemaPath}${field.name}`] = true;\n    }\n};\nconst traverseFields = ({ adapter, databaseSchemaPath = '', fields, projection, select, selectAllOnCurrentLevel = false, selectMode, withinLocalizedField = false })=>{\n    for (const field of fields){\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(field)) {\n            if (selectMode === 'include') {\n                if (select[field.name] === true || selectAllOnCurrentLevel) {\n                    addFieldToProjection({\n                        adapter,\n                        databaseSchemaPath,\n                        field,\n                        projection,\n                        withinLocalizedField\n                    });\n                    continue;\n                }\n                if (!select[field.name]) {\n                    continue;\n                }\n            }\n            if (selectMode === 'exclude') {\n                if (typeof select[field.name] === 'undefined') {\n                    addFieldToProjection({\n                        adapter,\n                        databaseSchemaPath,\n                        field,\n                        projection,\n                        withinLocalizedField\n                    });\n                    continue;\n                }\n                if (select[field.name] === false) {\n                    continue;\n                }\n            }\n        }\n        let fieldDatabaseSchemaPath = databaseSchemaPath;\n        let fieldWithinLocalizedField = withinLocalizedField;\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(field)) {\n            fieldDatabaseSchemaPath = `${databaseSchemaPath}${field.name}.`;\n            if (field.localized) {\n                fieldDatabaseSchemaPath = `${fieldDatabaseSchemaPath}<locale>.`;\n                fieldWithinLocalizedField = true;\n            }\n        }\n        switch(field.type){\n            case 'array':\n            case 'group':\n            case 'tab':\n                {\n                    const fieldSelect = select[field.name];\n                    if (field.type === 'array' && selectMode === 'include') {\n                        fieldSelect['id'] = true;\n                    }\n                    traverseFields({\n                        adapter,\n                        databaseSchemaPath: fieldDatabaseSchemaPath,\n                        fields: field.flattenedFields,\n                        projection,\n                        select: fieldSelect,\n                        selectMode,\n                        withinLocalizedField: fieldWithinLocalizedField\n                    });\n                    break;\n                }\n            case 'blocks':\n                {\n                    const blocksSelect = select[field.name];\n                    for (const block of field.blocks){\n                        if (selectMode === 'include' && blocksSelect[block.slug] === true || selectMode === 'exclude' && typeof blocksSelect[block.slug] === 'undefined') {\n                            traverseFields({\n                                adapter,\n                                databaseSchemaPath: fieldDatabaseSchemaPath,\n                                fields: block.flattenedFields,\n                                projection,\n                                select: {},\n                                selectAllOnCurrentLevel: true,\n                                selectMode: 'include',\n                                withinLocalizedField: fieldWithinLocalizedField\n                            });\n                            continue;\n                        }\n                        let blockSelectMode = selectMode;\n                        if (selectMode === 'exclude' && blocksSelect[block.slug] === false) {\n                            blockSelectMode = 'include';\n                        }\n                        if (typeof blocksSelect[block.slug] !== 'object') {\n                            blocksSelect[block.slug] = {};\n                        }\n                        if (blockSelectMode === 'include') {\n                            blocksSelect[block.slug]['id'] = true;\n                            blocksSelect[block.slug]['blockType'] = true;\n                        }\n                        traverseFields({\n                            adapter,\n                            databaseSchemaPath: fieldDatabaseSchemaPath,\n                            fields: block.flattenedFields,\n                            projection,\n                            select: blocksSelect[block.slug],\n                            selectMode: blockSelectMode,\n                            withinLocalizedField: fieldWithinLocalizedField\n                        });\n                    }\n                    break;\n                }\n            default:\n                break;\n        }\n    }\n};\nconst buildProjectionFromSelect = ({ adapter, fields, select })=>{\n    if (!select) {\n        return;\n    }\n    const projection = {\n        _id: true\n    };\n    traverseFields({\n        adapter,\n        fields,\n        projection,\n        // Clone to safely mutate it later\n        select: (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.deepCopyObjectSimple)(select),\n        selectMode: (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.getSelectMode)(select)\n    });\n    return projection;\n};\n\n//# sourceMappingURL=buildProjectionFromSelect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9idWlsZFByb2plY3Rpb25Gcm9tU2VsZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUY7QUFDdkYsZ0NBQWdDLHNFQUFzRTtBQUN0RyxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlCQUF5QixFQUFFLFdBQVc7QUFDaEU7QUFDQSxNQUFNO0FBQ04sc0JBQXNCLG1CQUFtQixFQUFFLFdBQVc7QUFDdEQ7QUFDQTtBQUNBLDBCQUEwQix5SUFBeUk7QUFDbks7QUFDQSxZQUFZLGdFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZ0I7QUFDNUIseUNBQXlDLG1CQUFtQixFQUFFLFdBQVc7QUFDekU7QUFDQSw2Q0FBNkMsd0JBQXdCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFDQUFxQyx5QkFBeUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvRUFBb0I7QUFDcEMsb0JBQW9CLDZEQUFhO0FBQ2pDLEtBQUs7QUFDTDtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdXRpbGl0aWVzL2J1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVlcENvcHlPYmplY3RTaW1wbGUsIGZpZWxkQWZmZWN0c0RhdGEsIGdldFNlbGVjdE1vZGUgfSBmcm9tICdwYXlsb2FkL3NoYXJlZCc7XG5jb25zdCBhZGRGaWVsZFRvUHJvamVjdGlvbiA9ICh7IGFkYXB0ZXIsIGRhdGFiYXNlU2NoZW1hUGF0aCwgZmllbGQsIHByb2plY3Rpb24sIHdpdGhpbkxvY2FsaXplZEZpZWxkIH0pPT57XG4gICAgY29uc3QgeyBjb25maWcgfSA9IGFkYXB0ZXIucGF5bG9hZDtcbiAgICBpZiAod2l0aGluTG9jYWxpemVkRmllbGQgJiYgY29uZmlnLmxvY2FsaXphdGlvbikge1xuICAgICAgICBmb3IgKGNvbnN0IGxvY2FsZSBvZiBjb25maWcubG9jYWxpemF0aW9uLmxvY2FsZUNvZGVzKXtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsZURhdGFiYXNlU2NoZW1hUGF0aCA9IGRhdGFiYXNlU2NoZW1hUGF0aC5yZXBsYWNlKCc8bG9jYWxlPicsIGxvY2FsZSk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uW2Ake2xvY2FsZURhdGFiYXNlU2NoZW1hUGF0aH0ke2ZpZWxkLm5hbWV9YF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvamVjdGlvbltgJHtkYXRhYmFzZVNjaGVtYVBhdGh9JHtmaWVsZC5uYW1lfWBdID0gdHJ1ZTtcbiAgICB9XG59O1xuY29uc3QgdHJhdmVyc2VGaWVsZHMgPSAoeyBhZGFwdGVyLCBkYXRhYmFzZVNjaGVtYVBhdGggPSAnJywgZmllbGRzLCBwcm9qZWN0aW9uLCBzZWxlY3QsIHNlbGVjdEFsbE9uQ3VycmVudExldmVsID0gZmFsc2UsIHNlbGVjdE1vZGUsIHdpdGhpbkxvY2FsaXplZEZpZWxkID0gZmFsc2UgfSk9PntcbiAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcyl7XG4gICAgICAgIGlmIChmaWVsZEFmZmVjdHNEYXRhKGZpZWxkKSkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdE1vZGUgPT09ICdpbmNsdWRlJykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RbZmllbGQubmFtZV0gPT09IHRydWUgfHwgc2VsZWN0QWxsT25DdXJyZW50TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRmllbGRUb1Byb2plY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlU2NoZW1hUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhpbkxvY2FsaXplZEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RbZmllbGQubmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdE1vZGUgPT09ICdleGNsdWRlJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0W2ZpZWxkLm5hbWVdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBhZGRGaWVsZFRvUHJvamVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VTY2hlbWFQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2l0aGluTG9jYWxpemVkRmllbGRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0W2ZpZWxkLm5hbWVdID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZpZWxkRGF0YWJhc2VTY2hlbWFQYXRoID0gZGF0YWJhc2VTY2hlbWFQYXRoO1xuICAgICAgICBsZXQgZmllbGRXaXRoaW5Mb2NhbGl6ZWRGaWVsZCA9IHdpdGhpbkxvY2FsaXplZEZpZWxkO1xuICAgICAgICBpZiAoZmllbGRBZmZlY3RzRGF0YShmaWVsZCkpIHtcbiAgICAgICAgICAgIGZpZWxkRGF0YWJhc2VTY2hlbWFQYXRoID0gYCR7ZGF0YWJhc2VTY2hlbWFQYXRofSR7ZmllbGQubmFtZX0uYDtcbiAgICAgICAgICAgIGlmIChmaWVsZC5sb2NhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICBmaWVsZERhdGFiYXNlU2NoZW1hUGF0aCA9IGAke2ZpZWxkRGF0YWJhc2VTY2hlbWFQYXRofTxsb2NhbGU+LmA7XG4gICAgICAgICAgICAgICAgZmllbGRXaXRoaW5Mb2NhbGl6ZWRGaWVsZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoKGZpZWxkLnR5cGUpe1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgY2FzZSAndGFiJzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkU2VsZWN0ID0gc2VsZWN0W2ZpZWxkLm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2FycmF5JyAmJiBzZWxlY3RNb2RlID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkU2VsZWN0WydpZCddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VTY2hlbWFQYXRoOiBmaWVsZERhdGFiYXNlU2NoZW1hUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogZmllbGQuZmxhdHRlbmVkRmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDogZmllbGRTZWxlY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2l0aGluTG9jYWxpemVkRmllbGQ6IGZpZWxkV2l0aGluTG9jYWxpemVkRmllbGRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2Jsb2Nrcyc6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja3NTZWxlY3QgPSBzZWxlY3RbZmllbGQubmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYmxvY2sgb2YgZmllbGQuYmxvY2tzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RNb2RlID09PSAnaW5jbHVkZScgJiYgYmxvY2tzU2VsZWN0W2Jsb2NrLnNsdWddID09PSB0cnVlIHx8IHNlbGVjdE1vZGUgPT09ICdleGNsdWRlJyAmJiB0eXBlb2YgYmxvY2tzU2VsZWN0W2Jsb2NrLnNsdWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlRmllbGRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VTY2hlbWFQYXRoOiBmaWVsZERhdGFiYXNlU2NoZW1hUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBibG9jay5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEFsbE9uQ3VycmVudExldmVsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RNb2RlOiAnaW5jbHVkZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhpbkxvY2FsaXplZEZpZWxkOiBmaWVsZFdpdGhpbkxvY2FsaXplZEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmxvY2tTZWxlY3RNb2RlID0gc2VsZWN0TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RNb2RlID09PSAnZXhjbHVkZScgJiYgYmxvY2tzU2VsZWN0W2Jsb2NrLnNsdWddID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrU2VsZWN0TW9kZSA9ICdpbmNsdWRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYmxvY2tzU2VsZWN0W2Jsb2NrLnNsdWddICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1NlbGVjdFtibG9jay5zbHVnXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrU2VsZWN0TW9kZSA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzU2VsZWN0W2Jsb2NrLnNsdWddWydpZCddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NTZWxlY3RbYmxvY2suc2x1Z11bJ2Jsb2NrVHlwZSddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlRmllbGRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlU2NoZW1hUGF0aDogZmllbGREYXRhYmFzZVNjaGVtYVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBibG9jay5mbGF0dGVuZWRGaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IGJsb2Nrc1NlbGVjdFtibG9jay5zbHVnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RNb2RlOiBibG9ja1NlbGVjdE1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aGluTG9jYWxpemVkRmllbGQ6IGZpZWxkV2l0aGluTG9jYWxpemVkRmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGJ1aWxkUHJvamVjdGlvbkZyb21TZWxlY3QgPSAoeyBhZGFwdGVyLCBmaWVsZHMsIHNlbGVjdCB9KT0+e1xuICAgIGlmICghc2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHtcbiAgICAgICAgX2lkOiB0cnVlXG4gICAgfTtcbiAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgIGFkYXB0ZXIsXG4gICAgICAgIGZpZWxkcyxcbiAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgLy8gQ2xvbmUgdG8gc2FmZWx5IG11dGF0ZSBpdCBsYXRlclxuICAgICAgICBzZWxlY3Q6IGRlZXBDb3B5T2JqZWN0U2ltcGxlKHNlbGVjdCksXG4gICAgICAgIHNlbGVjdE1vZGU6IGdldFNlbGVjdE1vZGUoc2VsZWN0KVxuICAgIH0pO1xuICAgIHJldHVybiBwcm9qZWN0aW9uO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRQcm9qZWN0aW9uRnJvbVNlbGVjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/buildProjectionFromSelect.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getDBName.js":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getDBName.js ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDBName: () => (/* binding */ getDBName)\n/* harmony export */ });\n/**\n * Used to name database enums and collections\n * Returns the collection or enum name for a given entity\n */ const getDBName = ({ config: { name, slug }, config, target = 'dbName', versions = false })=>{\n    let result;\n    let custom = config[target];\n    if (!custom && target === 'enumName') {\n        custom = config['dbName'];\n    }\n    if (custom) {\n        result = typeof custom === 'function' ? custom({}) : custom;\n    } else {\n        result = name ?? slug;\n    }\n    if (versions) {\n        result = `_${result}_versions`;\n    }\n    return result;\n};\n\n//# sourceMappingURL=getDBName.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9nZXREQk5hbWUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLElBQVcscUJBQXFCLFVBQVUsWUFBWSwrQ0FBK0M7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pELE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC91dGlsaXRpZXMvZ2V0REJOYW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlZCB0byBuYW1lIGRhdGFiYXNlIGVudW1zIGFuZCBjb2xsZWN0aW9uc1xuICogUmV0dXJucyB0aGUgY29sbGVjdGlvbiBvciBlbnVtIG5hbWUgZm9yIGEgZ2l2ZW4gZW50aXR5XG4gKi8gZXhwb3J0IGNvbnN0IGdldERCTmFtZSA9ICh7IGNvbmZpZzogeyBuYW1lLCBzbHVnIH0sIGNvbmZpZywgdGFyZ2V0ID0gJ2RiTmFtZScsIHZlcnNpb25zID0gZmFsc2UgfSk9PntcbiAgICBsZXQgcmVzdWx0O1xuICAgIGxldCBjdXN0b20gPSBjb25maWdbdGFyZ2V0XTtcbiAgICBpZiAoIWN1c3RvbSAmJiB0YXJnZXQgPT09ICdlbnVtTmFtZScpIHtcbiAgICAgICAgY3VzdG9tID0gY29uZmlnWydkYk5hbWUnXTtcbiAgICB9XG4gICAgaWYgKGN1c3RvbSkge1xuICAgICAgICByZXN1bHQgPSB0eXBlb2YgY3VzdG9tID09PSAnZnVuY3Rpb24nID8gY3VzdG9tKHt9KSA6IGN1c3RvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBuYW1lID8/IHNsdWc7XG4gICAgfVxuICAgIGlmICh2ZXJzaW9ucykge1xuICAgICAgICByZXN1bHQgPSBgXyR7cmVzdWx0fV92ZXJzaW9uc2A7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXREQk5hbWUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getDBName.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSession: () => (/* binding */ getSession)\n/* harmony export */ });\n/**\n * returns the session belonging to the transaction of the req.session if exists\n * @returns ClientSession\n */ async function getSession(db, req) {\n    if (!req) {\n        return;\n    }\n    let transactionID = req.transactionID;\n    if (transactionID instanceof Promise) {\n        transactionID = await req.transactionID;\n    }\n    if (transactionID) {\n        return db.sessions[transactionID];\n    }\n}\n\n//# sourceMappingURL=getSession.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9nZXRTZXNzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogcmV0dXJucyB0aGUgc2Vzc2lvbiBiZWxvbmdpbmcgdG8gdGhlIHRyYW5zYWN0aW9uIG9mIHRoZSByZXEuc2Vzc2lvbiBpZiBleGlzdHNcbiAqIEByZXR1cm5zIENsaWVudFNlc3Npb25cbiAqLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2Vzc2lvbihkYiwgcmVxKSB7XG4gICAgaWYgKCFyZXEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdHJhbnNhY3Rpb25JRCA9IHJlcS50cmFuc2FjdGlvbklEO1xuICAgIGlmICh0cmFuc2FjdGlvbklEIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB0cmFuc2FjdGlvbklEID0gYXdhaXQgcmVxLnRyYW5zYWN0aW9uSUQ7XG4gICAgfVxuICAgIGlmICh0cmFuc2FjdGlvbklEKSB7XG4gICAgICAgIHJldHVybiBkYi5zZXNzaW9uc1t0cmFuc2FjdGlvbklEXTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFNlc3Npb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/getSession.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleError: () => (/* binding */ handleError)\n/* harmony export */ });\n/* harmony import */ var http_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http-status */ \"(rsc)/../node_modules/.pnpm/http-status@1.6.2/node_modules/http-status/lib/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/errors/ValidationError.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/errors/APIError.js\");\n\n\nconst handleError = ({ collection, error, global, req })=>{\n    if (!error || typeof error !== 'object') {\n        throw error;\n    }\n    const message = req?.t ? req.t('error:valueMustBeUnique') : 'Value must be unique';\n    // Handle uniqueness error from MongoDB\n    if ('code' in error && error.code === 11000 && 'keyValue' in error && error.keyValue) {\n        throw new payload__WEBPACK_IMPORTED_MODULE_1__.ValidationError({\n            collection,\n            errors: [\n                {\n                    message,\n                    path: Object.keys(error.keyValue)[0]\n                }\n            ],\n            global\n        }, req?.t);\n    }\n    throw new payload__WEBPACK_IMPORTED_MODULE_2__.APIError(message, http_status__WEBPACK_IMPORTED_MODULE_0__.BAD_REQUEST);\n};\n\n//# sourceMappingURL=handleError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9oYW5kbGVFcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFDO0FBQ2U7QUFDN0MsdUJBQXVCLGdDQUFnQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0RBQWU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGNBQWMsNkNBQVEsVUFBVSxvREFBc0I7QUFDdEQ7O0FBRUEiLCJzb3VyY2VzIjpbIi9ob21lL3BhdWwvcHJvamVjdHMvcGF5bG9hZC9wbHVnaW4tZGV2ZWxvcG1lbnQvYmV0dGVyLWZpZWxkcy9naXRyb290L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytkYi1tb25nb2RiQDMuMTEuMF9wYXlsb2FkQDMuMTEuMF9ncmFwaHFsQDE2LjEwLjBfbW9uYWNvLWVkaXRvckAwLjUyLjJfcmVhY3QtZG9tQDFfdnlmYnNlcnlxdDU3dzVuanIyaHIzcGo1cmEvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL2RiLW1vbmdvZGIvZGlzdC91dGlsaXRpZXMvaGFuZGxlRXJyb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGh0dHBTdGF0dXMgZnJvbSAnaHR0cC1zdGF0dXMnO1xuaW1wb3J0IHsgQVBJRXJyb3IsIFZhbGlkYXRpb25FcnJvciB9IGZyb20gJ3BheWxvYWQnO1xuZXhwb3J0IGNvbnN0IGhhbmRsZUVycm9yID0gKHsgY29sbGVjdGlvbiwgZXJyb3IsIGdsb2JhbCwgcmVxIH0pPT57XG4gICAgaWYgKCFlcnJvciB8fCB0eXBlb2YgZXJyb3IgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlID0gcmVxPy50ID8gcmVxLnQoJ2Vycm9yOnZhbHVlTXVzdEJlVW5pcXVlJykgOiAnVmFsdWUgbXVzdCBiZSB1bmlxdWUnO1xuICAgIC8vIEhhbmRsZSB1bmlxdWVuZXNzIGVycm9yIGZyb20gTW9uZ29EQlxuICAgIGlmICgnY29kZScgaW4gZXJyb3IgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDAgJiYgJ2tleVZhbHVlJyBpbiBlcnJvciAmJiBlcnJvci5rZXlWYWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IE9iamVjdC5rZXlzKGVycm9yLmtleVZhbHVlKVswXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBnbG9iYWxcbiAgICAgICAgfSwgcmVxPy50KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEFQSUVycm9yKG1lc3NhZ2UsIGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QpO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFuZGxlRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/handleError.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeInternalFields: () => (/* binding */ sanitizeInternalFields)\n/* harmony export */ });\nconst internalFields = [\n    '__v'\n];\nconst sanitizeInternalFields = (incomingDoc)=>Object.entries(incomingDoc).reduce((newDoc, [key, val])=>{\n        if (key === '_id') {\n            return {\n                ...newDoc,\n                id: val\n            };\n        }\n        if (internalFields.indexOf(key) > -1) {\n            return newDoc;\n        }\n        return {\n            ...newDoc,\n            [key]: val\n        };\n    }, {});\n\n//# sourceMappingURL=sanitizeInternalFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJOztBQUVUIiwic291cmNlcyI6WyIvaG9tZS9wYXVsL3Byb2plY3RzL3BheWxvYWQvcGx1Z2luLWRldmVsb3BtZW50L2JldHRlci1maWVsZHMvZ2l0cm9vdC9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrZGItbW9uZ29kYkAzLjExLjBfcGF5bG9hZEAzLjExLjBfZ3JhcGhxbEAxNi4xMC4wX21vbmFjby1lZGl0b3JAMC41Mi4yX3JlYWN0LWRvbUAxX3Z5ZmJzZXJ5cXQ1N3c1bmpyMmhyM3BqNXJhL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9kYi1tb25nb2RiL2Rpc3QvdXRpbGl0aWVzL3Nhbml0aXplSW50ZXJuYWxGaWVsZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaW50ZXJuYWxGaWVsZHMgPSBbXG4gICAgJ19fdidcbl07XG5leHBvcnQgY29uc3Qgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyA9IChpbmNvbWluZ0RvYyk9Pk9iamVjdC5lbnRyaWVzKGluY29taW5nRG9jKS5yZWR1Y2UoKG5ld0RvYywgW2tleSwgdmFsXSk9PntcbiAgICAgICAgaWYgKGtleSA9PT0gJ19pZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ubmV3RG9jLFxuICAgICAgICAgICAgICAgIGlkOiB2YWxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVybmFsRmllbGRzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3RG9jO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5uZXdEb2MsXG4gICAgICAgICAgICBba2V5XTogdmFsXG4gICAgICAgIH07XG4gICAgfSwge30pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW5pdGl6ZUludGVybmFsRmllbGRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeInternalFields.js\n");

/***/ }),

/***/ "(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeRelationshipIDs: () => (/* binding */ sanitizeRelationshipIDs)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"(rsc)/../node_modules/.pnpm/mongoose@8.8.3/node_modules/mongoose/index.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/utilities/traverseFields.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/../node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/fields/config/types.js\");\n\n\n\nfunction isValidRelationObject(value) {\n    return typeof value === 'object' && value !== null && 'relationTo' in value && 'value' in value;\n}\nconst convertValue = ({ relatedCollection, value })=>{\n    const customIDField = relatedCollection.fields.find((field)=>(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && field.name === 'id');\n    if (customIDField) {\n        return value;\n    }\n    try {\n        return new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(value);\n    } catch  {\n        return value;\n    }\n};\nconst sanitizeRelationship = ({ config, field, locale, ref, value })=>{\n    let relatedCollection;\n    let result = value;\n    const hasManyRelations = typeof field.relationTo !== 'string';\n    if (!hasManyRelations) {\n        relatedCollection = config.collections?.find(({ slug })=>slug === field.relationTo);\n    }\n    if (Array.isArray(value)) {\n        result = value.map((val)=>{\n            // Handle has many\n            if (relatedCollection && val && (typeof val === 'string' || typeof val === 'number')) {\n                return convertValue({\n                    relatedCollection,\n                    value: val\n                });\n            }\n            // Handle has many - polymorphic\n            if (isValidRelationObject(val)) {\n                const relatedCollectionForSingleValue = config.collections?.find(({ slug })=>slug === val.relationTo);\n                if (relatedCollectionForSingleValue) {\n                    return {\n                        relationTo: val.relationTo,\n                        value: convertValue({\n                            relatedCollection: relatedCollectionForSingleValue,\n                            value: val.value\n                        })\n                    };\n                }\n            }\n            return val;\n        });\n    }\n    // Handle has one - polymorphic\n    if (isValidRelationObject(value)) {\n        relatedCollection = config.collections?.find(({ slug })=>slug === value.relationTo);\n        if (relatedCollection) {\n            result = {\n                relationTo: value.relationTo,\n                value: convertValue({\n                    relatedCollection,\n                    value: value.value\n                })\n            };\n        }\n    }\n    // Handle has one\n    if (relatedCollection && value && (typeof value === 'string' || typeof value === 'number')) {\n        result = convertValue({\n            relatedCollection,\n            value\n        });\n    }\n    if (locale) {\n        ref[locale] = result;\n    } else {\n        ref[field.name] = result;\n    }\n};\nconst sanitizeRelationshipIDs = ({ config, data, fields })=>{\n    const sanitize = ({ field, ref })=>{\n        if (!ref || typeof ref !== 'object') {\n            return;\n        }\n        if (field.type === 'relationship' || field.type === 'upload') {\n            if (!ref[field.name]) {\n                return;\n            }\n            // handle localized relationships\n            if (config.localization && field.localized) {\n                const locales = config.localization.locales;\n                const fieldRef = ref[field.name];\n                if (typeof fieldRef !== 'object') {\n                    return;\n                }\n                for (const { code } of locales){\n                    const value = ref[field.name][code];\n                    if (value) {\n                        sanitizeRelationship({\n                            config,\n                            field,\n                            locale: code,\n                            ref: fieldRef,\n                            value\n                        });\n                    }\n                }\n            } else {\n                // handle non-localized relationships\n                sanitizeRelationship({\n                    config,\n                    field,\n                    locale: undefined,\n                    ref,\n                    value: ref[field.name]\n                });\n            }\n        }\n    };\n    (0,payload__WEBPACK_IMPORTED_MODULE_2__.traverseFields)({\n        callback: sanitize,\n        fields,\n        fillEmpty: false,\n        ref: data\n    });\n    return data;\n};\n\n//# sourceMappingURL=sanitizeRelationshipIDs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlDO0FBQ1E7QUFDUztBQUNsRDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCO0FBQ2xELGlFQUFpRSxnRUFBZ0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkNBQUs7QUFDeEIsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtQ0FBbUM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsTUFBTTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixNQUFNO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsTUFBTTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ08sbUNBQW1DLHNCQUFzQjtBQUNoRSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLE9BQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLElBQUksdURBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL2hvbWUvcGF1bC9wcm9qZWN0cy9wYXlsb2FkL3BsdWdpbi1kZXZlbG9wbWVudC9iZXR0ZXItZmllbGRzL2dpdHJvb3Qvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2RiLW1vbmdvZGJAMy4xMS4wX3BheWxvYWRAMy4xMS4wX2dyYXBocWxAMTYuMTAuMF9tb25hY28tZWRpdG9yQDAuNTIuMl9yZWFjdC1kb21AMV92eWZic2VyeXF0NTd3NW5qcjJocjNwajVyYS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZGItbW9uZ29kYi9kaXN0L3V0aWxpdGllcy9zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlcyB9IGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB7IHRyYXZlcnNlRmllbGRzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuZnVuY3Rpb24gaXNWYWxpZFJlbGF0aW9uT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgJ3JlbGF0aW9uVG8nIGluIHZhbHVlICYmICd2YWx1ZScgaW4gdmFsdWU7XG59XG5jb25zdCBjb252ZXJ0VmFsdWUgPSAoeyByZWxhdGVkQ29sbGVjdGlvbiwgdmFsdWUgfSk9PntcbiAgICBjb25zdCBjdXN0b21JREZpZWxkID0gcmVsYXRlZENvbGxlY3Rpb24uZmllbGRzLmZpbmQoKGZpZWxkKT0+ZmllbGRBZmZlY3RzRGF0YShmaWVsZCkgJiYgZmllbGQubmFtZSA9PT0gJ2lkJyk7XG4gICAgaWYgKGN1c3RvbUlERmllbGQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVzLk9iamVjdElkKHZhbHVlKTtcbiAgICB9IGNhdGNoICB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuY29uc3Qgc2FuaXRpemVSZWxhdGlvbnNoaXAgPSAoeyBjb25maWcsIGZpZWxkLCBsb2NhbGUsIHJlZiwgdmFsdWUgfSk9PntcbiAgICBsZXQgcmVsYXRlZENvbGxlY3Rpb247XG4gICAgbGV0IHJlc3VsdCA9IHZhbHVlO1xuICAgIGNvbnN0IGhhc01hbnlSZWxhdGlvbnMgPSB0eXBlb2YgZmllbGQucmVsYXRpb25UbyAhPT0gJ3N0cmluZyc7XG4gICAgaWYgKCFoYXNNYW55UmVsYXRpb25zKSB7XG4gICAgICAgIHJlbGF0ZWRDb2xsZWN0aW9uID0gY29uZmlnLmNvbGxlY3Rpb25zPy5maW5kKCh7IHNsdWcgfSk9PnNsdWcgPT09IGZpZWxkLnJlbGF0aW9uVG8pO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWUubWFwKCh2YWwpPT57XG4gICAgICAgICAgICAvLyBIYW5kbGUgaGFzIG1hbnlcbiAgICAgICAgICAgIGlmIChyZWxhdGVkQ29sbGVjdGlvbiAmJiB2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJ0VmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICByZWxhdGVkQ29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlIGhhcyBtYW55IC0gcG9seW1vcnBoaWNcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkUmVsYXRpb25PYmplY3QodmFsKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0ZWRDb2xsZWN0aW9uRm9yU2luZ2xlVmFsdWUgPSBjb25maWcuY29sbGVjdGlvbnM/LmZpbmQoKHsgc2x1ZyB9KT0+c2x1ZyA9PT0gdmFsLnJlbGF0aW9uVG8pO1xuICAgICAgICAgICAgICAgIGlmIChyZWxhdGVkQ29sbGVjdGlvbkZvclNpbmdsZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvblRvOiB2YWwucmVsYXRpb25UbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb252ZXJ0VmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRDb2xsZWN0aW9uOiByZWxhdGVkQ29sbGVjdGlvbkZvclNpbmdsZVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBoYXMgb25lIC0gcG9seW1vcnBoaWNcbiAgICBpZiAoaXNWYWxpZFJlbGF0aW9uT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZWxhdGVkQ29sbGVjdGlvbiA9IGNvbmZpZy5jb2xsZWN0aW9ucz8uZmluZCgoeyBzbHVnIH0pPT5zbHVnID09PSB2YWx1ZS5yZWxhdGlvblRvKTtcbiAgICAgICAgaWYgKHJlbGF0ZWRDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb25UbzogdmFsdWUucmVsYXRpb25UbyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29udmVydFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZENvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS52YWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEhhbmRsZSBoYXMgb25lXG4gICAgaWYgKHJlbGF0ZWRDb2xsZWN0aW9uICYmIHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgIHJlc3VsdCA9IGNvbnZlcnRWYWx1ZSh7XG4gICAgICAgICAgICByZWxhdGVkQ29sbGVjdGlvbixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgIHJlZltsb2NhbGVdID0gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZltmaWVsZC5uYW1lXSA9IHJlc3VsdDtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHNhbml0aXplUmVsYXRpb25zaGlwSURzID0gKHsgY29uZmlnLCBkYXRhLCBmaWVsZHMgfSk9PntcbiAgICBjb25zdCBzYW5pdGl6ZSA9ICh7IGZpZWxkLCByZWYgfSk9PntcbiAgICAgICAgaWYgKCFyZWYgfHwgdHlwZW9mIHJlZiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3JlbGF0aW9uc2hpcCcgfHwgZmllbGQudHlwZSA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICAgIGlmICghcmVmW2ZpZWxkLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaGFuZGxlIGxvY2FsaXplZCByZWxhdGlvbnNoaXBzXG4gICAgICAgICAgICBpZiAoY29uZmlnLmxvY2FsaXphdGlvbiAmJiBmaWVsZC5sb2NhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbGVzID0gY29uZmlnLmxvY2FsaXphdGlvbi5sb2NhbGVzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkUmVmID0gcmVmW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGRSZWYgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB7IGNvZGUgfSBvZiBsb2NhbGVzKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZWZbZmllbGQubmFtZV1bY29kZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FuaXRpemVSZWxhdGlvbnNoaXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGU6IGNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiBmaWVsZFJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBub24tbG9jYWxpemVkIHJlbGF0aW9uc2hpcHNcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZVJlbGF0aW9uc2hpcCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICByZWYsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZWZbZmllbGQubmFtZV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdHJhdmVyc2VGaWVsZHMoe1xuICAgICAgICBjYWxsYmFjazogc2FuaXRpemUsXG4gICAgICAgIGZpZWxkcyxcbiAgICAgICAgZmlsbEVtcHR5OiBmYWxzZSxcbiAgICAgICAgcmVmOiBkYXRhXG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW5pdGl6ZVJlbGF0aW9uc2hpcElEcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/.pnpm/@payloadcms+db-mongodb@3.11.0_payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@1_vyfbseryqt57w5njr2hr3pj5ra/node_modules/@payloadcms/db-mongodb/dist/utilities/sanitizeRelationshipIDs.js\n");

/***/ })

};
;